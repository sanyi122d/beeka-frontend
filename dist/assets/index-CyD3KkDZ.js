function G2(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var Pi=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Mh(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Q1={exports:{}},Fh={},Y1={exports:{}},Se={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jl=Symbol.for("react.element"),K2=Symbol.for("react.portal"),Q2=Symbol.for("react.fragment"),Y2=Symbol.for("react.strict_mode"),J2=Symbol.for("react.profiler"),X2=Symbol.for("react.provider"),Z2=Symbol.for("react.context"),eI=Symbol.for("react.forward_ref"),tI=Symbol.for("react.suspense"),nI=Symbol.for("react.memo"),rI=Symbol.for("react.lazy"),Vv=Symbol.iterator;function iI(t){return t===null||typeof t!="object"?null:(t=Vv&&t[Vv]||t["@@iterator"],typeof t=="function"?t:null)}var J1={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},X1=Object.assign,Z1={};function Zo(t,e,n){this.props=t,this.context=e,this.refs=Z1,this.updater=n||J1}Zo.prototype.isReactComponent={};Zo.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Zo.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function e_(){}e_.prototype=Zo.prototype;function Pm(t,e,n){this.props=t,this.context=e,this.refs=Z1,this.updater=n||J1}var Rm=Pm.prototype=new e_;Rm.constructor=Pm;X1(Rm,Zo.prototype);Rm.isPureReactComponent=!0;var zv=Array.isArray,t_=Object.prototype.hasOwnProperty,jm={current:null},n_={key:!0,ref:!0,__self:!0,__source:!0};function r_(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)t_.call(e,r)&&!n_.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Jl,type:t,key:s,ref:o,props:i,_owner:jm.current}}function sI(t,e){return{$$typeof:Jl,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Dm(t){return typeof t=="object"&&t!==null&&t.$$typeof===Jl}function oI(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Uv=/\/+/g;function $d(t,e){return typeof t=="object"&&t!==null&&t.key!=null?oI(""+t.key):e.toString(36)}function uc(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Jl:case K2:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+$d(o,0):r,zv(i)?(n="",t!=null&&(n=t.replace(Uv,"$&/")+"/"),uc(i,e,n,"",function(u){return u})):i!=null&&(Dm(i)&&(i=sI(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Uv,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",zv(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+$d(s,a);o+=uc(s,e,n,l,i)}else if(l=iI(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+$d(s,a++),o+=uc(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function ju(t,e,n){if(t==null)return t;var r=[],i=0;return uc(t,r,"","",function(s){return e.call(n,s,i++)}),r}function aI(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var tn={current:null},cc={transition:null},lI={ReactCurrentDispatcher:tn,ReactCurrentBatchConfig:cc,ReactCurrentOwner:jm};function i_(){throw Error("act(...) is not supported in production builds of React.")}Se.Children={map:ju,forEach:function(t,e,n){ju(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return ju(t,function(){e++}),e},toArray:function(t){return ju(t,function(e){return e})||[]},only:function(t){if(!Dm(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Se.Component=Zo;Se.Fragment=Q2;Se.Profiler=J2;Se.PureComponent=Pm;Se.StrictMode=Y2;Se.Suspense=tI;Se.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=lI;Se.act=i_;Se.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=X1({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=jm.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)t_.call(e,l)&&!n_.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:Jl,type:t.type,key:i,ref:s,props:r,_owner:o}};Se.createContext=function(t){return t={$$typeof:Z2,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:X2,_context:t},t.Consumer=t};Se.createElement=r_;Se.createFactory=function(t){var e=r_.bind(null,t);return e.type=t,e};Se.createRef=function(){return{current:null}};Se.forwardRef=function(t){return{$$typeof:eI,render:t}};Se.isValidElement=Dm;Se.lazy=function(t){return{$$typeof:rI,_payload:{_status:-1,_result:t},_init:aI}};Se.memo=function(t,e){return{$$typeof:nI,type:t,compare:e===void 0?null:e}};Se.startTransition=function(t){var e=cc.transition;cc.transition={};try{t()}finally{cc.transition=e}};Se.unstable_act=i_;Se.useCallback=function(t,e){return tn.current.useCallback(t,e)};Se.useContext=function(t){return tn.current.useContext(t)};Se.useDebugValue=function(){};Se.useDeferredValue=function(t){return tn.current.useDeferredValue(t)};Se.useEffect=function(t,e){return tn.current.useEffect(t,e)};Se.useId=function(){return tn.current.useId()};Se.useImperativeHandle=function(t,e,n){return tn.current.useImperativeHandle(t,e,n)};Se.useInsertionEffect=function(t,e){return tn.current.useInsertionEffect(t,e)};Se.useLayoutEffect=function(t,e){return tn.current.useLayoutEffect(t,e)};Se.useMemo=function(t,e){return tn.current.useMemo(t,e)};Se.useReducer=function(t,e,n){return tn.current.useReducer(t,e,n)};Se.useRef=function(t){return tn.current.useRef(t)};Se.useState=function(t){return tn.current.useState(t)};Se.useSyncExternalStore=function(t,e,n){return tn.current.useSyncExternalStore(t,e,n)};Se.useTransition=function(){return tn.current.useTransition()};Se.version="18.3.1";Y1.exports=Se;var M=Y1.exports;const ar=Mh(M),uI=G2({__proto__:null,default:ar},[M]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cI=M,hI=Symbol.for("react.element"),dI=Symbol.for("react.fragment"),fI=Object.prototype.hasOwnProperty,pI=cI.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,mI={key:!0,ref:!0,__self:!0,__source:!0};function s_(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)fI.call(e,r)&&!mI.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:hI,type:t,key:s,ref:o,props:i,_owner:pI.current}}Fh.Fragment=dI;Fh.jsx=s_;Fh.jsxs=s_;Q1.exports=Fh;var d=Q1.exports,Bf={},o_={exports:{}},bn={},a_={exports:{}},l_={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(U,Y){var R=U.length;U.push(Y);e:for(;0<R;){var J=R-1>>>1,ne=U[J];if(0<i(ne,Y))U[J]=Y,U[R]=ne,R=J;else break e}}function n(U){return U.length===0?null:U[0]}function r(U){if(U.length===0)return null;var Y=U[0],R=U.pop();if(R!==Y){U[0]=R;e:for(var J=0,ne=U.length,L=ne>>>1;J<L;){var ge=2*(J+1)-1,Ae=U[ge],he=ge+1,X=U[he];if(0>i(Ae,R))he<ne&&0>i(X,Ae)?(U[J]=X,U[he]=R,J=he):(U[J]=Ae,U[ge]=R,J=ge);else if(he<ne&&0>i(X,R))U[J]=X,U[he]=R,J=he;else break e}}return Y}function i(U,Y){var R=U.sortIndex-Y.sortIndex;return R!==0?R:U.id-Y.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],h=1,f=null,p=3,g=!1,w=!1,T=!1,I=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(U){for(var Y=n(u);Y!==null;){if(Y.callback===null)r(u);else if(Y.startTime<=U)r(u),Y.sortIndex=Y.expirationTime,e(l,Y);else break;Y=n(u)}}function N(U){if(T=!1,x(U),!w)if(n(l)!==null)w=!0,le(O);else{var Y=n(u);Y!==null&&se(N,Y.startTime-U)}}function O(U,Y){w=!1,T&&(T=!1,_(b),b=-1),g=!0;var R=p;try{for(x(Y),f=n(l);f!==null&&(!(f.expirationTime>Y)||U&&!j());){var J=f.callback;if(typeof J=="function"){f.callback=null,p=f.priorityLevel;var ne=J(f.expirationTime<=Y);Y=t.unstable_now(),typeof ne=="function"?f.callback=ne:f===n(l)&&r(l),x(Y)}else r(l);f=n(l)}if(f!==null)var L=!0;else{var ge=n(u);ge!==null&&se(N,ge.startTime-Y),L=!1}return L}finally{f=null,p=R,g=!1}}var A=!1,k=null,b=-1,S=5,E=-1;function j(){return!(t.unstable_now()-E<S)}function D(){if(k!==null){var U=t.unstable_now();E=U;var Y=!0;try{Y=k(!0,U)}finally{Y?P():(A=!1,k=null)}}else A=!1}var P;if(typeof v=="function")P=function(){v(D)};else if(typeof MessageChannel<"u"){var q=new MessageChannel,G=q.port2;q.port1.onmessage=D,P=function(){G.postMessage(null)}}else P=function(){I(D,0)};function le(U){k=U,A||(A=!0,P())}function se(U,Y){b=I(function(){U(t.unstable_now())},Y)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(U){U.callback=null},t.unstable_continueExecution=function(){w||g||(w=!0,le(O))},t.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<U?Math.floor(1e3/U):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(U){switch(p){case 1:case 2:case 3:var Y=3;break;default:Y=p}var R=p;p=Y;try{return U()}finally{p=R}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(U,Y){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var R=p;p=U;try{return Y()}finally{p=R}},t.unstable_scheduleCallback=function(U,Y,R){var J=t.unstable_now();switch(typeof R=="object"&&R!==null?(R=R.delay,R=typeof R=="number"&&0<R?J+R:J):R=J,U){case 1:var ne=-1;break;case 2:ne=250;break;case 5:ne=1073741823;break;case 4:ne=1e4;break;default:ne=5e3}return ne=R+ne,U={id:h++,callback:Y,priorityLevel:U,startTime:R,expirationTime:ne,sortIndex:-1},R>J?(U.sortIndex=R,e(u,U),n(l)===null&&U===n(u)&&(T?(_(b),b=-1):T=!0,se(N,R-J))):(U.sortIndex=ne,e(l,U),w||g||(w=!0,le(O))),U},t.unstable_shouldYield=j,t.unstable_wrapCallback=function(U){var Y=p;return function(){var R=p;p=Y;try{return U.apply(this,arguments)}finally{p=R}}}})(l_);a_.exports=l_;var gI=a_.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yI=M,En=gI;function K(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var u_=new Set,gl={};function Os(t,e){Oo(t,e),Oo(t+"Capture",e)}function Oo(t,e){for(gl[t]=e,t=0;t<e.length;t++)u_.add(e[t])}var Dr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Hf=Object.prototype.hasOwnProperty,vI=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,$v={},Bv={};function xI(t){return Hf.call(Bv,t)?!0:Hf.call($v,t)?!1:vI.test(t)?Bv[t]=!0:($v[t]=!0,!1)}function wI(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function _I(t,e,n,r){if(e===null||typeof e>"u"||wI(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function nn(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Pt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Pt[t]=new nn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Pt[e]=new nn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Pt[t]=new nn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Pt[t]=new nn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Pt[t]=new nn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Pt[t]=new nn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Pt[t]=new nn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Pt[t]=new nn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Pt[t]=new nn(t,5,!1,t.toLowerCase(),null,!1,!1)});var Om=/[\-:]([a-z])/g;function Lm(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Om,Lm);Pt[e]=new nn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Om,Lm);Pt[e]=new nn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Om,Lm);Pt[e]=new nn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Pt[t]=new nn(t,1,!1,t.toLowerCase(),null,!1,!1)});Pt.xlinkHref=new nn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Pt[t]=new nn(t,1,!1,t.toLowerCase(),null,!0,!0)});function Mm(t,e,n,r){var i=Pt.hasOwnProperty(e)?Pt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(_I(e,n,i,r)&&(n=null),r||i===null?xI(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Br=yI.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Du=Symbol.for("react.element"),uo=Symbol.for("react.portal"),co=Symbol.for("react.fragment"),Fm=Symbol.for("react.strict_mode"),qf=Symbol.for("react.profiler"),c_=Symbol.for("react.provider"),h_=Symbol.for("react.context"),Vm=Symbol.for("react.forward_ref"),Wf=Symbol.for("react.suspense"),Gf=Symbol.for("react.suspense_list"),zm=Symbol.for("react.memo"),ni=Symbol.for("react.lazy"),d_=Symbol.for("react.offscreen"),Hv=Symbol.iterator;function Ia(t){return t===null||typeof t!="object"?null:(t=Hv&&t[Hv]||t["@@iterator"],typeof t=="function"?t:null)}var nt=Object.assign,Bd;function Fa(t){if(Bd===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Bd=e&&e[1]||""}return`
`+Bd+t}var Hd=!1;function qd(t,e){if(!t||Hd)return"";Hd=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Hd=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Fa(t):""}function EI(t){switch(t.tag){case 5:return Fa(t.type);case 16:return Fa("Lazy");case 13:return Fa("Suspense");case 19:return Fa("SuspenseList");case 0:case 2:case 15:return t=qd(t.type,!1),t;case 11:return t=qd(t.type.render,!1),t;case 1:return t=qd(t.type,!0),t;default:return""}}function Kf(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case co:return"Fragment";case uo:return"Portal";case qf:return"Profiler";case Fm:return"StrictMode";case Wf:return"Suspense";case Gf:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case h_:return(t.displayName||"Context")+".Consumer";case c_:return(t._context.displayName||"Context")+".Provider";case Vm:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case zm:return e=t.displayName||null,e!==null?e:Kf(t.type)||"Memo";case ni:e=t._payload,t=t._init;try{return Kf(t(e))}catch{}}return null}function bI(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Kf(e);case 8:return e===Fm?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Ri(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function f_(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function kI(t){var e=f_(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Ou(t){t._valueTracker||(t._valueTracker=kI(t))}function p_(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=f_(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Lc(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Qf(t,e){var n=e.checked;return nt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function qv(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Ri(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function m_(t,e){e=e.checked,e!=null&&Mm(t,"checked",e,!1)}function Yf(t,e){m_(t,e);var n=Ri(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Jf(t,e.type,n):e.hasOwnProperty("defaultValue")&&Jf(t,e.type,Ri(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Wv(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Jf(t,e,n){(e!=="number"||Lc(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Va=Array.isArray;function ko(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Ri(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Xf(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(K(91));return nt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Gv(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(K(92));if(Va(n)){if(1<n.length)throw Error(K(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Ri(n)}}function g_(t,e){var n=Ri(e.value),r=Ri(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Kv(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function y_(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Zf(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?y_(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Lu,v_=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Lu=Lu||document.createElement("div"),Lu.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Lu.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function yl(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Ya={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},SI=["Webkit","ms","Moz","O"];Object.keys(Ya).forEach(function(t){SI.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Ya[e]=Ya[t]})});function x_(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Ya.hasOwnProperty(t)&&Ya[t]?(""+e).trim():e+"px"}function w_(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=x_(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var TI=nt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ep(t,e){if(e){if(TI[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(K(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(K(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(K(61))}if(e.style!=null&&typeof e.style!="object")throw Error(K(62))}}function tp(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var np=null;function Um(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var rp=null,So=null,To=null;function Qv(t){if(t=eu(t)){if(typeof rp!="function")throw Error(K(280));var e=t.stateNode;e&&(e=Bh(e),rp(t.stateNode,t.type,e))}}function __(t){So?To?To.push(t):To=[t]:So=t}function E_(){if(So){var t=So,e=To;if(To=So=null,Qv(t),e)for(t=0;t<e.length;t++)Qv(e[t])}}function b_(t,e){return t(e)}function k_(){}var Wd=!1;function S_(t,e,n){if(Wd)return t(e,n);Wd=!0;try{return b_(t,e,n)}finally{Wd=!1,(So!==null||To!==null)&&(k_(),E_())}}function vl(t,e){var n=t.stateNode;if(n===null)return null;var r=Bh(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(K(231,e,typeof n));return n}var ip=!1;if(Dr)try{var Ca={};Object.defineProperty(Ca,"passive",{get:function(){ip=!0}}),window.addEventListener("test",Ca,Ca),window.removeEventListener("test",Ca,Ca)}catch{ip=!1}function II(t,e,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(h){this.onError(h)}}var Ja=!1,Mc=null,Fc=!1,sp=null,CI={onError:function(t){Ja=!0,Mc=t}};function AI(t,e,n,r,i,s,o,a,l){Ja=!1,Mc=null,II.apply(CI,arguments)}function NI(t,e,n,r,i,s,o,a,l){if(AI.apply(this,arguments),Ja){if(Ja){var u=Mc;Ja=!1,Mc=null}else throw Error(K(198));Fc||(Fc=!0,sp=u)}}function Ls(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function T_(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Yv(t){if(Ls(t)!==t)throw Error(K(188))}function PI(t){var e=t.alternate;if(!e){if(e=Ls(t),e===null)throw Error(K(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Yv(i),t;if(s===r)return Yv(i),e;s=s.sibling}throw Error(K(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(K(189))}}if(n.alternate!==r)throw Error(K(190))}if(n.tag!==3)throw Error(K(188));return n.stateNode.current===n?t:e}function I_(t){return t=PI(t),t!==null?C_(t):null}function C_(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=C_(t);if(e!==null)return e;t=t.sibling}return null}var A_=En.unstable_scheduleCallback,Jv=En.unstable_cancelCallback,RI=En.unstable_shouldYield,jI=En.unstable_requestPaint,at=En.unstable_now,DI=En.unstable_getCurrentPriorityLevel,$m=En.unstable_ImmediatePriority,N_=En.unstable_UserBlockingPriority,Vc=En.unstable_NormalPriority,OI=En.unstable_LowPriority,P_=En.unstable_IdlePriority,Vh=null,ur=null;function LI(t){if(ur&&typeof ur.onCommitFiberRoot=="function")try{ur.onCommitFiberRoot(Vh,t,void 0,(t.current.flags&128)===128)}catch{}}var Yn=Math.clz32?Math.clz32:VI,MI=Math.log,FI=Math.LN2;function VI(t){return t>>>=0,t===0?32:31-(MI(t)/FI|0)|0}var Mu=64,Fu=4194304;function za(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function zc(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=za(a):(s&=o,s!==0&&(r=za(s)))}else o=n&~i,o!==0?r=za(o):s!==0&&(r=za(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Yn(e),i=1<<n,r|=t[n],e&=~i;return r}function zI(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function UI(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Yn(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=zI(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function op(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function R_(){var t=Mu;return Mu<<=1,!(Mu&4194240)&&(Mu=64),t}function Gd(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Xl(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Yn(e),t[e]=n}function $I(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Yn(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function Bm(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Yn(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Fe=0;function j_(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var D_,Hm,O_,L_,M_,ap=!1,Vu=[],gi=null,yi=null,vi=null,xl=new Map,wl=new Map,si=[],BI="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Xv(t,e){switch(t){case"focusin":case"focusout":gi=null;break;case"dragenter":case"dragleave":yi=null;break;case"mouseover":case"mouseout":vi=null;break;case"pointerover":case"pointerout":xl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":wl.delete(e.pointerId)}}function Aa(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=eu(e),e!==null&&Hm(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function HI(t,e,n,r,i){switch(e){case"focusin":return gi=Aa(gi,t,e,n,r,i),!0;case"dragenter":return yi=Aa(yi,t,e,n,r,i),!0;case"mouseover":return vi=Aa(vi,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return xl.set(s,Aa(xl.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,wl.set(s,Aa(wl.get(s)||null,t,e,n,r,i)),!0}return!1}function F_(t){var e=ps(t.target);if(e!==null){var n=Ls(e);if(n!==null){if(e=n.tag,e===13){if(e=T_(n),e!==null){t.blockedOn=e,M_(t.priority,function(){O_(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function hc(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=lp(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);np=r,n.target.dispatchEvent(r),np=null}else return e=eu(n),e!==null&&Hm(e),t.blockedOn=n,!1;e.shift()}return!0}function Zv(t,e,n){hc(t)&&n.delete(e)}function qI(){ap=!1,gi!==null&&hc(gi)&&(gi=null),yi!==null&&hc(yi)&&(yi=null),vi!==null&&hc(vi)&&(vi=null),xl.forEach(Zv),wl.forEach(Zv)}function Na(t,e){t.blockedOn===e&&(t.blockedOn=null,ap||(ap=!0,En.unstable_scheduleCallback(En.unstable_NormalPriority,qI)))}function _l(t){function e(i){return Na(i,t)}if(0<Vu.length){Na(Vu[0],t);for(var n=1;n<Vu.length;n++){var r=Vu[n];r.blockedOn===t&&(r.blockedOn=null)}}for(gi!==null&&Na(gi,t),yi!==null&&Na(yi,t),vi!==null&&Na(vi,t),xl.forEach(e),wl.forEach(e),n=0;n<si.length;n++)r=si[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<si.length&&(n=si[0],n.blockedOn===null);)F_(n),n.blockedOn===null&&si.shift()}var Io=Br.ReactCurrentBatchConfig,Uc=!0;function WI(t,e,n,r){var i=Fe,s=Io.transition;Io.transition=null;try{Fe=1,qm(t,e,n,r)}finally{Fe=i,Io.transition=s}}function GI(t,e,n,r){var i=Fe,s=Io.transition;Io.transition=null;try{Fe=4,qm(t,e,n,r)}finally{Fe=i,Io.transition=s}}function qm(t,e,n,r){if(Uc){var i=lp(t,e,n,r);if(i===null)rf(t,e,r,$c,n),Xv(t,r);else if(HI(i,t,e,n,r))r.stopPropagation();else if(Xv(t,r),e&4&&-1<BI.indexOf(t)){for(;i!==null;){var s=eu(i);if(s!==null&&D_(s),s=lp(t,e,n,r),s===null&&rf(t,e,r,$c,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else rf(t,e,r,null,n)}}var $c=null;function lp(t,e,n,r){if($c=null,t=Um(r),t=ps(t),t!==null)if(e=Ls(t),e===null)t=null;else if(n=e.tag,n===13){if(t=T_(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return $c=t,null}function V_(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(DI()){case $m:return 1;case N_:return 4;case Vc:case OI:return 16;case P_:return 536870912;default:return 16}default:return 16}}var hi=null,Wm=null,dc=null;function z_(){if(dc)return dc;var t,e=Wm,n=e.length,r,i="value"in hi?hi.value:hi.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return dc=i.slice(t,1<r?1-r:void 0)}function fc(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function zu(){return!0}function e0(){return!1}function kn(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?zu:e0,this.isPropagationStopped=e0,this}return nt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=zu)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=zu)},persist:function(){},isPersistent:zu}),e}var ea={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Gm=kn(ea),Zl=nt({},ea,{view:0,detail:0}),KI=kn(Zl),Kd,Qd,Pa,zh=nt({},Zl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Km,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Pa&&(Pa&&t.type==="mousemove"?(Kd=t.screenX-Pa.screenX,Qd=t.screenY-Pa.screenY):Qd=Kd=0,Pa=t),Kd)},movementY:function(t){return"movementY"in t?t.movementY:Qd}}),t0=kn(zh),QI=nt({},zh,{dataTransfer:0}),YI=kn(QI),JI=nt({},Zl,{relatedTarget:0}),Yd=kn(JI),XI=nt({},ea,{animationName:0,elapsedTime:0,pseudoElement:0}),ZI=kn(XI),eC=nt({},ea,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),tC=kn(eC),nC=nt({},ea,{data:0}),n0=kn(nC),rC={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},iC={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},sC={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function oC(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=sC[t])?!!e[t]:!1}function Km(){return oC}var aC=nt({},Zl,{key:function(t){if(t.key){var e=rC[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=fc(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?iC[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Km,charCode:function(t){return t.type==="keypress"?fc(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?fc(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),lC=kn(aC),uC=nt({},zh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),r0=kn(uC),cC=nt({},Zl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Km}),hC=kn(cC),dC=nt({},ea,{propertyName:0,elapsedTime:0,pseudoElement:0}),fC=kn(dC),pC=nt({},zh,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),mC=kn(pC),gC=[9,13,27,32],Qm=Dr&&"CompositionEvent"in window,Xa=null;Dr&&"documentMode"in document&&(Xa=document.documentMode);var yC=Dr&&"TextEvent"in window&&!Xa,U_=Dr&&(!Qm||Xa&&8<Xa&&11>=Xa),i0=" ",s0=!1;function $_(t,e){switch(t){case"keyup":return gC.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function B_(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ho=!1;function vC(t,e){switch(t){case"compositionend":return B_(e);case"keypress":return e.which!==32?null:(s0=!0,i0);case"textInput":return t=e.data,t===i0&&s0?null:t;default:return null}}function xC(t,e){if(ho)return t==="compositionend"||!Qm&&$_(t,e)?(t=z_(),dc=Wm=hi=null,ho=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return U_&&e.locale!=="ko"?null:e.data;default:return null}}var wC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function o0(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!wC[t.type]:e==="textarea"}function H_(t,e,n,r){__(r),e=Bc(e,"onChange"),0<e.length&&(n=new Gm("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Za=null,El=null;function _C(t){tE(t,0)}function Uh(t){var e=mo(t);if(p_(e))return t}function EC(t,e){if(t==="change")return e}var q_=!1;if(Dr){var Jd;if(Dr){var Xd="oninput"in document;if(!Xd){var a0=document.createElement("div");a0.setAttribute("oninput","return;"),Xd=typeof a0.oninput=="function"}Jd=Xd}else Jd=!1;q_=Jd&&(!document.documentMode||9<document.documentMode)}function l0(){Za&&(Za.detachEvent("onpropertychange",W_),El=Za=null)}function W_(t){if(t.propertyName==="value"&&Uh(El)){var e=[];H_(e,El,t,Um(t)),S_(_C,e)}}function bC(t,e,n){t==="focusin"?(l0(),Za=e,El=n,Za.attachEvent("onpropertychange",W_)):t==="focusout"&&l0()}function kC(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Uh(El)}function SC(t,e){if(t==="click")return Uh(e)}function TC(t,e){if(t==="input"||t==="change")return Uh(e)}function IC(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var er=typeof Object.is=="function"?Object.is:IC;function bl(t,e){if(er(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Hf.call(e,i)||!er(t[i],e[i]))return!1}return!0}function u0(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function c0(t,e){var n=u0(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=u0(n)}}function G_(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?G_(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function K_(){for(var t=window,e=Lc();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Lc(t.document)}return e}function Ym(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function CC(t){var e=K_(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&G_(n.ownerDocument.documentElement,n)){if(r!==null&&Ym(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=c0(n,s);var o=c0(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var AC=Dr&&"documentMode"in document&&11>=document.documentMode,fo=null,up=null,el=null,cp=!1;function h0(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;cp||fo==null||fo!==Lc(r)||(r=fo,"selectionStart"in r&&Ym(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),el&&bl(el,r)||(el=r,r=Bc(up,"onSelect"),0<r.length&&(e=new Gm("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=fo)))}function Uu(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var po={animationend:Uu("Animation","AnimationEnd"),animationiteration:Uu("Animation","AnimationIteration"),animationstart:Uu("Animation","AnimationStart"),transitionend:Uu("Transition","TransitionEnd")},Zd={},Q_={};Dr&&(Q_=document.createElement("div").style,"AnimationEvent"in window||(delete po.animationend.animation,delete po.animationiteration.animation,delete po.animationstart.animation),"TransitionEvent"in window||delete po.transitionend.transition);function $h(t){if(Zd[t])return Zd[t];if(!po[t])return t;var e=po[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Q_)return Zd[t]=e[n];return t}var Y_=$h("animationend"),J_=$h("animationiteration"),X_=$h("animationstart"),Z_=$h("transitionend"),eE=new Map,d0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ui(t,e){eE.set(t,e),Os(e,[t])}for(var ef=0;ef<d0.length;ef++){var tf=d0[ef],NC=tf.toLowerCase(),PC=tf[0].toUpperCase()+tf.slice(1);Ui(NC,"on"+PC)}Ui(Y_,"onAnimationEnd");Ui(J_,"onAnimationIteration");Ui(X_,"onAnimationStart");Ui("dblclick","onDoubleClick");Ui("focusin","onFocus");Ui("focusout","onBlur");Ui(Z_,"onTransitionEnd");Oo("onMouseEnter",["mouseout","mouseover"]);Oo("onMouseLeave",["mouseout","mouseover"]);Oo("onPointerEnter",["pointerout","pointerover"]);Oo("onPointerLeave",["pointerout","pointerover"]);Os("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Os("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Os("onBeforeInput",["compositionend","keypress","textInput","paste"]);Os("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Os("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Os("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ua="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),RC=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ua));function f0(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,NI(r,e,void 0,t),t.currentTarget=null}function tE(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;f0(i,a,u),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;f0(i,a,u),s=l}}}if(Fc)throw t=sp,Fc=!1,sp=null,t}function Ge(t,e){var n=e[mp];n===void 0&&(n=e[mp]=new Set);var r=t+"__bubble";n.has(r)||(nE(e,t,2,!1),n.add(r))}function nf(t,e,n){var r=0;e&&(r|=4),nE(n,t,r,e)}var $u="_reactListening"+Math.random().toString(36).slice(2);function kl(t){if(!t[$u]){t[$u]=!0,u_.forEach(function(n){n!=="selectionchange"&&(RC.has(n)||nf(n,!1,t),nf(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[$u]||(e[$u]=!0,nf("selectionchange",!1,e))}}function nE(t,e,n,r){switch(V_(e)){case 1:var i=WI;break;case 4:i=GI;break;default:i=qm}n=i.bind(null,e,n,t),i=void 0,!ip||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function rf(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=ps(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}S_(function(){var u=s,h=Um(n),f=[];e:{var p=eE.get(t);if(p!==void 0){var g=Gm,w=t;switch(t){case"keypress":if(fc(n)===0)break e;case"keydown":case"keyup":g=lC;break;case"focusin":w="focus",g=Yd;break;case"focusout":w="blur",g=Yd;break;case"beforeblur":case"afterblur":g=Yd;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=t0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=YI;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=hC;break;case Y_:case J_:case X_:g=ZI;break;case Z_:g=fC;break;case"scroll":g=KI;break;case"wheel":g=mC;break;case"copy":case"cut":case"paste":g=tC;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=r0}var T=(e&4)!==0,I=!T&&t==="scroll",_=T?p!==null?p+"Capture":null:p;T=[];for(var v=u,x;v!==null;){x=v;var N=x.stateNode;if(x.tag===5&&N!==null&&(x=N,_!==null&&(N=vl(v,_),N!=null&&T.push(Sl(v,N,x)))),I)break;v=v.return}0<T.length&&(p=new g(p,w,null,n,h),f.push({event:p,listeners:T}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",p&&n!==np&&(w=n.relatedTarget||n.fromElement)&&(ps(w)||w[Or]))break e;if((g||p)&&(p=h.window===h?h:(p=h.ownerDocument)?p.defaultView||p.parentWindow:window,g?(w=n.relatedTarget||n.toElement,g=u,w=w?ps(w):null,w!==null&&(I=Ls(w),w!==I||w.tag!==5&&w.tag!==6)&&(w=null)):(g=null,w=u),g!==w)){if(T=t0,N="onMouseLeave",_="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(T=r0,N="onPointerLeave",_="onPointerEnter",v="pointer"),I=g==null?p:mo(g),x=w==null?p:mo(w),p=new T(N,v+"leave",g,n,h),p.target=I,p.relatedTarget=x,N=null,ps(h)===u&&(T=new T(_,v+"enter",w,n,h),T.target=x,T.relatedTarget=I,N=T),I=N,g&&w)t:{for(T=g,_=w,v=0,x=T;x;x=eo(x))v++;for(x=0,N=_;N;N=eo(N))x++;for(;0<v-x;)T=eo(T),v--;for(;0<x-v;)_=eo(_),x--;for(;v--;){if(T===_||_!==null&&T===_.alternate)break t;T=eo(T),_=eo(_)}T=null}else T=null;g!==null&&p0(f,p,g,T,!1),w!==null&&I!==null&&p0(f,I,w,T,!0)}}e:{if(p=u?mo(u):window,g=p.nodeName&&p.nodeName.toLowerCase(),g==="select"||g==="input"&&p.type==="file")var O=EC;else if(o0(p))if(q_)O=TC;else{O=kC;var A=bC}else(g=p.nodeName)&&g.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(O=SC);if(O&&(O=O(t,u))){H_(f,O,n,h);break e}A&&A(t,p,u),t==="focusout"&&(A=p._wrapperState)&&A.controlled&&p.type==="number"&&Jf(p,"number",p.value)}switch(A=u?mo(u):window,t){case"focusin":(o0(A)||A.contentEditable==="true")&&(fo=A,up=u,el=null);break;case"focusout":el=up=fo=null;break;case"mousedown":cp=!0;break;case"contextmenu":case"mouseup":case"dragend":cp=!1,h0(f,n,h);break;case"selectionchange":if(AC)break;case"keydown":case"keyup":h0(f,n,h)}var k;if(Qm)e:{switch(t){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else ho?$_(t,n)&&(b="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(b="onCompositionStart");b&&(U_&&n.locale!=="ko"&&(ho||b!=="onCompositionStart"?b==="onCompositionEnd"&&ho&&(k=z_()):(hi=h,Wm="value"in hi?hi.value:hi.textContent,ho=!0)),A=Bc(u,b),0<A.length&&(b=new n0(b,t,null,n,h),f.push({event:b,listeners:A}),k?b.data=k:(k=B_(n),k!==null&&(b.data=k)))),(k=yC?vC(t,n):xC(t,n))&&(u=Bc(u,"onBeforeInput"),0<u.length&&(h=new n0("onBeforeInput","beforeinput",null,n,h),f.push({event:h,listeners:u}),h.data=k))}tE(f,e)})}function Sl(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Bc(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=vl(t,n),s!=null&&r.unshift(Sl(t,s,i)),s=vl(t,e),s!=null&&r.push(Sl(t,s,i))),t=t.return}return r}function eo(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function p0(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=vl(n,s),l!=null&&o.unshift(Sl(n,l,a))):i||(l=vl(n,s),l!=null&&o.push(Sl(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var jC=/\r\n?/g,DC=/\u0000|\uFFFD/g;function m0(t){return(typeof t=="string"?t:""+t).replace(jC,`
`).replace(DC,"")}function Bu(t,e,n){if(e=m0(e),m0(t)!==e&&n)throw Error(K(425))}function Hc(){}var hp=null,dp=null;function fp(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var pp=typeof setTimeout=="function"?setTimeout:void 0,OC=typeof clearTimeout=="function"?clearTimeout:void 0,g0=typeof Promise=="function"?Promise:void 0,LC=typeof queueMicrotask=="function"?queueMicrotask:typeof g0<"u"?function(t){return g0.resolve(null).then(t).catch(MC)}:pp;function MC(t){setTimeout(function(){throw t})}function sf(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),_l(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);_l(e)}function xi(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function y0(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var ta=Math.random().toString(36).slice(2),lr="__reactFiber$"+ta,Tl="__reactProps$"+ta,Or="__reactContainer$"+ta,mp="__reactEvents$"+ta,FC="__reactListeners$"+ta,VC="__reactHandles$"+ta;function ps(t){var e=t[lr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Or]||n[lr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=y0(t);t!==null;){if(n=t[lr])return n;t=y0(t)}return e}t=n,n=t.parentNode}return null}function eu(t){return t=t[lr]||t[Or],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function mo(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(K(33))}function Bh(t){return t[Tl]||null}var gp=[],go=-1;function $i(t){return{current:t}}function Qe(t){0>go||(t.current=gp[go],gp[go]=null,go--)}function He(t,e){go++,gp[go]=t.current,t.current=e}var ji={},$t=$i(ji),cn=$i(!1),bs=ji;function Lo(t,e){var n=t.type.contextTypes;if(!n)return ji;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function hn(t){return t=t.childContextTypes,t!=null}function qc(){Qe(cn),Qe($t)}function v0(t,e,n){if($t.current!==ji)throw Error(K(168));He($t,e),He(cn,n)}function rE(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(K(108,bI(t)||"Unknown",i));return nt({},n,r)}function Wc(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ji,bs=$t.current,He($t,t),He(cn,cn.current),!0}function x0(t,e,n){var r=t.stateNode;if(!r)throw Error(K(169));n?(t=rE(t,e,bs),r.__reactInternalMemoizedMergedChildContext=t,Qe(cn),Qe($t),He($t,t)):Qe(cn),He(cn,n)}var Ir=null,Hh=!1,of=!1;function iE(t){Ir===null?Ir=[t]:Ir.push(t)}function zC(t){Hh=!0,iE(t)}function Bi(){if(!of&&Ir!==null){of=!0;var t=0,e=Fe;try{var n=Ir;for(Fe=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Ir=null,Hh=!1}catch(i){throw Ir!==null&&(Ir=Ir.slice(t+1)),A_($m,Bi),i}finally{Fe=e,of=!1}}return null}var yo=[],vo=0,Gc=null,Kc=0,Nn=[],Pn=0,ks=null,Ar=1,Nr="";function us(t,e){yo[vo++]=Kc,yo[vo++]=Gc,Gc=t,Kc=e}function sE(t,e,n){Nn[Pn++]=Ar,Nn[Pn++]=Nr,Nn[Pn++]=ks,ks=t;var r=Ar;t=Nr;var i=32-Yn(r)-1;r&=~(1<<i),n+=1;var s=32-Yn(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Ar=1<<32-Yn(e)+i|n<<i|r,Nr=s+t}else Ar=1<<s|n<<i|r,Nr=t}function Jm(t){t.return!==null&&(us(t,1),sE(t,1,0))}function Xm(t){for(;t===Gc;)Gc=yo[--vo],yo[vo]=null,Kc=yo[--vo],yo[vo]=null;for(;t===ks;)ks=Nn[--Pn],Nn[Pn]=null,Nr=Nn[--Pn],Nn[Pn]=null,Ar=Nn[--Pn],Nn[Pn]=null}var wn=null,vn=null,Xe=!1,Gn=null;function oE(t,e){var n=On(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function w0(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,wn=t,vn=xi(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,wn=t,vn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=ks!==null?{id:Ar,overflow:Nr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=On(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,wn=t,vn=null,!0):!1;default:return!1}}function yp(t){return(t.mode&1)!==0&&(t.flags&128)===0}function vp(t){if(Xe){var e=vn;if(e){var n=e;if(!w0(t,e)){if(yp(t))throw Error(K(418));e=xi(n.nextSibling);var r=wn;e&&w0(t,e)?oE(r,n):(t.flags=t.flags&-4097|2,Xe=!1,wn=t)}}else{if(yp(t))throw Error(K(418));t.flags=t.flags&-4097|2,Xe=!1,wn=t}}}function _0(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;wn=t}function Hu(t){if(t!==wn)return!1;if(!Xe)return _0(t),Xe=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!fp(t.type,t.memoizedProps)),e&&(e=vn)){if(yp(t))throw aE(),Error(K(418));for(;e;)oE(t,e),e=xi(e.nextSibling)}if(_0(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(K(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){vn=xi(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}vn=null}}else vn=wn?xi(t.stateNode.nextSibling):null;return!0}function aE(){for(var t=vn;t;)t=xi(t.nextSibling)}function Mo(){vn=wn=null,Xe=!1}function Zm(t){Gn===null?Gn=[t]:Gn.push(t)}var UC=Br.ReactCurrentBatchConfig;function Ra(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(K(309));var r=n.stateNode}if(!r)throw Error(K(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(K(284));if(!n._owner)throw Error(K(290,t))}return t}function qu(t,e){throw t=Object.prototype.toString.call(e),Error(K(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function E0(t){var e=t._init;return e(t._payload)}function lE(t){function e(_,v){if(t){var x=_.deletions;x===null?(_.deletions=[v],_.flags|=16):x.push(v)}}function n(_,v){if(!t)return null;for(;v!==null;)e(_,v),v=v.sibling;return null}function r(_,v){for(_=new Map;v!==null;)v.key!==null?_.set(v.key,v):_.set(v.index,v),v=v.sibling;return _}function i(_,v){return _=bi(_,v),_.index=0,_.sibling=null,_}function s(_,v,x){return _.index=x,t?(x=_.alternate,x!==null?(x=x.index,x<v?(_.flags|=2,v):x):(_.flags|=2,v)):(_.flags|=1048576,v)}function o(_){return t&&_.alternate===null&&(_.flags|=2),_}function a(_,v,x,N){return v===null||v.tag!==6?(v=ff(x,_.mode,N),v.return=_,v):(v=i(v,x),v.return=_,v)}function l(_,v,x,N){var O=x.type;return O===co?h(_,v,x.props.children,N,x.key):v!==null&&(v.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===ni&&E0(O)===v.type)?(N=i(v,x.props),N.ref=Ra(_,v,x),N.return=_,N):(N=wc(x.type,x.key,x.props,null,_.mode,N),N.ref=Ra(_,v,x),N.return=_,N)}function u(_,v,x,N){return v===null||v.tag!==4||v.stateNode.containerInfo!==x.containerInfo||v.stateNode.implementation!==x.implementation?(v=pf(x,_.mode,N),v.return=_,v):(v=i(v,x.children||[]),v.return=_,v)}function h(_,v,x,N,O){return v===null||v.tag!==7?(v=_s(x,_.mode,N,O),v.return=_,v):(v=i(v,x),v.return=_,v)}function f(_,v,x){if(typeof v=="string"&&v!==""||typeof v=="number")return v=ff(""+v,_.mode,x),v.return=_,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Du:return x=wc(v.type,v.key,v.props,null,_.mode,x),x.ref=Ra(_,null,v),x.return=_,x;case uo:return v=pf(v,_.mode,x),v.return=_,v;case ni:var N=v._init;return f(_,N(v._payload),x)}if(Va(v)||Ia(v))return v=_s(v,_.mode,x,null),v.return=_,v;qu(_,v)}return null}function p(_,v,x,N){var O=v!==null?v.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return O!==null?null:a(_,v,""+x,N);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Du:return x.key===O?l(_,v,x,N):null;case uo:return x.key===O?u(_,v,x,N):null;case ni:return O=x._init,p(_,v,O(x._payload),N)}if(Va(x)||Ia(x))return O!==null?null:h(_,v,x,N,null);qu(_,x)}return null}function g(_,v,x,N,O){if(typeof N=="string"&&N!==""||typeof N=="number")return _=_.get(x)||null,a(v,_,""+N,O);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case Du:return _=_.get(N.key===null?x:N.key)||null,l(v,_,N,O);case uo:return _=_.get(N.key===null?x:N.key)||null,u(v,_,N,O);case ni:var A=N._init;return g(_,v,x,A(N._payload),O)}if(Va(N)||Ia(N))return _=_.get(x)||null,h(v,_,N,O,null);qu(v,N)}return null}function w(_,v,x,N){for(var O=null,A=null,k=v,b=v=0,S=null;k!==null&&b<x.length;b++){k.index>b?(S=k,k=null):S=k.sibling;var E=p(_,k,x[b],N);if(E===null){k===null&&(k=S);break}t&&k&&E.alternate===null&&e(_,k),v=s(E,v,b),A===null?O=E:A.sibling=E,A=E,k=S}if(b===x.length)return n(_,k),Xe&&us(_,b),O;if(k===null){for(;b<x.length;b++)k=f(_,x[b],N),k!==null&&(v=s(k,v,b),A===null?O=k:A.sibling=k,A=k);return Xe&&us(_,b),O}for(k=r(_,k);b<x.length;b++)S=g(k,_,b,x[b],N),S!==null&&(t&&S.alternate!==null&&k.delete(S.key===null?b:S.key),v=s(S,v,b),A===null?O=S:A.sibling=S,A=S);return t&&k.forEach(function(j){return e(_,j)}),Xe&&us(_,b),O}function T(_,v,x,N){var O=Ia(x);if(typeof O!="function")throw Error(K(150));if(x=O.call(x),x==null)throw Error(K(151));for(var A=O=null,k=v,b=v=0,S=null,E=x.next();k!==null&&!E.done;b++,E=x.next()){k.index>b?(S=k,k=null):S=k.sibling;var j=p(_,k,E.value,N);if(j===null){k===null&&(k=S);break}t&&k&&j.alternate===null&&e(_,k),v=s(j,v,b),A===null?O=j:A.sibling=j,A=j,k=S}if(E.done)return n(_,k),Xe&&us(_,b),O;if(k===null){for(;!E.done;b++,E=x.next())E=f(_,E.value,N),E!==null&&(v=s(E,v,b),A===null?O=E:A.sibling=E,A=E);return Xe&&us(_,b),O}for(k=r(_,k);!E.done;b++,E=x.next())E=g(k,_,b,E.value,N),E!==null&&(t&&E.alternate!==null&&k.delete(E.key===null?b:E.key),v=s(E,v,b),A===null?O=E:A.sibling=E,A=E);return t&&k.forEach(function(D){return e(_,D)}),Xe&&us(_,b),O}function I(_,v,x,N){if(typeof x=="object"&&x!==null&&x.type===co&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case Du:e:{for(var O=x.key,A=v;A!==null;){if(A.key===O){if(O=x.type,O===co){if(A.tag===7){n(_,A.sibling),v=i(A,x.props.children),v.return=_,_=v;break e}}else if(A.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===ni&&E0(O)===A.type){n(_,A.sibling),v=i(A,x.props),v.ref=Ra(_,A,x),v.return=_,_=v;break e}n(_,A);break}else e(_,A);A=A.sibling}x.type===co?(v=_s(x.props.children,_.mode,N,x.key),v.return=_,_=v):(N=wc(x.type,x.key,x.props,null,_.mode,N),N.ref=Ra(_,v,x),N.return=_,_=N)}return o(_);case uo:e:{for(A=x.key;v!==null;){if(v.key===A)if(v.tag===4&&v.stateNode.containerInfo===x.containerInfo&&v.stateNode.implementation===x.implementation){n(_,v.sibling),v=i(v,x.children||[]),v.return=_,_=v;break e}else{n(_,v);break}else e(_,v);v=v.sibling}v=pf(x,_.mode,N),v.return=_,_=v}return o(_);case ni:return A=x._init,I(_,v,A(x._payload),N)}if(Va(x))return w(_,v,x,N);if(Ia(x))return T(_,v,x,N);qu(_,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,v!==null&&v.tag===6?(n(_,v.sibling),v=i(v,x),v.return=_,_=v):(n(_,v),v=ff(x,_.mode,N),v.return=_,_=v),o(_)):n(_,v)}return I}var Fo=lE(!0),uE=lE(!1),Qc=$i(null),Yc=null,xo=null,eg=null;function tg(){eg=xo=Yc=null}function ng(t){var e=Qc.current;Qe(Qc),t._currentValue=e}function xp(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Co(t,e){Yc=t,eg=xo=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(un=!0),t.firstContext=null)}function Mn(t){var e=t._currentValue;if(eg!==t)if(t={context:t,memoizedValue:e,next:null},xo===null){if(Yc===null)throw Error(K(308));xo=t,Yc.dependencies={lanes:0,firstContext:t}}else xo=xo.next=t;return e}var ms=null;function rg(t){ms===null?ms=[t]:ms.push(t)}function cE(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,rg(e)):(n.next=i.next,i.next=n),e.interleaved=n,Lr(t,r)}function Lr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var ri=!1;function ig(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function hE(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function jr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function wi(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,je&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Lr(t,n)}return i=r.interleaved,i===null?(e.next=e,rg(r)):(e.next=i.next,i.next=e),r.interleaved=e,Lr(t,n)}function pc(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Bm(t,n)}}function b0(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Jc(t,e,n,r){var i=t.updateQueue;ri=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var h=t.alternate;h!==null&&(h=h.updateQueue,a=h.lastBaseUpdate,a!==o&&(a===null?h.firstBaseUpdate=u:a.next=u,h.lastBaseUpdate=l))}if(s!==null){var f=i.baseState;o=0,h=u=l=null,a=s;do{var p=a.lane,g=a.eventTime;if((r&p)===p){h!==null&&(h=h.next={eventTime:g,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var w=t,T=a;switch(p=e,g=n,T.tag){case 1:if(w=T.payload,typeof w=="function"){f=w.call(g,f,p);break e}f=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=T.payload,p=typeof w=="function"?w.call(g,f,p):w,p==null)break e;f=nt({},f,p);break e;case 2:ri=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,p=i.effects,p===null?i.effects=[a]:p.push(a))}else g={eventTime:g,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},h===null?(u=h=g,l=f):h=h.next=g,o|=p;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;p=a,a=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(!0);if(h===null&&(l=f),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=h,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Ts|=o,t.lanes=o,t.memoizedState=f}}function k0(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(K(191,i));i.call(r)}}}var tu={},cr=$i(tu),Il=$i(tu),Cl=$i(tu);function gs(t){if(t===tu)throw Error(K(174));return t}function sg(t,e){switch(He(Cl,e),He(Il,t),He(cr,tu),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Zf(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Zf(e,t)}Qe(cr),He(cr,e)}function Vo(){Qe(cr),Qe(Il),Qe(Cl)}function dE(t){gs(Cl.current);var e=gs(cr.current),n=Zf(e,t.type);e!==n&&(He(Il,t),He(cr,n))}function og(t){Il.current===t&&(Qe(cr),Qe(Il))}var Ze=$i(0);function Xc(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var af=[];function ag(){for(var t=0;t<af.length;t++)af[t]._workInProgressVersionPrimary=null;af.length=0}var mc=Br.ReactCurrentDispatcher,lf=Br.ReactCurrentBatchConfig,Ss=0,tt=null,mt=null,bt=null,Zc=!1,tl=!1,Al=0,$C=0;function Ot(){throw Error(K(321))}function lg(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!er(t[n],e[n]))return!1;return!0}function ug(t,e,n,r,i,s){if(Ss=s,tt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,mc.current=t===null||t.memoizedState===null?WC:GC,t=n(r,i),tl){s=0;do{if(tl=!1,Al=0,25<=s)throw Error(K(301));s+=1,bt=mt=null,e.updateQueue=null,mc.current=KC,t=n(r,i)}while(tl)}if(mc.current=eh,e=mt!==null&&mt.next!==null,Ss=0,bt=mt=tt=null,Zc=!1,e)throw Error(K(300));return t}function cg(){var t=Al!==0;return Al=0,t}function ir(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return bt===null?tt.memoizedState=bt=t:bt=bt.next=t,bt}function Fn(){if(mt===null){var t=tt.alternate;t=t!==null?t.memoizedState:null}else t=mt.next;var e=bt===null?tt.memoizedState:bt.next;if(e!==null)bt=e,mt=t;else{if(t===null)throw Error(K(310));mt=t,t={memoizedState:mt.memoizedState,baseState:mt.baseState,baseQueue:mt.baseQueue,queue:mt.queue,next:null},bt===null?tt.memoizedState=bt=t:bt=bt.next=t}return bt}function Nl(t,e){return typeof e=="function"?e(t):e}function uf(t){var e=Fn(),n=e.queue;if(n===null)throw Error(K(311));n.lastRenderedReducer=t;var r=mt,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,u=s;do{var h=u.lane;if((Ss&h)===h)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var f={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=f,o=r):l=l.next=f,tt.lanes|=h,Ts|=h}u=u.next}while(u!==null&&u!==s);l===null?o=r:l.next=a,er(r,e.memoizedState)||(un=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,tt.lanes|=s,Ts|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function cf(t){var e=Fn(),n=e.queue;if(n===null)throw Error(K(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);er(s,e.memoizedState)||(un=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function fE(){}function pE(t,e){var n=tt,r=Fn(),i=e(),s=!er(r.memoizedState,i);if(s&&(r.memoizedState=i,un=!0),r=r.queue,hg(yE.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||bt!==null&&bt.memoizedState.tag&1){if(n.flags|=2048,Pl(9,gE.bind(null,n,r,i,e),void 0,null),kt===null)throw Error(K(349));Ss&30||mE(n,e,i)}return i}function mE(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=tt.updateQueue,e===null?(e={lastEffect:null,stores:null},tt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function gE(t,e,n,r){e.value=n,e.getSnapshot=r,vE(e)&&xE(t)}function yE(t,e,n){return n(function(){vE(e)&&xE(t)})}function vE(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!er(t,n)}catch{return!0}}function xE(t){var e=Lr(t,1);e!==null&&Jn(e,t,1,-1)}function S0(t){var e=ir();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Nl,lastRenderedState:t},e.queue=t,t=t.dispatch=qC.bind(null,tt,t),[e.memoizedState,t]}function Pl(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=tt.updateQueue,e===null?(e={lastEffect:null,stores:null},tt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function wE(){return Fn().memoizedState}function gc(t,e,n,r){var i=ir();tt.flags|=t,i.memoizedState=Pl(1|e,n,void 0,r===void 0?null:r)}function qh(t,e,n,r){var i=Fn();r=r===void 0?null:r;var s=void 0;if(mt!==null){var o=mt.memoizedState;if(s=o.destroy,r!==null&&lg(r,o.deps)){i.memoizedState=Pl(e,n,s,r);return}}tt.flags|=t,i.memoizedState=Pl(1|e,n,s,r)}function T0(t,e){return gc(8390656,8,t,e)}function hg(t,e){return qh(2048,8,t,e)}function _E(t,e){return qh(4,2,t,e)}function EE(t,e){return qh(4,4,t,e)}function bE(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function kE(t,e,n){return n=n!=null?n.concat([t]):null,qh(4,4,bE.bind(null,e,t),n)}function dg(){}function SE(t,e){var n=Fn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&lg(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function TE(t,e){var n=Fn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&lg(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function IE(t,e,n){return Ss&21?(er(n,e)||(n=R_(),tt.lanes|=n,Ts|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,un=!0),t.memoizedState=n)}function BC(t,e){var n=Fe;Fe=n!==0&&4>n?n:4,t(!0);var r=lf.transition;lf.transition={};try{t(!1),e()}finally{Fe=n,lf.transition=r}}function CE(){return Fn().memoizedState}function HC(t,e,n){var r=Ei(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},AE(t))NE(e,n);else if(n=cE(t,e,n,r),n!==null){var i=en();Jn(n,t,r,i),PE(n,e,r)}}function qC(t,e,n){var r=Ei(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(AE(t))NE(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,er(a,o)){var l=e.interleaved;l===null?(i.next=i,rg(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=cE(t,e,i,r),n!==null&&(i=en(),Jn(n,t,r,i),PE(n,e,r))}}function AE(t){var e=t.alternate;return t===tt||e!==null&&e===tt}function NE(t,e){tl=Zc=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function PE(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Bm(t,n)}}var eh={readContext:Mn,useCallback:Ot,useContext:Ot,useEffect:Ot,useImperativeHandle:Ot,useInsertionEffect:Ot,useLayoutEffect:Ot,useMemo:Ot,useReducer:Ot,useRef:Ot,useState:Ot,useDebugValue:Ot,useDeferredValue:Ot,useTransition:Ot,useMutableSource:Ot,useSyncExternalStore:Ot,useId:Ot,unstable_isNewReconciler:!1},WC={readContext:Mn,useCallback:function(t,e){return ir().memoizedState=[t,e===void 0?null:e],t},useContext:Mn,useEffect:T0,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,gc(4194308,4,bE.bind(null,e,t),n)},useLayoutEffect:function(t,e){return gc(4194308,4,t,e)},useInsertionEffect:function(t,e){return gc(4,2,t,e)},useMemo:function(t,e){var n=ir();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=ir();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=HC.bind(null,tt,t),[r.memoizedState,t]},useRef:function(t){var e=ir();return t={current:t},e.memoizedState=t},useState:S0,useDebugValue:dg,useDeferredValue:function(t){return ir().memoizedState=t},useTransition:function(){var t=S0(!1),e=t[0];return t=BC.bind(null,t[1]),ir().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=tt,i=ir();if(Xe){if(n===void 0)throw Error(K(407));n=n()}else{if(n=e(),kt===null)throw Error(K(349));Ss&30||mE(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,T0(yE.bind(null,r,s,t),[t]),r.flags|=2048,Pl(9,gE.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=ir(),e=kt.identifierPrefix;if(Xe){var n=Nr,r=Ar;n=(r&~(1<<32-Yn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Al++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=$C++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},GC={readContext:Mn,useCallback:SE,useContext:Mn,useEffect:hg,useImperativeHandle:kE,useInsertionEffect:_E,useLayoutEffect:EE,useMemo:TE,useReducer:uf,useRef:wE,useState:function(){return uf(Nl)},useDebugValue:dg,useDeferredValue:function(t){var e=Fn();return IE(e,mt.memoizedState,t)},useTransition:function(){var t=uf(Nl)[0],e=Fn().memoizedState;return[t,e]},useMutableSource:fE,useSyncExternalStore:pE,useId:CE,unstable_isNewReconciler:!1},KC={readContext:Mn,useCallback:SE,useContext:Mn,useEffect:hg,useImperativeHandle:kE,useInsertionEffect:_E,useLayoutEffect:EE,useMemo:TE,useReducer:cf,useRef:wE,useState:function(){return cf(Nl)},useDebugValue:dg,useDeferredValue:function(t){var e=Fn();return mt===null?e.memoizedState=t:IE(e,mt.memoizedState,t)},useTransition:function(){var t=cf(Nl)[0],e=Fn().memoizedState;return[t,e]},useMutableSource:fE,useSyncExternalStore:pE,useId:CE,unstable_isNewReconciler:!1};function qn(t,e){if(t&&t.defaultProps){e=nt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function wp(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:nt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Wh={isMounted:function(t){return(t=t._reactInternals)?Ls(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=en(),i=Ei(t),s=jr(r,i);s.payload=e,n!=null&&(s.callback=n),e=wi(t,s,i),e!==null&&(Jn(e,t,i,r),pc(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=en(),i=Ei(t),s=jr(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=wi(t,s,i),e!==null&&(Jn(e,t,i,r),pc(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=en(),r=Ei(t),i=jr(n,r);i.tag=2,e!=null&&(i.callback=e),e=wi(t,i,r),e!==null&&(Jn(e,t,r,n),pc(e,t,r))}};function I0(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!bl(n,r)||!bl(i,s):!0}function RE(t,e,n){var r=!1,i=ji,s=e.contextType;return typeof s=="object"&&s!==null?s=Mn(s):(i=hn(e)?bs:$t.current,r=e.contextTypes,s=(r=r!=null)?Lo(t,i):ji),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Wh,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function C0(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Wh.enqueueReplaceState(e,e.state,null)}function _p(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},ig(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Mn(s):(s=hn(e)?bs:$t.current,i.context=Lo(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(wp(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Wh.enqueueReplaceState(i,i.state,null),Jc(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function zo(t,e){try{var n="",r=e;do n+=EI(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function hf(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Ep(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var QC=typeof WeakMap=="function"?WeakMap:Map;function jE(t,e,n){n=jr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){nh||(nh=!0,Rp=r),Ep(t,e)},n}function DE(t,e,n){n=jr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Ep(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Ep(t,e),typeof r!="function"&&(_i===null?_i=new Set([this]):_i.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function A0(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new QC;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=uA.bind(null,t,e,n),e.then(t,t))}function N0(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function P0(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=jr(-1,1),e.tag=2,wi(n,e,1))),n.lanes|=1),t)}var YC=Br.ReactCurrentOwner,un=!1;function Jt(t,e,n,r){e.child=t===null?uE(e,null,n,r):Fo(e,t.child,n,r)}function R0(t,e,n,r,i){n=n.render;var s=e.ref;return Co(e,i),r=ug(t,e,n,r,s,i),n=cg(),t!==null&&!un?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Mr(t,e,i)):(Xe&&n&&Jm(e),e.flags|=1,Jt(t,e,r,i),e.child)}function j0(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!wg(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,OE(t,e,s,r,i)):(t=wc(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:bl,n(o,r)&&t.ref===e.ref)return Mr(t,e,i)}return e.flags|=1,t=bi(s,r),t.ref=e.ref,t.return=e,e.child=t}function OE(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(bl(s,r)&&t.ref===e.ref)if(un=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(un=!0);else return e.lanes=t.lanes,Mr(t,e,i)}return bp(t,e,n,r,i)}function LE(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},He(_o,yn),yn|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,He(_o,yn),yn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,He(_o,yn),yn|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,He(_o,yn),yn|=r;return Jt(t,e,i,n),e.child}function ME(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function bp(t,e,n,r,i){var s=hn(n)?bs:$t.current;return s=Lo(e,s),Co(e,i),n=ug(t,e,n,r,s,i),r=cg(),t!==null&&!un?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Mr(t,e,i)):(Xe&&r&&Jm(e),e.flags|=1,Jt(t,e,n,i),e.child)}function D0(t,e,n,r,i){if(hn(n)){var s=!0;Wc(e)}else s=!1;if(Co(e,i),e.stateNode===null)yc(t,e),RE(e,n,r),_p(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Mn(u):(u=hn(n)?bs:$t.current,u=Lo(e,u));var h=n.getDerivedStateFromProps,f=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&C0(e,o,r,u),ri=!1;var p=e.memoizedState;o.state=p,Jc(e,r,o,i),l=e.memoizedState,a!==r||p!==l||cn.current||ri?(typeof h=="function"&&(wp(e,n,h,r),l=e.memoizedState),(a=ri||I0(e,n,a,r,p,l,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,hE(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:qn(e.type,a),o.props=u,f=e.pendingProps,p=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Mn(l):(l=hn(n)?bs:$t.current,l=Lo(e,l));var g=n.getDerivedStateFromProps;(h=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||p!==l)&&C0(e,o,r,l),ri=!1,p=e.memoizedState,o.state=p,Jc(e,r,o,i);var w=e.memoizedState;a!==f||p!==w||cn.current||ri?(typeof g=="function"&&(wp(e,n,g,r),w=e.memoizedState),(u=ri||I0(e,n,u,r,p,w,l)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,w,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,w,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=w),o.props=r,o.state=w,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),r=!1)}return kp(t,e,n,r,s,i)}function kp(t,e,n,r,i,s){ME(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&x0(e,n,!1),Mr(t,e,s);r=e.stateNode,YC.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Fo(e,t.child,null,s),e.child=Fo(e,null,a,s)):Jt(t,e,a,s),e.memoizedState=r.state,i&&x0(e,n,!0),e.child}function FE(t){var e=t.stateNode;e.pendingContext?v0(t,e.pendingContext,e.pendingContext!==e.context):e.context&&v0(t,e.context,!1),sg(t,e.containerInfo)}function O0(t,e,n,r,i){return Mo(),Zm(i),e.flags|=256,Jt(t,e,n,r),e.child}var Sp={dehydrated:null,treeContext:null,retryLane:0};function Tp(t){return{baseLanes:t,cachePool:null,transitions:null}}function VE(t,e,n){var r=e.pendingProps,i=Ze.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),He(Ze,i&1),t===null)return vp(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Qh(o,r,0,null),t=_s(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Tp(n),e.memoizedState=Sp,t):fg(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return JC(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=bi(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=bi(a,s):(s=_s(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?Tp(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=Sp,r}return s=t.child,t=s.sibling,r=bi(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function fg(t,e){return e=Qh({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Wu(t,e,n,r){return r!==null&&Zm(r),Fo(e,t.child,null,n),t=fg(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function JC(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=hf(Error(K(422))),Wu(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Qh({mode:"visible",children:r.children},i,0,null),s=_s(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Fo(e,t.child,null,o),e.child.memoizedState=Tp(o),e.memoizedState=Sp,s);if(!(e.mode&1))return Wu(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(K(419)),r=hf(s,r,void 0),Wu(t,e,o,r)}if(a=(o&t.childLanes)!==0,un||a){if(r=kt,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Lr(t,i),Jn(r,t,i,-1))}return xg(),r=hf(Error(K(421))),Wu(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=cA.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,vn=xi(i.nextSibling),wn=e,Xe=!0,Gn=null,t!==null&&(Nn[Pn++]=Ar,Nn[Pn++]=Nr,Nn[Pn++]=ks,Ar=t.id,Nr=t.overflow,ks=e),e=fg(e,r.children),e.flags|=4096,e)}function L0(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),xp(t.return,e,n)}function df(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function zE(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Jt(t,e,r.children,n),r=Ze.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&L0(t,n,e);else if(t.tag===19)L0(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(He(Ze,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Xc(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),df(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Xc(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}df(e,!0,n,null,s);break;case"together":df(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function yc(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Mr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Ts|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(K(153));if(e.child!==null){for(t=e.child,n=bi(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=bi(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function XC(t,e,n){switch(e.tag){case 3:FE(e),Mo();break;case 5:dE(e);break;case 1:hn(e.type)&&Wc(e);break;case 4:sg(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;He(Qc,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(He(Ze,Ze.current&1),e.flags|=128,null):n&e.child.childLanes?VE(t,e,n):(He(Ze,Ze.current&1),t=Mr(t,e,n),t!==null?t.sibling:null);He(Ze,Ze.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return zE(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),He(Ze,Ze.current),r)break;return null;case 22:case 23:return e.lanes=0,LE(t,e,n)}return Mr(t,e,n)}var UE,Ip,$E,BE;UE=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Ip=function(){};$E=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,gs(cr.current);var s=null;switch(n){case"input":i=Qf(t,i),r=Qf(t,r),s=[];break;case"select":i=nt({},i,{value:void 0}),r=nt({},r,{value:void 0}),s=[];break;case"textarea":i=Xf(t,i),r=Xf(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Hc)}ep(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(gl.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(gl.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Ge("scroll",t),s||a===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};BE=function(t,e,n,r){n!==r&&(e.flags|=4)};function ja(t,e){if(!Xe)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Lt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function ZC(t,e,n){var r=e.pendingProps;switch(Xm(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Lt(e),null;case 1:return hn(e.type)&&qc(),Lt(e),null;case 3:return r=e.stateNode,Vo(),Qe(cn),Qe($t),ag(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Hu(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Gn!==null&&(Op(Gn),Gn=null))),Ip(t,e),Lt(e),null;case 5:og(e);var i=gs(Cl.current);if(n=e.type,t!==null&&e.stateNode!=null)$E(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(K(166));return Lt(e),null}if(t=gs(cr.current),Hu(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[lr]=e,r[Tl]=s,t=(e.mode&1)!==0,n){case"dialog":Ge("cancel",r),Ge("close",r);break;case"iframe":case"object":case"embed":Ge("load",r);break;case"video":case"audio":for(i=0;i<Ua.length;i++)Ge(Ua[i],r);break;case"source":Ge("error",r);break;case"img":case"image":case"link":Ge("error",r),Ge("load",r);break;case"details":Ge("toggle",r);break;case"input":qv(r,s),Ge("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Ge("invalid",r);break;case"textarea":Gv(r,s),Ge("invalid",r)}ep(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&Bu(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Bu(r.textContent,a,t),i=["children",""+a]):gl.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Ge("scroll",r)}switch(n){case"input":Ou(r),Wv(r,s,!0);break;case"textarea":Ou(r),Kv(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Hc)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=y_(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[lr]=e,t[Tl]=r,UE(t,e,!1,!1),e.stateNode=t;e:{switch(o=tp(n,r),n){case"dialog":Ge("cancel",t),Ge("close",t),i=r;break;case"iframe":case"object":case"embed":Ge("load",t),i=r;break;case"video":case"audio":for(i=0;i<Ua.length;i++)Ge(Ua[i],t);i=r;break;case"source":Ge("error",t),i=r;break;case"img":case"image":case"link":Ge("error",t),Ge("load",t),i=r;break;case"details":Ge("toggle",t),i=r;break;case"input":qv(t,r),i=Qf(t,r),Ge("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=nt({},r,{value:void 0}),Ge("invalid",t);break;case"textarea":Gv(t,r),i=Xf(t,r),Ge("invalid",t);break;default:i=r}ep(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?w_(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&v_(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&yl(t,l):typeof l=="number"&&yl(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(gl.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Ge("scroll",t):l!=null&&Mm(t,s,l,o))}switch(n){case"input":Ou(t),Wv(t,r,!1);break;case"textarea":Ou(t),Kv(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Ri(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?ko(t,!!r.multiple,s,!1):r.defaultValue!=null&&ko(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Hc)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Lt(e),null;case 6:if(t&&e.stateNode!=null)BE(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(K(166));if(n=gs(Cl.current),gs(cr.current),Hu(e)){if(r=e.stateNode,n=e.memoizedProps,r[lr]=e,(s=r.nodeValue!==n)&&(t=wn,t!==null))switch(t.tag){case 3:Bu(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Bu(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[lr]=e,e.stateNode=r}return Lt(e),null;case 13:if(Qe(Ze),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Xe&&vn!==null&&e.mode&1&&!(e.flags&128))aE(),Mo(),e.flags|=98560,s=!1;else if(s=Hu(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(K(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(K(317));s[lr]=e}else Mo(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Lt(e),s=!1}else Gn!==null&&(Op(Gn),Gn=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Ze.current&1?yt===0&&(yt=3):xg())),e.updateQueue!==null&&(e.flags|=4),Lt(e),null);case 4:return Vo(),Ip(t,e),t===null&&kl(e.stateNode.containerInfo),Lt(e),null;case 10:return ng(e.type._context),Lt(e),null;case 17:return hn(e.type)&&qc(),Lt(e),null;case 19:if(Qe(Ze),s=e.memoizedState,s===null)return Lt(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)ja(s,!1);else{if(yt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Xc(t),o!==null){for(e.flags|=128,ja(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return He(Ze,Ze.current&1|2),e.child}t=t.sibling}s.tail!==null&&at()>Uo&&(e.flags|=128,r=!0,ja(s,!1),e.lanes=4194304)}else{if(!r)if(t=Xc(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),ja(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Xe)return Lt(e),null}else 2*at()-s.renderingStartTime>Uo&&n!==1073741824&&(e.flags|=128,r=!0,ja(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=at(),e.sibling=null,n=Ze.current,He(Ze,r?n&1|2:n&1),e):(Lt(e),null);case 22:case 23:return vg(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?yn&1073741824&&(Lt(e),e.subtreeFlags&6&&(e.flags|=8192)):Lt(e),null;case 24:return null;case 25:return null}throw Error(K(156,e.tag))}function eA(t,e){switch(Xm(e),e.tag){case 1:return hn(e.type)&&qc(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Vo(),Qe(cn),Qe($t),ag(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return og(e),null;case 13:if(Qe(Ze),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(K(340));Mo()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Qe(Ze),null;case 4:return Vo(),null;case 10:return ng(e.type._context),null;case 22:case 23:return vg(),null;case 24:return null;default:return null}}var Gu=!1,Vt=!1,tA=typeof WeakSet=="function"?WeakSet:Set,re=null;function wo(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){st(t,e,r)}else n.current=null}function Cp(t,e,n){try{n()}catch(r){st(t,e,r)}}var M0=!1;function nA(t,e){if(hp=Uc,t=K_(),Ym(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,h=0,f=t,p=null;t:for(;;){for(var g;f!==n||i!==0&&f.nodeType!==3||(a=o+i),f!==s||r!==0&&f.nodeType!==3||(l=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(g=f.firstChild)!==null;)p=f,f=g;for(;;){if(f===t)break t;if(p===n&&++u===i&&(a=o),p===s&&++h===r&&(l=o),(g=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=g}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(dp={focusedElem:t,selectionRange:n},Uc=!1,re=e;re!==null;)if(e=re,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,re=t;else for(;re!==null;){e=re;try{var w=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var T=w.memoizedProps,I=w.memoizedState,_=e.stateNode,v=_.getSnapshotBeforeUpdate(e.elementType===e.type?T:qn(e.type,T),I);_.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var x=e.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(K(163))}}catch(N){st(e,e.return,N)}if(t=e.sibling,t!==null){t.return=e.return,re=t;break}re=e.return}return w=M0,M0=!1,w}function nl(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&Cp(e,n,s)}i=i.next}while(i!==r)}}function Gh(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Ap(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function HE(t){var e=t.alternate;e!==null&&(t.alternate=null,HE(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[lr],delete e[Tl],delete e[mp],delete e[FC],delete e[VC])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function qE(t){return t.tag===5||t.tag===3||t.tag===4}function F0(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||qE(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Np(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Hc));else if(r!==4&&(t=t.child,t!==null))for(Np(t,e,n),t=t.sibling;t!==null;)Np(t,e,n),t=t.sibling}function Pp(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Pp(t,e,n),t=t.sibling;t!==null;)Pp(t,e,n),t=t.sibling}var It=null,Wn=!1;function Zr(t,e,n){for(n=n.child;n!==null;)WE(t,e,n),n=n.sibling}function WE(t,e,n){if(ur&&typeof ur.onCommitFiberUnmount=="function")try{ur.onCommitFiberUnmount(Vh,n)}catch{}switch(n.tag){case 5:Vt||wo(n,e);case 6:var r=It,i=Wn;It=null,Zr(t,e,n),It=r,Wn=i,It!==null&&(Wn?(t=It,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):It.removeChild(n.stateNode));break;case 18:It!==null&&(Wn?(t=It,n=n.stateNode,t.nodeType===8?sf(t.parentNode,n):t.nodeType===1&&sf(t,n),_l(t)):sf(It,n.stateNode));break;case 4:r=It,i=Wn,It=n.stateNode.containerInfo,Wn=!0,Zr(t,e,n),It=r,Wn=i;break;case 0:case 11:case 14:case 15:if(!Vt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Cp(n,e,o),i=i.next}while(i!==r)}Zr(t,e,n);break;case 1:if(!Vt&&(wo(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){st(n,e,a)}Zr(t,e,n);break;case 21:Zr(t,e,n);break;case 22:n.mode&1?(Vt=(r=Vt)||n.memoizedState!==null,Zr(t,e,n),Vt=r):Zr(t,e,n);break;default:Zr(t,e,n)}}function V0(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new tA),e.forEach(function(r){var i=hA.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Hn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:It=a.stateNode,Wn=!1;break e;case 3:It=a.stateNode.containerInfo,Wn=!0;break e;case 4:It=a.stateNode.containerInfo,Wn=!0;break e}a=a.return}if(It===null)throw Error(K(160));WE(s,o,i),It=null,Wn=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){st(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)GE(e,t),e=e.sibling}function GE(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Hn(e,t),rr(t),r&4){try{nl(3,t,t.return),Gh(3,t)}catch(T){st(t,t.return,T)}try{nl(5,t,t.return)}catch(T){st(t,t.return,T)}}break;case 1:Hn(e,t),rr(t),r&512&&n!==null&&wo(n,n.return);break;case 5:if(Hn(e,t),rr(t),r&512&&n!==null&&wo(n,n.return),t.flags&32){var i=t.stateNode;try{yl(i,"")}catch(T){st(t,t.return,T)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&m_(i,s),tp(a,o);var u=tp(a,s);for(o=0;o<l.length;o+=2){var h=l[o],f=l[o+1];h==="style"?w_(i,f):h==="dangerouslySetInnerHTML"?v_(i,f):h==="children"?yl(i,f):Mm(i,h,f,u)}switch(a){case"input":Yf(i,s);break;case"textarea":g_(i,s);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var g=s.value;g!=null?ko(i,!!s.multiple,g,!1):p!==!!s.multiple&&(s.defaultValue!=null?ko(i,!!s.multiple,s.defaultValue,!0):ko(i,!!s.multiple,s.multiple?[]:"",!1))}i[Tl]=s}catch(T){st(t,t.return,T)}}break;case 6:if(Hn(e,t),rr(t),r&4){if(t.stateNode===null)throw Error(K(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(T){st(t,t.return,T)}}break;case 3:if(Hn(e,t),rr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{_l(e.containerInfo)}catch(T){st(t,t.return,T)}break;case 4:Hn(e,t),rr(t);break;case 13:Hn(e,t),rr(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(gg=at())),r&4&&V0(t);break;case 22:if(h=n!==null&&n.memoizedState!==null,t.mode&1?(Vt=(u=Vt)||h,Hn(e,t),Vt=u):Hn(e,t),rr(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!h&&t.mode&1)for(re=t,h=t.child;h!==null;){for(f=re=h;re!==null;){switch(p=re,g=p.child,p.tag){case 0:case 11:case 14:case 15:nl(4,p,p.return);break;case 1:wo(p,p.return);var w=p.stateNode;if(typeof w.componentWillUnmount=="function"){r=p,n=p.return;try{e=r,w.props=e.memoizedProps,w.state=e.memoizedState,w.componentWillUnmount()}catch(T){st(r,n,T)}}break;case 5:wo(p,p.return);break;case 22:if(p.memoizedState!==null){U0(f);continue}}g!==null?(g.return=p,re=g):U0(f)}h=h.sibling}e:for(h=null,f=t;;){if(f.tag===5){if(h===null){h=f;try{i=f.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=x_("display",o))}catch(T){st(t,t.return,T)}}}else if(f.tag===6){if(h===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(T){st(t,t.return,T)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;h===f&&(h=null),f=f.return}h===f&&(h=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Hn(e,t),rr(t),r&4&&V0(t);break;case 21:break;default:Hn(e,t),rr(t)}}function rr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(qE(n)){var r=n;break e}n=n.return}throw Error(K(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(yl(i,""),r.flags&=-33);var s=F0(t);Pp(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=F0(t);Np(t,a,o);break;default:throw Error(K(161))}}catch(l){st(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function rA(t,e,n){re=t,KE(t)}function KE(t,e,n){for(var r=(t.mode&1)!==0;re!==null;){var i=re,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Gu;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Vt;a=Gu;var u=Vt;if(Gu=o,(Vt=l)&&!u)for(re=i;re!==null;)o=re,l=o.child,o.tag===22&&o.memoizedState!==null?$0(i):l!==null?(l.return=o,re=l):$0(i);for(;s!==null;)re=s,KE(s),s=s.sibling;re=i,Gu=a,Vt=u}z0(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,re=s):z0(t)}}function z0(t){for(;re!==null;){var e=re;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Vt||Gh(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Vt)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:qn(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&k0(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}k0(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var h=u.memoizedState;if(h!==null){var f=h.dehydrated;f!==null&&_l(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(K(163))}Vt||e.flags&512&&Ap(e)}catch(p){st(e,e.return,p)}}if(e===t){re=null;break}if(n=e.sibling,n!==null){n.return=e.return,re=n;break}re=e.return}}function U0(t){for(;re!==null;){var e=re;if(e===t){re=null;break}var n=e.sibling;if(n!==null){n.return=e.return,re=n;break}re=e.return}}function $0(t){for(;re!==null;){var e=re;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Gh(4,e)}catch(l){st(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){st(e,i,l)}}var s=e.return;try{Ap(e)}catch(l){st(e,s,l)}break;case 5:var o=e.return;try{Ap(e)}catch(l){st(e,o,l)}}}catch(l){st(e,e.return,l)}if(e===t){re=null;break}var a=e.sibling;if(a!==null){a.return=e.return,re=a;break}re=e.return}}var iA=Math.ceil,th=Br.ReactCurrentDispatcher,pg=Br.ReactCurrentOwner,Ln=Br.ReactCurrentBatchConfig,je=0,kt=null,ht=null,Nt=0,yn=0,_o=$i(0),yt=0,Rl=null,Ts=0,Kh=0,mg=0,rl=null,an=null,gg=0,Uo=1/0,Tr=null,nh=!1,Rp=null,_i=null,Ku=!1,di=null,rh=0,il=0,jp=null,vc=-1,xc=0;function en(){return je&6?at():vc!==-1?vc:vc=at()}function Ei(t){return t.mode&1?je&2&&Nt!==0?Nt&-Nt:UC.transition!==null?(xc===0&&(xc=R_()),xc):(t=Fe,t!==0||(t=window.event,t=t===void 0?16:V_(t.type)),t):1}function Jn(t,e,n,r){if(50<il)throw il=0,jp=null,Error(K(185));Xl(t,n,r),(!(je&2)||t!==kt)&&(t===kt&&(!(je&2)&&(Kh|=n),yt===4&&oi(t,Nt)),dn(t,r),n===1&&je===0&&!(e.mode&1)&&(Uo=at()+500,Hh&&Bi()))}function dn(t,e){var n=t.callbackNode;UI(t,e);var r=zc(t,t===kt?Nt:0);if(r===0)n!==null&&Jv(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Jv(n),e===1)t.tag===0?zC(B0.bind(null,t)):iE(B0.bind(null,t)),LC(function(){!(je&6)&&Bi()}),n=null;else{switch(j_(r)){case 1:n=$m;break;case 4:n=N_;break;case 16:n=Vc;break;case 536870912:n=P_;break;default:n=Vc}n=nb(n,QE.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function QE(t,e){if(vc=-1,xc=0,je&6)throw Error(K(327));var n=t.callbackNode;if(Ao()&&t.callbackNode!==n)return null;var r=zc(t,t===kt?Nt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=ih(t,r);else{e=r;var i=je;je|=2;var s=JE();(kt!==t||Nt!==e)&&(Tr=null,Uo=at()+500,ws(t,e));do try{aA();break}catch(a){YE(t,a)}while(!0);tg(),th.current=s,je=i,ht!==null?e=0:(kt=null,Nt=0,e=yt)}if(e!==0){if(e===2&&(i=op(t),i!==0&&(r=i,e=Dp(t,i))),e===1)throw n=Rl,ws(t,0),oi(t,r),dn(t,at()),n;if(e===6)oi(t,r);else{if(i=t.current.alternate,!(r&30)&&!sA(i)&&(e=ih(t,r),e===2&&(s=op(t),s!==0&&(r=s,e=Dp(t,s))),e===1))throw n=Rl,ws(t,0),oi(t,r),dn(t,at()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(K(345));case 2:cs(t,an,Tr);break;case 3:if(oi(t,r),(r&130023424)===r&&(e=gg+500-at(),10<e)){if(zc(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){en(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=pp(cs.bind(null,t,an,Tr),e);break}cs(t,an,Tr);break;case 4:if(oi(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Yn(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=at()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*iA(r/1960))-r,10<r){t.timeoutHandle=pp(cs.bind(null,t,an,Tr),r);break}cs(t,an,Tr);break;case 5:cs(t,an,Tr);break;default:throw Error(K(329))}}}return dn(t,at()),t.callbackNode===n?QE.bind(null,t):null}function Dp(t,e){var n=rl;return t.current.memoizedState.isDehydrated&&(ws(t,e).flags|=256),t=ih(t,e),t!==2&&(e=an,an=n,e!==null&&Op(e)),t}function Op(t){an===null?an=t:an.push.apply(an,t)}function sA(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!er(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function oi(t,e){for(e&=~mg,e&=~Kh,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Yn(e),r=1<<n;t[n]=-1,e&=~r}}function B0(t){if(je&6)throw Error(K(327));Ao();var e=zc(t,0);if(!(e&1))return dn(t,at()),null;var n=ih(t,e);if(t.tag!==0&&n===2){var r=op(t);r!==0&&(e=r,n=Dp(t,r))}if(n===1)throw n=Rl,ws(t,0),oi(t,e),dn(t,at()),n;if(n===6)throw Error(K(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,cs(t,an,Tr),dn(t,at()),null}function yg(t,e){var n=je;je|=1;try{return t(e)}finally{je=n,je===0&&(Uo=at()+500,Hh&&Bi())}}function Is(t){di!==null&&di.tag===0&&!(je&6)&&Ao();var e=je;je|=1;var n=Ln.transition,r=Fe;try{if(Ln.transition=null,Fe=1,t)return t()}finally{Fe=r,Ln.transition=n,je=e,!(je&6)&&Bi()}}function vg(){yn=_o.current,Qe(_o)}function ws(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,OC(n)),ht!==null)for(n=ht.return;n!==null;){var r=n;switch(Xm(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&qc();break;case 3:Vo(),Qe(cn),Qe($t),ag();break;case 5:og(r);break;case 4:Vo();break;case 13:Qe(Ze);break;case 19:Qe(Ze);break;case 10:ng(r.type._context);break;case 22:case 23:vg()}n=n.return}if(kt=t,ht=t=bi(t.current,null),Nt=yn=e,yt=0,Rl=null,mg=Kh=Ts=0,an=rl=null,ms!==null){for(e=0;e<ms.length;e++)if(n=ms[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}ms=null}return t}function YE(t,e){do{var n=ht;try{if(tg(),mc.current=eh,Zc){for(var r=tt.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Zc=!1}if(Ss=0,bt=mt=tt=null,tl=!1,Al=0,pg.current=null,n===null||n.return===null){yt=1,Rl=e,ht=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=Nt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,h=a,f=h.tag;if(!(h.mode&1)&&(f===0||f===11||f===15)){var p=h.alternate;p?(h.updateQueue=p.updateQueue,h.memoizedState=p.memoizedState,h.lanes=p.lanes):(h.updateQueue=null,h.memoizedState=null)}var g=N0(o);if(g!==null){g.flags&=-257,P0(g,o,a,s,e),g.mode&1&&A0(s,u,e),e=g,l=u;var w=e.updateQueue;if(w===null){var T=new Set;T.add(l),e.updateQueue=T}else w.add(l);break e}else{if(!(e&1)){A0(s,u,e),xg();break e}l=Error(K(426))}}else if(Xe&&a.mode&1){var I=N0(o);if(I!==null){!(I.flags&65536)&&(I.flags|=256),P0(I,o,a,s,e),Zm(zo(l,a));break e}}s=l=zo(l,a),yt!==4&&(yt=2),rl===null?rl=[s]:rl.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var _=jE(s,l,e);b0(s,_);break e;case 1:a=l;var v=s.type,x=s.stateNode;if(!(s.flags&128)&&(typeof v.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(_i===null||!_i.has(x)))){s.flags|=65536,e&=-e,s.lanes|=e;var N=DE(s,a,e);b0(s,N);break e}}s=s.return}while(s!==null)}ZE(n)}catch(O){e=O,ht===n&&n!==null&&(ht=n=n.return);continue}break}while(!0)}function JE(){var t=th.current;return th.current=eh,t===null?eh:t}function xg(){(yt===0||yt===3||yt===2)&&(yt=4),kt===null||!(Ts&268435455)&&!(Kh&268435455)||oi(kt,Nt)}function ih(t,e){var n=je;je|=2;var r=JE();(kt!==t||Nt!==e)&&(Tr=null,ws(t,e));do try{oA();break}catch(i){YE(t,i)}while(!0);if(tg(),je=n,th.current=r,ht!==null)throw Error(K(261));return kt=null,Nt=0,yt}function oA(){for(;ht!==null;)XE(ht)}function aA(){for(;ht!==null&&!RI();)XE(ht)}function XE(t){var e=tb(t.alternate,t,yn);t.memoizedProps=t.pendingProps,e===null?ZE(t):ht=e,pg.current=null}function ZE(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=eA(n,e),n!==null){n.flags&=32767,ht=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{yt=6,ht=null;return}}else if(n=ZC(n,e,yn),n!==null){ht=n;return}if(e=e.sibling,e!==null){ht=e;return}ht=e=t}while(e!==null);yt===0&&(yt=5)}function cs(t,e,n){var r=Fe,i=Ln.transition;try{Ln.transition=null,Fe=1,lA(t,e,n,r)}finally{Ln.transition=i,Fe=r}return null}function lA(t,e,n,r){do Ao();while(di!==null);if(je&6)throw Error(K(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(K(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if($I(t,s),t===kt&&(ht=kt=null,Nt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Ku||(Ku=!0,nb(Vc,function(){return Ao(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Ln.transition,Ln.transition=null;var o=Fe;Fe=1;var a=je;je|=4,pg.current=null,nA(t,n),GE(n,t),CC(dp),Uc=!!hp,dp=hp=null,t.current=n,rA(n),jI(),je=a,Fe=o,Ln.transition=s}else t.current=n;if(Ku&&(Ku=!1,di=t,rh=i),s=t.pendingLanes,s===0&&(_i=null),LI(n.stateNode),dn(t,at()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(nh)throw nh=!1,t=Rp,Rp=null,t;return rh&1&&t.tag!==0&&Ao(),s=t.pendingLanes,s&1?t===jp?il++:(il=0,jp=t):il=0,Bi(),null}function Ao(){if(di!==null){var t=j_(rh),e=Ln.transition,n=Fe;try{if(Ln.transition=null,Fe=16>t?16:t,di===null)var r=!1;else{if(t=di,di=null,rh=0,je&6)throw Error(K(331));var i=je;for(je|=4,re=t.current;re!==null;){var s=re,o=s.child;if(re.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(re=u;re!==null;){var h=re;switch(h.tag){case 0:case 11:case 15:nl(8,h,s)}var f=h.child;if(f!==null)f.return=h,re=f;else for(;re!==null;){h=re;var p=h.sibling,g=h.return;if(HE(h),h===u){re=null;break}if(p!==null){p.return=g,re=p;break}re=g}}}var w=s.alternate;if(w!==null){var T=w.child;if(T!==null){w.child=null;do{var I=T.sibling;T.sibling=null,T=I}while(T!==null)}}re=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,re=o;else e:for(;re!==null;){if(s=re,s.flags&2048)switch(s.tag){case 0:case 11:case 15:nl(9,s,s.return)}var _=s.sibling;if(_!==null){_.return=s.return,re=_;break e}re=s.return}}var v=t.current;for(re=v;re!==null;){o=re;var x=o.child;if(o.subtreeFlags&2064&&x!==null)x.return=o,re=x;else e:for(o=v;re!==null;){if(a=re,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Gh(9,a)}}catch(O){st(a,a.return,O)}if(a===o){re=null;break e}var N=a.sibling;if(N!==null){N.return=a.return,re=N;break e}re=a.return}}if(je=i,Bi(),ur&&typeof ur.onPostCommitFiberRoot=="function")try{ur.onPostCommitFiberRoot(Vh,t)}catch{}r=!0}return r}finally{Fe=n,Ln.transition=e}}return!1}function H0(t,e,n){e=zo(n,e),e=jE(t,e,1),t=wi(t,e,1),e=en(),t!==null&&(Xl(t,1,e),dn(t,e))}function st(t,e,n){if(t.tag===3)H0(t,t,n);else for(;e!==null;){if(e.tag===3){H0(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(_i===null||!_i.has(r))){t=zo(n,t),t=DE(e,t,1),e=wi(e,t,1),t=en(),e!==null&&(Xl(e,1,t),dn(e,t));break}}e=e.return}}function uA(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=en(),t.pingedLanes|=t.suspendedLanes&n,kt===t&&(Nt&n)===n&&(yt===4||yt===3&&(Nt&130023424)===Nt&&500>at()-gg?ws(t,0):mg|=n),dn(t,e)}function eb(t,e){e===0&&(t.mode&1?(e=Fu,Fu<<=1,!(Fu&130023424)&&(Fu=4194304)):e=1);var n=en();t=Lr(t,e),t!==null&&(Xl(t,e,n),dn(t,n))}function cA(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),eb(t,n)}function hA(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(K(314))}r!==null&&r.delete(e),eb(t,n)}var tb;tb=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||cn.current)un=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return un=!1,XC(t,e,n);un=!!(t.flags&131072)}else un=!1,Xe&&e.flags&1048576&&sE(e,Kc,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;yc(t,e),t=e.pendingProps;var i=Lo(e,$t.current);Co(e,n),i=ug(null,e,r,t,i,n);var s=cg();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,hn(r)?(s=!0,Wc(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,ig(e),i.updater=Wh,e.stateNode=i,i._reactInternals=e,_p(e,r,t,n),e=kp(null,e,r,!0,s,n)):(e.tag=0,Xe&&s&&Jm(e),Jt(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(yc(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=fA(r),t=qn(r,t),i){case 0:e=bp(null,e,r,t,n);break e;case 1:e=D0(null,e,r,t,n);break e;case 11:e=R0(null,e,r,t,n);break e;case 14:e=j0(null,e,r,qn(r.type,t),n);break e}throw Error(K(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:qn(r,i),bp(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:qn(r,i),D0(t,e,r,i,n);case 3:e:{if(FE(e),t===null)throw Error(K(387));r=e.pendingProps,s=e.memoizedState,i=s.element,hE(t,e),Jc(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=zo(Error(K(423)),e),e=O0(t,e,r,n,i);break e}else if(r!==i){i=zo(Error(K(424)),e),e=O0(t,e,r,n,i);break e}else for(vn=xi(e.stateNode.containerInfo.firstChild),wn=e,Xe=!0,Gn=null,n=uE(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Mo(),r===i){e=Mr(t,e,n);break e}Jt(t,e,r,n)}e=e.child}return e;case 5:return dE(e),t===null&&vp(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,fp(r,i)?o=null:s!==null&&fp(r,s)&&(e.flags|=32),ME(t,e),Jt(t,e,o,n),e.child;case 6:return t===null&&vp(e),null;case 13:return VE(t,e,n);case 4:return sg(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Fo(e,null,r,n):Jt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:qn(r,i),R0(t,e,r,i,n);case 7:return Jt(t,e,e.pendingProps,n),e.child;case 8:return Jt(t,e,e.pendingProps.children,n),e.child;case 12:return Jt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,He(Qc,r._currentValue),r._currentValue=o,s!==null)if(er(s.value,o)){if(s.children===i.children&&!cn.current){e=Mr(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=jr(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var h=u.pending;h===null?l.next=l:(l.next=h.next,h.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),xp(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(K(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),xp(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Jt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Co(e,n),i=Mn(i),r=r(i),e.flags|=1,Jt(t,e,r,n),e.child;case 14:return r=e.type,i=qn(r,e.pendingProps),i=qn(r.type,i),j0(t,e,r,i,n);case 15:return OE(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:qn(r,i),yc(t,e),e.tag=1,hn(r)?(t=!0,Wc(e)):t=!1,Co(e,n),RE(e,r,i),_p(e,r,i,n),kp(null,e,r,!0,t,n);case 19:return zE(t,e,n);case 22:return LE(t,e,n)}throw Error(K(156,e.tag))};function nb(t,e){return A_(t,e)}function dA(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function On(t,e,n,r){return new dA(t,e,n,r)}function wg(t){return t=t.prototype,!(!t||!t.isReactComponent)}function fA(t){if(typeof t=="function")return wg(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Vm)return 11;if(t===zm)return 14}return 2}function bi(t,e){var n=t.alternate;return n===null?(n=On(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function wc(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")wg(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case co:return _s(n.children,i,s,e);case Fm:o=8,i|=8;break;case qf:return t=On(12,n,e,i|2),t.elementType=qf,t.lanes=s,t;case Wf:return t=On(13,n,e,i),t.elementType=Wf,t.lanes=s,t;case Gf:return t=On(19,n,e,i),t.elementType=Gf,t.lanes=s,t;case d_:return Qh(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case c_:o=10;break e;case h_:o=9;break e;case Vm:o=11;break e;case zm:o=14;break e;case ni:o=16,r=null;break e}throw Error(K(130,t==null?t:typeof t,""))}return e=On(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function _s(t,e,n,r){return t=On(7,t,r,e),t.lanes=n,t}function Qh(t,e,n,r){return t=On(22,t,r,e),t.elementType=d_,t.lanes=n,t.stateNode={isHidden:!1},t}function ff(t,e,n){return t=On(6,t,null,e),t.lanes=n,t}function pf(t,e,n){return e=On(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function pA(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Gd(0),this.expirationTimes=Gd(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Gd(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function _g(t,e,n,r,i,s,o,a,l){return t=new pA(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=On(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},ig(s),t}function mA(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:uo,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function rb(t){if(!t)return ji;t=t._reactInternals;e:{if(Ls(t)!==t||t.tag!==1)throw Error(K(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(hn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(K(171))}if(t.tag===1){var n=t.type;if(hn(n))return rE(t,n,e)}return e}function ib(t,e,n,r,i,s,o,a,l){return t=_g(n,r,!0,t,i,s,o,a,l),t.context=rb(null),n=t.current,r=en(),i=Ei(n),s=jr(r,i),s.callback=e??null,wi(n,s,i),t.current.lanes=i,Xl(t,i,r),dn(t,r),t}function Yh(t,e,n,r){var i=e.current,s=en(),o=Ei(i);return n=rb(n),e.context===null?e.context=n:e.pendingContext=n,e=jr(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=wi(i,e,o),t!==null&&(Jn(t,i,o,s),pc(t,i,o)),o}function sh(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function q0(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Eg(t,e){q0(t,e),(t=t.alternate)&&q0(t,e)}function gA(){return null}var sb=typeof reportError=="function"?reportError:function(t){console.error(t)};function bg(t){this._internalRoot=t}Jh.prototype.render=bg.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(K(409));Yh(t,e,null,null)};Jh.prototype.unmount=bg.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Is(function(){Yh(null,t,null,null)}),e[Or]=null}};function Jh(t){this._internalRoot=t}Jh.prototype.unstable_scheduleHydration=function(t){if(t){var e=L_();t={blockedOn:null,target:t,priority:e};for(var n=0;n<si.length&&e!==0&&e<si[n].priority;n++);si.splice(n,0,t),n===0&&F_(t)}};function kg(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Xh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function W0(){}function yA(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=sh(o);s.call(u)}}var o=ib(e,r,t,0,null,!1,!1,"",W0);return t._reactRootContainer=o,t[Or]=o.current,kl(t.nodeType===8?t.parentNode:t),Is(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=sh(l);a.call(u)}}var l=_g(t,0,!1,null,null,!1,!1,"",W0);return t._reactRootContainer=l,t[Or]=l.current,kl(t.nodeType===8?t.parentNode:t),Is(function(){Yh(e,l,n,r)}),l}function Zh(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=sh(o);a.call(l)}}Yh(e,o,t,i)}else o=yA(n,e,t,i,r);return sh(o)}D_=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=za(e.pendingLanes);n!==0&&(Bm(e,n|1),dn(e,at()),!(je&6)&&(Uo=at()+500,Bi()))}break;case 13:Is(function(){var r=Lr(t,1);if(r!==null){var i=en();Jn(r,t,1,i)}}),Eg(t,1)}};Hm=function(t){if(t.tag===13){var e=Lr(t,134217728);if(e!==null){var n=en();Jn(e,t,134217728,n)}Eg(t,134217728)}};O_=function(t){if(t.tag===13){var e=Ei(t),n=Lr(t,e);if(n!==null){var r=en();Jn(n,t,e,r)}Eg(t,e)}};L_=function(){return Fe};M_=function(t,e){var n=Fe;try{return Fe=t,e()}finally{Fe=n}};rp=function(t,e,n){switch(e){case"input":if(Yf(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Bh(r);if(!i)throw Error(K(90));p_(r),Yf(r,i)}}}break;case"textarea":g_(t,n);break;case"select":e=n.value,e!=null&&ko(t,!!n.multiple,e,!1)}};b_=yg;k_=Is;var vA={usingClientEntryPoint:!1,Events:[eu,mo,Bh,__,E_,yg]},Da={findFiberByHostInstance:ps,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},xA={bundleType:Da.bundleType,version:Da.version,rendererPackageName:Da.rendererPackageName,rendererConfig:Da.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Br.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=I_(t),t===null?null:t.stateNode},findFiberByHostInstance:Da.findFiberByHostInstance||gA,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Qu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Qu.isDisabled&&Qu.supportsFiber)try{Vh=Qu.inject(xA),ur=Qu}catch{}}bn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=vA;bn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!kg(e))throw Error(K(200));return mA(t,e,null,n)};bn.createRoot=function(t,e){if(!kg(t))throw Error(K(299));var n=!1,r="",i=sb;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=_g(t,1,!1,null,null,n,!1,r,i),t[Or]=e.current,kl(t.nodeType===8?t.parentNode:t),new bg(e)};bn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(K(188)):(t=Object.keys(t).join(","),Error(K(268,t)));return t=I_(e),t=t===null?null:t.stateNode,t};bn.flushSync=function(t){return Is(t)};bn.hydrate=function(t,e,n){if(!Xh(e))throw Error(K(200));return Zh(null,t,e,!0,n)};bn.hydrateRoot=function(t,e,n){if(!kg(t))throw Error(K(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=sb;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=ib(e,null,t,1,n??null,i,!1,s,o),t[Or]=e.current,kl(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Jh(e)};bn.render=function(t,e,n){if(!Xh(e))throw Error(K(200));return Zh(null,t,e,!1,n)};bn.unmountComponentAtNode=function(t){if(!Xh(t))throw Error(K(40));return t._reactRootContainer?(Is(function(){Zh(null,null,t,!1,function(){t._reactRootContainer=null,t[Or]=null})}),!0):!1};bn.unstable_batchedUpdates=yg;bn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Xh(n))throw Error(K(200));if(t==null||t._reactInternals===void 0)throw Error(K(38));return Zh(t,e,n,!1,r)};bn.version="18.3.1-next-f1338f8080-20240426";function ob(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(ob)}catch(t){console.error(t)}}ob(),o_.exports=bn;var wA=o_.exports,G0=wA;Bf.createRoot=G0.createRoot,Bf.hydrateRoot=G0.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function jl(){return jl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jl.apply(this,arguments)}var fi;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(fi||(fi={}));const K0="popstate";function _A(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return Lp("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:oh(i)}return bA(e,n,null,t)}function lt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function ab(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function EA(){return Math.random().toString(36).substr(2,8)}function Q0(t,e){return{usr:t.state,key:t.key,idx:e}}function Lp(t,e,n,r){return n===void 0&&(n=null),jl({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?na(e):e,{state:n,key:e&&e.key||r||EA()})}function oh(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function na(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function bA(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=fi.Pop,l=null,u=h();u==null&&(u=0,o.replaceState(jl({},o.state,{idx:u}),""));function h(){return(o.state||{idx:null}).idx}function f(){a=fi.Pop;let I=h(),_=I==null?null:I-u;u=I,l&&l({action:a,location:T.location,delta:_})}function p(I,_){a=fi.Push;let v=Lp(T.location,I,_);u=h()+1;let x=Q0(v,u),N=T.createHref(v);try{o.pushState(x,"",N)}catch(O){if(O instanceof DOMException&&O.name==="DataCloneError")throw O;i.location.assign(N)}s&&l&&l({action:a,location:T.location,delta:1})}function g(I,_){a=fi.Replace;let v=Lp(T.location,I,_);u=h();let x=Q0(v,u),N=T.createHref(v);o.replaceState(x,"",N),s&&l&&l({action:a,location:T.location,delta:0})}function w(I){let _=i.location.origin!=="null"?i.location.origin:i.location.href,v=typeof I=="string"?I:oh(I);return v=v.replace(/ $/,"%20"),lt(_,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,_)}let T={get action(){return a},get location(){return t(i,o)},listen(I){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(K0,f),l=I,()=>{i.removeEventListener(K0,f),l=null}},createHref(I){return e(i,I)},createURL:w,encodeLocation(I){let _=w(I);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:p,replace:g,go(I){return o.go(I)}};return T}var Y0;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Y0||(Y0={}));function kA(t,e,n){return n===void 0&&(n="/"),SA(t,e,n)}function SA(t,e,n,r){let i=typeof e=="string"?na(e):e,s=Sg(i.pathname||"/",n);if(s==null)return null;let o=lb(t);TA(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let u=FA(s);a=OA(o[l],u)}return a}function lb(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(lt(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=ki([r,l.relativePath]),h=n.concat(l);s.children&&s.children.length>0&&(lt(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),lb(s.children,e,h,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:jA(u,s.index),routesMeta:h})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of ub(s.path))i(s,o,l)}),e}function ub(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=ub(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function TA(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:DA(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const IA=/^:[\w-]+$/,CA=3,AA=2,NA=1,PA=10,RA=-2,J0=t=>t==="*";function jA(t,e){let n=t.split("/"),r=n.length;return n.some(J0)&&(r+=RA),e&&(r+=AA),n.filter(i=>!J0(i)).reduce((i,s)=>i+(IA.test(s)?CA:s===""?NA:PA),r)}function DA(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function OA(t,e,n){let{routesMeta:r}=t,i={},s="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],u=a===r.length-1,h=s==="/"?e:e.slice(s.length)||"/",f=LA({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},h),p=l.route;if(!f)return null;Object.assign(i,f.params),o.push({params:i,pathname:ki([s,f.pathname]),pathnameBase:$A(ki([s,f.pathnameBase])),route:p}),f.pathnameBase!=="/"&&(s=ki([s,f.pathnameBase]))}return o}function LA(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=MA(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,h,f)=>{let{paramName:p,isOptional:g}=h;if(p==="*"){let T=a[f]||"";o=s.slice(0,s.length-T.length).replace(/(.)\/+$/,"$1")}const w=a[f];return g&&!w?u[p]=void 0:u[p]=(w||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:o,pattern:t}}function MA(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),ab(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function FA(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ab(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Sg(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function VA(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?na(t):t;return{pathname:n?n.startsWith("/")?n:zA(n,e):e,search:BA(r),hash:HA(i)}}function zA(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function mf(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function UA(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Tg(t,e){let n=UA(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Ig(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=na(t):(i=jl({},t),lt(!i.pathname||!i.pathname.includes("?"),mf("?","pathname","search",i)),lt(!i.pathname||!i.pathname.includes("#"),mf("#","pathname","hash",i)),lt(!i.search||!i.search.includes("#"),mf("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let f=e.length-1;if(!r&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),f-=1;i.pathname=p.join("/")}a=f>=0?e[f]:"/"}let l=VA(i,a),u=o&&o!=="/"&&o.endsWith("/"),h=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||h)&&(l.pathname+="/"),l}const ki=t=>t.join("/").replace(/\/\/+/g,"/"),$A=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),BA=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,HA=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function qA(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const cb=["post","put","patch","delete"];new Set(cb);const WA=["get",...cb];new Set(WA);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Dl(){return Dl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Dl.apply(this,arguments)}const Cg=M.createContext(null),GA=M.createContext(null),Hi=M.createContext(null),ed=M.createContext(null),qi=M.createContext({outlet:null,matches:[],isDataRoute:!1}),hb=M.createContext(null);function KA(t,e){let{relative:n}=e===void 0?{}:e;ra()||lt(!1);let{basename:r,navigator:i}=M.useContext(Hi),{hash:s,pathname:o,search:a}=fb(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:ki([r,o])),i.createHref({pathname:l,search:a,hash:s})}function ra(){return M.useContext(ed)!=null}function nu(){return ra()||lt(!1),M.useContext(ed).location}function db(t){M.useContext(Hi).static||M.useLayoutEffect(t)}function Ms(){let{isDataRoute:t}=M.useContext(qi);return t?aN():QA()}function QA(){ra()||lt(!1);let t=M.useContext(Cg),{basename:e,future:n,navigator:r}=M.useContext(Hi),{matches:i}=M.useContext(qi),{pathname:s}=nu(),o=JSON.stringify(Tg(i,n.v7_relativeSplatPath)),a=M.useRef(!1);return db(()=>{a.current=!0}),M.useCallback(function(u,h){if(h===void 0&&(h={}),!a.current)return;if(typeof u=="number"){r.go(u);return}let f=Ig(u,JSON.parse(o),s,h.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:ki([e,f.pathname])),(h.replace?r.replace:r.push)(f,h.state,h)},[e,r,o,s,t])}function fb(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=M.useContext(Hi),{matches:i}=M.useContext(qi),{pathname:s}=nu(),o=JSON.stringify(Tg(i,r.v7_relativeSplatPath));return M.useMemo(()=>Ig(t,JSON.parse(o),s,n==="path"),[t,o,s,n])}function YA(t,e){return JA(t,e)}function JA(t,e,n,r){ra()||lt(!1);let{navigator:i}=M.useContext(Hi),{matches:s}=M.useContext(qi),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let u=nu(),h;if(e){var f;let I=typeof e=="string"?na(e):e;l==="/"||(f=I.pathname)!=null&&f.startsWith(l)||lt(!1),h=I}else h=u;let p=h.pathname||"/",g=p;if(l!=="/"){let I=l.replace(/^\//,"").split("/");g="/"+p.replace(/^\//,"").split("/").slice(I.length).join("/")}let w=kA(t,{pathname:g}),T=nN(w&&w.map(I=>Object.assign({},I,{params:Object.assign({},a,I.params),pathname:ki([l,i.encodeLocation?i.encodeLocation(I.pathname).pathname:I.pathname]),pathnameBase:I.pathnameBase==="/"?l:ki([l,i.encodeLocation?i.encodeLocation(I.pathnameBase).pathname:I.pathnameBase])})),s,n,r);return e&&T?M.createElement(ed.Provider,{value:{location:Dl({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:fi.Pop}},T):T}function XA(){let t=oN(),e=qA(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return M.createElement(M.Fragment,null,M.createElement("h2",null,"Unexpected Application Error!"),M.createElement("h3",{style:{fontStyle:"italic"}},e),n?M.createElement("pre",{style:i},n):null,null)}const ZA=M.createElement(XA,null);class eN extends M.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?M.createElement(qi.Provider,{value:this.props.routeContext},M.createElement(hb.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function tN(t){let{routeContext:e,match:n,children:r}=t,i=M.useContext(Cg);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),M.createElement(qi.Provider,{value:e},r)}function nN(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let h=o.findIndex(f=>f.route.id&&(a==null?void 0:a[f.route.id])!==void 0);h>=0||lt(!1),o=o.slice(0,Math.min(o.length,h+1))}let l=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let h=0;h<o.length;h++){let f=o[h];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=h),f.route.id){let{loaderData:p,errors:g}=n,w=f.route.loader&&p[f.route.id]===void 0&&(!g||g[f.route.id]===void 0);if(f.route.lazy||w){l=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((h,f,p)=>{let g,w=!1,T=null,I=null;n&&(g=a&&f.route.id?a[f.route.id]:void 0,T=f.route.errorElement||ZA,l&&(u<0&&p===0?(lN("route-fallback"),w=!0,I=null):u===p&&(w=!0,I=f.route.hydrateFallbackElement||null)));let _=e.concat(o.slice(0,p+1)),v=()=>{let x;return g?x=T:w?x=I:f.route.Component?x=M.createElement(f.route.Component,null):f.route.element?x=f.route.element:x=h,M.createElement(tN,{match:f,routeContext:{outlet:h,matches:_,isDataRoute:n!=null},children:x})};return n&&(f.route.ErrorBoundary||f.route.errorElement||p===0)?M.createElement(eN,{location:n.location,revalidation:n.revalidation,component:T,error:g,children:v(),routeContext:{outlet:null,matches:_,isDataRoute:!0}}):v()},null)}var pb=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(pb||{}),mb=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(mb||{});function rN(t){let e=M.useContext(Cg);return e||lt(!1),e}function iN(t){let e=M.useContext(GA);return e||lt(!1),e}function sN(t){let e=M.useContext(qi);return e||lt(!1),e}function gb(t){let e=sN(),n=e.matches[e.matches.length-1];return n.route.id||lt(!1),n.route.id}function oN(){var t;let e=M.useContext(hb),n=iN(),r=gb();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function aN(){let{router:t}=rN(pb.UseNavigateStable),e=gb(mb.UseNavigateStable),n=M.useRef(!1);return db(()=>{n.current=!0}),M.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Dl({fromRouteId:e},s)))},[t,e])}const X0={};function lN(t,e,n){X0[t]||(X0[t]=!0)}function uN(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function ii(t){let{to:e,replace:n,state:r,relative:i}=t;ra()||lt(!1);let{future:s,static:o}=M.useContext(Hi),{matches:a}=M.useContext(qi),{pathname:l}=nu(),u=Ms(),h=Ig(e,Tg(a,s.v7_relativeSplatPath),l,i==="path"),f=JSON.stringify(h);return M.useEffect(()=>u(JSON.parse(f),{replace:n,state:r,relative:i}),[u,f,i,n,r]),null}function hs(t){lt(!1)}function cN(t){let{basename:e="/",children:n=null,location:r,navigationType:i=fi.Pop,navigator:s,static:o=!1,future:a}=t;ra()&&lt(!1);let l=e.replace(/^\/*/,"/"),u=M.useMemo(()=>({basename:l,navigator:s,static:o,future:Dl({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof r=="string"&&(r=na(r));let{pathname:h="/",search:f="",hash:p="",state:g=null,key:w="default"}=r,T=M.useMemo(()=>{let I=Sg(h,l);return I==null?null:{location:{pathname:I,search:f,hash:p,state:g,key:w},navigationType:i}},[l,h,f,p,g,w,i]);return T==null?null:M.createElement(Hi.Provider,{value:u},M.createElement(ed.Provider,{children:n,value:T}))}function hN(t){let{children:e,location:n}=t;return YA(Mp(e),n)}new Promise(()=>{});function Mp(t,e){e===void 0&&(e=[]);let n=[];return M.Children.forEach(t,(r,i)=>{if(!M.isValidElement(r))return;let s=[...e,i];if(r.type===M.Fragment){n.push.apply(n,Mp(r.props.children,s));return}r.type!==hs&&lt(!1),!r.props.index||!r.props.children||lt(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Mp(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Fp(){return Fp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Fp.apply(this,arguments)}function dN(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function fN(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function pN(t,e){return t.button===0&&(!e||e==="_self")&&!fN(t)}const mN=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],gN="6";try{window.__reactRouterVersion=gN}catch{}const yN="startTransition",Z0=uI[yN];function vN(t){let{basename:e,children:n,future:r,window:i}=t,s=M.useRef();s.current==null&&(s.current=_A({window:i,v5Compat:!0}));let o=s.current,[a,l]=M.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},h=M.useCallback(f=>{u&&Z0?Z0(()=>l(f)):l(f)},[l,u]);return M.useLayoutEffect(()=>o.listen(h),[o,h]),M.useEffect(()=>uN(r),[r]),M.createElement(cN,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const xN=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",wN=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ah=M.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:u,preventScrollReset:h,viewTransition:f}=e,p=dN(e,mN),{basename:g}=M.useContext(Hi),w,T=!1;if(typeof u=="string"&&wN.test(u)&&(w=u,xN))try{let x=new URL(window.location.href),N=u.startsWith("//")?new URL(x.protocol+u):new URL(u),O=Sg(N.pathname,g);N.origin===x.origin&&O!=null?u=O+N.search+N.hash:T=!0}catch{}let I=KA(u,{relative:i}),_=_N(u,{replace:o,state:a,target:l,preventScrollReset:h,relative:i,viewTransition:f});function v(x){r&&r(x),x.defaultPrevented||_(x)}return M.createElement("a",Fp({},p,{href:w||I,onClick:T||s?r:v,ref:n,target:l}))});var ex;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(ex||(ex={}));var tx;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(tx||(tx={}));function _N(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,viewTransition:a}=e===void 0?{}:e,l=Ms(),u=nu(),h=fb(t,{relative:o});return M.useCallback(f=>{if(pN(f,n)){f.preventDefault();let p=r!==void 0?r:oh(u)===oh(h);l(t,{replace:p,state:i,preventScrollReset:s,relative:o,viewTransition:a})}},[u,l,h,r,i,n,t,s,o,a])}let EN={data:""},bN=t=>typeof window=="object"?((t?t.querySelector("#_goober"):window._goober)||Object.assign((t||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:t||EN,kN=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,SN=/\/\*[^]*?\*\/|  +/g,nx=/\n+/g,ai=(t,e)=>{let n="",r="",i="";for(let s in t){let o=t[s];s[0]=="@"?s[1]=="i"?n=s+" "+o+";":r+=s[1]=="f"?ai(o,s):s+"{"+ai(o,s[1]=="k"?"":e)+"}":typeof o=="object"?r+=ai(o,e?e.replace(/([^,])+/g,a=>s.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,l=>/&/.test(l)?l.replace(/&/g,a):a?a+" "+l:l)):s):o!=null&&(s=/^--/.test(s)?s:s.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=ai.p?ai.p(s,o):s+":"+o+";")}return n+(e&&i?e+"{"+i+"}":i)+r},Sr={},yb=t=>{if(typeof t=="object"){let e="";for(let n in t)e+=n+yb(t[n]);return e}return t},TN=(t,e,n,r,i)=>{let s=yb(t),o=Sr[s]||(Sr[s]=(l=>{let u=0,h=11;for(;u<l.length;)h=101*h+l.charCodeAt(u++)>>>0;return"go"+h})(s));if(!Sr[o]){let l=s!==t?t:(u=>{let h,f,p=[{}];for(;h=kN.exec(u.replace(SN,""));)h[4]?p.shift():h[3]?(f=h[3].replace(nx," ").trim(),p.unshift(p[0][f]=p[0][f]||{})):p[0][h[1]]=h[2].replace(nx," ").trim();return p[0]})(t);Sr[o]=ai(i?{["@keyframes "+o]:l}:l,n?"":"."+o)}let a=n&&Sr.g?Sr.g:null;return n&&(Sr.g=Sr[o]),((l,u,h,f)=>{f?u.data=u.data.replace(f,l):u.data.indexOf(l)===-1&&(u.data=h?l+u.data:u.data+l)})(Sr[o],e,r,a),o},IN=(t,e,n)=>t.reduce((r,i,s)=>{let o=e[s];if(o&&o.call){let a=o(n),l=a&&a.props&&a.props.className||/^go/.test(a)&&a;o=l?"."+l:a&&typeof a=="object"?a.props?"":ai(a,""):a===!1?"":a}return r+i+(o??"")},"");function td(t){let e=this||{},n=t.call?t(e.p):t;return TN(n.unshift?n.raw?IN(n,[].slice.call(arguments,1),e.p):n.reduce((r,i)=>Object.assign(r,i&&i.call?i(e.p):i),{}):n,bN(e.target),e.g,e.o,e.k)}let vb,Vp,zp;td.bind({g:1});let Fr=td.bind({k:1});function CN(t,e,n,r){ai.p=e,vb=t,Vp=n,zp=r}function Wi(t,e){let n=this||{};return function(){let r=arguments;function i(s,o){let a=Object.assign({},s),l=a.className||i.className;n.p=Object.assign({theme:Vp&&Vp()},a),n.o=/ *go\d+/.test(l),a.className=td.apply(n,r)+(l?" "+l:"");let u=t;return t[0]&&(u=a.as||t,delete a.as),zp&&u[0]&&zp(a),vb(u,a)}return i}}var AN=t=>typeof t=="function",lh=(t,e)=>AN(t)?t(e):t,NN=(()=>{let t=0;return()=>(++t).toString()})(),xb=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),PN=20,wb=(t,e)=>{switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,PN)};case 1:return{...t,toasts:t.toasts.map(s=>s.id===e.toast.id?{...s,...e.toast}:s)};case 2:let{toast:n}=e;return wb(t,{type:t.toasts.find(s=>s.id===n.id)?1:0,toast:n});case 3:let{toastId:r}=e;return{...t,toasts:t.toasts.map(s=>s.id===r||r===void 0?{...s,dismissed:!0,visible:!1}:s)};case 4:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(s=>s.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let i=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(s=>({...s,pauseDuration:s.pauseDuration+i}))}}},_c=[],ys={toasts:[],pausedAt:void 0},Fs=t=>{ys=wb(ys,t),_c.forEach(e=>{e(ys)})},RN={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},jN=(t={})=>{let[e,n]=M.useState(ys),r=M.useRef(ys);M.useEffect(()=>(r.current!==ys&&n(ys),_c.push(n),()=>{let s=_c.indexOf(n);s>-1&&_c.splice(s,1)}),[]);let i=e.toasts.map(s=>{var o,a,l;return{...t,...t[s.type],...s,removeDelay:s.removeDelay||((o=t[s.type])==null?void 0:o.removeDelay)||(t==null?void 0:t.removeDelay),duration:s.duration||((a=t[s.type])==null?void 0:a.duration)||(t==null?void 0:t.duration)||RN[s.type],style:{...t.style,...(l=t[s.type])==null?void 0:l.style,...s.style}}});return{...e,toasts:i}},DN=(t,e="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...n,id:(n==null?void 0:n.id)||NN()}),ru=t=>(e,n)=>{let r=DN(e,t,n);return Fs({type:2,toast:r}),r.id},Xt=(t,e)=>ru("blank")(t,e);Xt.error=ru("error");Xt.success=ru("success");Xt.loading=ru("loading");Xt.custom=ru("custom");Xt.dismiss=t=>{Fs({type:3,toastId:t})};Xt.remove=t=>Fs({type:4,toastId:t});Xt.promise=(t,e,n)=>{let r=Xt.loading(e.loading,{...n,...n==null?void 0:n.loading});return typeof t=="function"&&(t=t()),t.then(i=>{let s=e.success?lh(e.success,i):void 0;return s?Xt.success(s,{id:r,...n,...n==null?void 0:n.success}):Xt.dismiss(r),i}).catch(i=>{let s=e.error?lh(e.error,i):void 0;s?Xt.error(s,{id:r,...n,...n==null?void 0:n.error}):Xt.dismiss(r)}),t};var ON=(t,e)=>{Fs({type:1,toast:{id:t,height:e}})},LN=()=>{Fs({type:5,time:Date.now()})},sl=new Map,MN=1e3,FN=(t,e=MN)=>{if(sl.has(t))return;let n=setTimeout(()=>{sl.delete(t),Fs({type:4,toastId:t})},e);sl.set(t,n)},VN=t=>{let{toasts:e,pausedAt:n}=jN(t);M.useEffect(()=>{if(n)return;let s=Date.now(),o=e.map(a=>{if(a.duration===1/0)return;let l=(a.duration||0)+a.pauseDuration-(s-a.createdAt);if(l<0){a.visible&&Xt.dismiss(a.id);return}return setTimeout(()=>Xt.dismiss(a.id),l)});return()=>{o.forEach(a=>a&&clearTimeout(a))}},[e,n]);let r=M.useCallback(()=>{n&&Fs({type:6,time:Date.now()})},[n]),i=M.useCallback((s,o)=>{let{reverseOrder:a=!1,gutter:l=8,defaultPosition:u}=o||{},h=e.filter(g=>(g.position||u)===(s.position||u)&&g.height),f=h.findIndex(g=>g.id===s.id),p=h.filter((g,w)=>w<f&&g.visible).length;return h.filter(g=>g.visible).slice(...a?[p+1]:[0,p]).reduce((g,w)=>g+(w.height||0)+l,0)},[e]);return M.useEffect(()=>{e.forEach(s=>{if(s.dismissed)FN(s.id,s.removeDelay);else{let o=sl.get(s.id);o&&(clearTimeout(o),sl.delete(s.id))}})},[e]),{toasts:e,handlers:{updateHeight:ON,startPause:LN,endPause:r,calculateOffset:i}}},zN=Fr`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,UN=Fr`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,$N=Fr`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,BN=Wi("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${zN} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${UN} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${$N} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,HN=Fr`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,qN=Wi("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${HN} 1s linear infinite;
`,WN=Fr`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,GN=Fr`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,KN=Wi("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${WN} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${GN} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,QN=Wi("div")`
  position: absolute;
`,YN=Wi("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,JN=Fr`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,XN=Wi("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${JN} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,ZN=({toast:t})=>{let{icon:e,type:n,iconTheme:r}=t;return e!==void 0?typeof e=="string"?M.createElement(XN,null,e):e:n==="blank"?null:M.createElement(YN,null,M.createElement(qN,{...r}),n!=="loading"&&M.createElement(QN,null,n==="error"?M.createElement(BN,{...r}):M.createElement(KN,{...r})))},eP=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,tP=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,nP="0%{opacity:0;} 100%{opacity:1;}",rP="0%{opacity:1;} 100%{opacity:0;}",iP=Wi("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,sP=Wi("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,oP=(t,e)=>{let n=t.includes("top")?1:-1,[r,i]=xb()?[nP,rP]:[eP(n),tP(n)];return{animation:e?`${Fr(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Fr(i)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},aP=M.memo(({toast:t,position:e,style:n,children:r})=>{let i=t.height?oP(t.position||e||"top-center",t.visible):{opacity:0},s=M.createElement(ZN,{toast:t}),o=M.createElement(sP,{...t.ariaProps},lh(t.message,t));return M.createElement(iP,{className:t.className,style:{...i,...n,...t.style}},typeof r=="function"?r({icon:s,message:o}):M.createElement(M.Fragment,null,s,o))});CN(M.createElement);var lP=({id:t,className:e,style:n,onHeightUpdate:r,children:i})=>{let s=M.useCallback(o=>{if(o){let a=()=>{let l=o.getBoundingClientRect().height;r(t,l)};a(),new MutationObserver(a).observe(o,{subtree:!0,childList:!0,characterData:!0})}},[t,r]);return M.createElement("div",{ref:s,className:e,style:n},i)},uP=(t,e)=>{let n=t.includes("top"),r=n?{top:0}:{bottom:0},i=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:xb()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(n?1:-1)}px)`,...r,...i}},cP=td`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Yu=16,hP=({reverseOrder:t,position:e="top-center",toastOptions:n,gutter:r,children:i,containerStyle:s,containerClassName:o})=>{let{toasts:a,handlers:l}=VN(n);return M.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:Yu,left:Yu,right:Yu,bottom:Yu,pointerEvents:"none",...s},className:o,onMouseEnter:l.startPause,onMouseLeave:l.endPause},a.map(u=>{let h=u.position||e,f=l.calculateOffset(u,{reverseOrder:t,gutter:r,defaultPosition:e}),p=uP(h,f);return M.createElement(lP,{id:u.id,key:u.id,onHeightUpdate:l.updateHeight,className:u.visible?cP:"",style:p},u.type==="custom"?lh(u.message,u):i?i(u):M.createElement(aP,{toast:u,position:h}))}))},_b=Xt;const dP=()=>{};var rx={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eb=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},fP=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},bb={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,h=s>>2,f=(s&3)<<4|a>>4;let p=(a&15)<<2|u>>6,g=u&63;l||(g=64,o||(p=64)),r.push(n[h],n[f],n[p],n[g])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Eb(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):fP(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const f=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||u==null||f==null)throw new pP;const p=s<<2|a>>4;if(r.push(p),u!==64){const g=a<<4&240|u>>2;if(r.push(g),f!==64){const w=u<<6&192|f;r.push(w)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class pP extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const mP=function(t){const e=Eb(t);return bb.encodeByteArray(e,!0)},uh=function(t){return mP(t).replace(/\./g,"")},kb=function(t){try{return bb.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gP(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yP=()=>gP().__FIREBASE_DEFAULTS__,vP=()=>{if(typeof process>"u"||typeof rx>"u")return;const t=rx.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},xP=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&kb(t[1]);return e&&JSON.parse(e)},nd=()=>{try{return dP()||yP()||vP()||xP()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Sb=t=>{var e,n;return(n=(e=nd())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},wP=t=>{const e=Sb(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Tb=()=>{var t;return(t=nd())===null||t===void 0?void 0:t.config},Ib=t=>{var e;return(e=nd())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _P{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ia(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Cb(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EP(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[uh(JSON.stringify(n)),uh(JSON.stringify(o)),""].join(".")}const ol={};function bP(){const t={prod:[],emulator:[]};for(const e of Object.keys(ol))ol[e]?t.emulator.push(e):t.prod.push(e);return t}function kP(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let ix=!1;function Ab(t,e){if(typeof window>"u"||typeof document>"u"||!ia(window.location.host)||ol[t]===e||ol[t]||ix)return;ol[t]=e;function n(p){return`__firebase__banner__${p}`}const r="__firebase__banner",s=bP().prod.length>0;function o(){const p=document.getElementById(r);p&&p.remove()}function a(p){p.style.display="flex",p.style.background="#7faaf0",p.style.position="fixed",p.style.bottom="5px",p.style.left="5px",p.style.padding=".5em",p.style.borderRadius="5px",p.style.alignItems="center"}function l(p,g){p.setAttribute("width","24"),p.setAttribute("id",g),p.setAttribute("height","24"),p.setAttribute("viewBox","0 0 24 24"),p.setAttribute("fill","none"),p.style.marginLeft="-6px"}function u(){const p=document.createElement("span");return p.style.cursor="pointer",p.style.marginLeft="16px",p.style.fontSize="24px",p.innerHTML=" &times;",p.onclick=()=>{ix=!0,o()},p}function h(p,g){p.setAttribute("id",g),p.innerText="Learn more",p.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",p.setAttribute("target","__blank"),p.style.paddingLeft="5px",p.style.textDecoration="underline"}function f(){const p=kP(r),g=n("text"),w=document.getElementById(g)||document.createElement("span"),T=n("learnmore"),I=document.getElementById(T)||document.createElement("a"),_=n("preprendIcon"),v=document.getElementById(_)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(p.created){const x=p.element;a(x),h(I,T);const N=u();l(v,_),x.append(v,w,I,N),document.body.appendChild(x)}s?(w.innerText="Preview backend disconnected.",v.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(v.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,w.innerText="Preview backend running in this workspace."),w.setAttribute("id",g)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function SP(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Bt())}function TP(){var t;const e=(t=nd())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function IP(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function CP(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function AP(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function NP(){const t=Bt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function PP(){return!TP()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function RP(){try{return typeof indexedDB=="object"}catch{return!1}}function jP(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DP="FirebaseError";class Hr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=DP,Object.setPrototypeOf(this,Hr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,iu.prototype.create)}}class iu{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?OP(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Hr(i,a,r)}}function OP(t,e){return t.replace(LP,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const LP=/\{\$([^}]+)}/g;function MP(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Cs(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(sx(s)&&sx(o)){if(!Cs(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function sx(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function su(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function $a(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Ba(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function FP(t,e){const n=new VP(t,e);return n.subscribe.bind(n)}class VP{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");zP(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=gf),i.error===void 0&&(i.error=gf),i.complete===void 0&&(i.complete=gf);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function zP(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function gf(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ht(t){return t&&t._delegate?t._delegate:t}class As{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ds="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UP{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new _P;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(BP(e))try{this.getOrInitializeService({instanceIdentifier:ds})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=ds){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ds){return this.instances.has(e)}getOptions(e=ds){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:$P(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ds){return this.component?this.component.multipleInstances?e:ds:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function $P(t){return t===ds?void 0:t}function BP(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HP{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new UP(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Te;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Te||(Te={}));const qP={debug:Te.DEBUG,verbose:Te.VERBOSE,info:Te.INFO,warn:Te.WARN,error:Te.ERROR,silent:Te.SILENT},WP=Te.INFO,GP={[Te.DEBUG]:"log",[Te.VERBOSE]:"log",[Te.INFO]:"info",[Te.WARN]:"warn",[Te.ERROR]:"error"},KP=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=GP[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Ag{constructor(e){this.name=e,this._logLevel=WP,this._logHandler=KP,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Te))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?qP[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Te.DEBUG,...e),this._logHandler(this,Te.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Te.VERBOSE,...e),this._logHandler(this,Te.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Te.INFO,...e),this._logHandler(this,Te.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Te.WARN,...e),this._logHandler(this,Te.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Te.ERROR,...e),this._logHandler(this,Te.ERROR,...e)}}const QP=(t,e)=>e.some(n=>t instanceof n);let ox,ax;function YP(){return ox||(ox=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function JP(){return ax||(ax=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Nb=new WeakMap,Up=new WeakMap,Pb=new WeakMap,yf=new WeakMap,Ng=new WeakMap;function XP(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Si(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&Nb.set(n,t)}).catch(()=>{}),Ng.set(e,t),e}function ZP(t){if(Up.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Up.set(t,e)}let $p={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Up.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Pb.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Si(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function eR(t){$p=t($p)}function tR(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(vf(this),e,...n);return Pb.set(r,e.sort?e.sort():[e]),Si(r)}:JP().includes(t)?function(...e){return t.apply(vf(this),e),Si(Nb.get(this))}:function(...e){return Si(t.apply(vf(this),e))}}function nR(t){return typeof t=="function"?tR(t):(t instanceof IDBTransaction&&ZP(t),QP(t,YP())?new Proxy(t,$p):t)}function Si(t){if(t instanceof IDBRequest)return XP(t);if(yf.has(t))return yf.get(t);const e=nR(t);return e!==t&&(yf.set(t,e),Ng.set(e,t)),e}const vf=t=>Ng.get(t);function rR(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Si(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Si(o.result),l.oldVersion,l.newVersion,Si(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const iR=["get","getKey","getAll","getAllKeys","count"],sR=["put","add","delete","clear"],xf=new Map;function lx(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(xf.get(e))return xf.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=sR.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||iR.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return xf.set(e,s),s}eR(t=>({...t,get:(e,n,r)=>lx(e,n)||t.get(e,n,r),has:(e,n)=>!!lx(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(aR(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function aR(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Bp="@firebase/app",ux="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vr=new Ag("@firebase/app"),lR="@firebase/app-compat",uR="@firebase/analytics-compat",cR="@firebase/analytics",hR="@firebase/app-check-compat",dR="@firebase/app-check",fR="@firebase/auth",pR="@firebase/auth-compat",mR="@firebase/database",gR="@firebase/data-connect",yR="@firebase/database-compat",vR="@firebase/functions",xR="@firebase/functions-compat",wR="@firebase/installations",_R="@firebase/installations-compat",ER="@firebase/messaging",bR="@firebase/messaging-compat",kR="@firebase/performance",SR="@firebase/performance-compat",TR="@firebase/remote-config",IR="@firebase/remote-config-compat",CR="@firebase/storage",AR="@firebase/storage-compat",NR="@firebase/firestore",PR="@firebase/ai",RR="@firebase/firestore-compat",jR="firebase",DR="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hp="[DEFAULT]",OR={[Bp]:"fire-core",[lR]:"fire-core-compat",[cR]:"fire-analytics",[uR]:"fire-analytics-compat",[dR]:"fire-app-check",[hR]:"fire-app-check-compat",[fR]:"fire-auth",[pR]:"fire-auth-compat",[mR]:"fire-rtdb",[gR]:"fire-data-connect",[yR]:"fire-rtdb-compat",[vR]:"fire-fn",[xR]:"fire-fn-compat",[wR]:"fire-iid",[_R]:"fire-iid-compat",[ER]:"fire-fcm",[bR]:"fire-fcm-compat",[kR]:"fire-perf",[SR]:"fire-perf-compat",[TR]:"fire-rc",[IR]:"fire-rc-compat",[CR]:"fire-gcs",[AR]:"fire-gcs-compat",[NR]:"fire-fst",[RR]:"fire-fst-compat",[PR]:"fire-vertex","fire-js":"fire-js",[jR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ch=new Map,LR=new Map,qp=new Map;function cx(t,e){try{t.container.addComponent(e)}catch(n){Vr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function $o(t){const e=t.name;if(qp.has(e))return Vr.debug(`There were multiple attempts to register component ${e}.`),!1;qp.set(e,t);for(const n of ch.values())cx(n,t);for(const n of LR.values())cx(n,t);return!0}function Pg(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function jn(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ti=new iu("app","Firebase",MR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FR{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new As("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ti.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sa=DR;function Rb(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Hp,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw Ti.create("bad-app-name",{appName:String(i)});if(n||(n=Tb()),!n)throw Ti.create("no-options");const s=ch.get(i);if(s){if(Cs(n,s.options)&&Cs(r,s.config))return s;throw Ti.create("duplicate-app",{appName:i})}const o=new HP(i);for(const l of qp.values())o.addComponent(l);const a=new FR(n,r,o);return ch.set(i,a),a}function jb(t=Hp){const e=ch.get(t);if(!e&&t===Hp&&Tb())return Rb();if(!e)throw Ti.create("no-app",{appName:t});return e}function Ii(t,e,n){var r;let i=(r=OR[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Vr.warn(a.join(" "));return}$o(new As(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VR="firebase-heartbeat-database",zR=1,Ol="firebase-heartbeat-store";let wf=null;function Db(){return wf||(wf=rR(VR,zR,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Ol)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ti.create("idb-open",{originalErrorMessage:t.message})})),wf}async function UR(t){try{const n=(await Db()).transaction(Ol),r=await n.objectStore(Ol).get(Ob(t));return await n.done,r}catch(e){if(e instanceof Hr)Vr.warn(e.message);else{const n=Ti.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Vr.warn(n.message)}}}async function hx(t,e){try{const r=(await Db()).transaction(Ol,"readwrite");await r.objectStore(Ol).put(e,Ob(t)),await r.done}catch(n){if(n instanceof Hr)Vr.warn(n.message);else{const r=Ti.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Vr.warn(r.message)}}}function Ob(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $R=1024,BR=30;class HR{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new WR(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=dx();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>BR){const o=GR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Vr.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=dx(),{heartbeatsToSend:r,unsentEntries:i}=qR(this._heartbeatsCache.heartbeats),s=uh(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Vr.warn(n),""}}}function dx(){return new Date().toISOString().substring(0,10)}function qR(t,e=$R){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),fx(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),fx(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class WR{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return RP()?jP().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await UR(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return hx(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return hx(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function fx(t){return uh(JSON.stringify({version:2,heartbeats:t})).length}function GR(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KR(t){$o(new As("platform-logger",e=>new oR(e),"PRIVATE")),$o(new As("heartbeat",e=>new HR(e),"PRIVATE")),Ii(Bp,ux,t),Ii(Bp,ux,"esm2017"),Ii("fire-js","")}KR("");var QR="firebase",YR="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ii(QR,YR,"app");function Rg(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function Lb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const JR=Lb,Mb=new iu("auth","Firebase",Lb());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hh=new Ag("@firebase/auth");function XR(t,...e){hh.logLevel<=Te.WARN&&hh.warn(`Auth (${sa}): ${t}`,...e)}function Ec(t,...e){hh.logLevel<=Te.ERROR&&hh.error(`Auth (${sa}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vn(t,...e){throw Dg(t,...e)}function Xn(t,...e){return Dg(t,...e)}function jg(t,e,n){const r=Object.assign(Object.assign({},JR()),{[e]:n});return new iu("auth","Firebase",r).create(e,{appName:t.name})}function Ci(t){return jg(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function ZR(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Vn(t,"argument-error"),jg(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Dg(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return Mb.create(t,...e)}function ae(t,e,...n){if(!t)throw Dg(e,...n)}function Pr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Ec(e),new Error(e)}function zr(t,e){t||Pr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dh(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function e4(){return px()==="http:"||px()==="https:"}function px(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t4(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(e4()||CP()||"connection"in navigator)?navigator.onLine:!0}function n4(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ou{constructor(e,n){this.shortDelay=e,this.longDelay=n,zr(n>e,"Short delay should be less than long delay!"),this.isMobile=SP()||AP()}get(){return t4()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Og(t,e){zr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fb{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Pr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Pr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Pr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r4={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i4=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],s4=new ou(3e4,6e4);function Gi(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function qr(t,e,n,r,i={}){return Vb(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=su(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const u=Object.assign({method:e,headers:l},s);return IP()||(u.referrerPolicy="no-referrer"),t.emulatorConfig&&ia(t.emulatorConfig.host)&&(u.credentials="include"),Fb.fetch()(await zb(t,t.config.apiHost,n,a),u)})}async function Vb(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},r4),e);try{const i=new a4(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw Ju(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ju(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Ju(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Ju(t,"user-disabled",o);const h=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw jg(t,h,u);Vn(t,h)}}catch(i){if(i instanceof Hr)throw i;Vn(t,"network-request-failed",{message:String(i)})}}async function rd(t,e,n,r,i={}){const s=await qr(t,e,n,r,i);return"mfaPendingCredential"in s&&Vn(t,"multi-factor-auth-required",{_serverResponse:s}),s}async function zb(t,e,n,r){const i=`${e}${n}?${r}`,s=t,o=s.config.emulator?Og(t.config,i):`${t.config.apiScheme}://${i}`;return i4.includes(n)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(o).toString():o}function o4(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class a4{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Xn(this.auth,"network-request-failed")),s4.get())})}}function Ju(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Xn(t,e,r);return i.customData._tokenResponse=n,i}function mx(t){return t!==void 0&&t.enterprise!==void 0}class l4{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return o4(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function u4(t,e){return qr(t,"GET","/v2/recaptchaConfig",Gi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function c4(t,e){return qr(t,"POST","/v1/accounts:delete",e)}async function fh(t,e){return qr(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function al(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function h4(t,e=!1){const n=Ht(t),r=await n.getIdToken(e),i=Lg(r);ae(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:al(_f(i.auth_time)),issuedAtTime:al(_f(i.iat)),expirationTime:al(_f(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function _f(t){return Number(t)*1e3}function Lg(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Ec("JWT malformed, contained fewer than 3 sections"),null;try{const i=kb(n);return i?JSON.parse(i):(Ec("Failed to decode base64 JWT payload"),null)}catch(i){return Ec("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function gx(t){const e=Lg(t);return ae(e,"internal-error"),ae(typeof e.exp<"u","internal-error"),ae(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ll(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Hr&&d4(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function d4({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f4{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wp{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=al(this.lastLoginAt),this.creationTime=al(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ph(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Ll(t,fh(n,{idToken:r}));ae(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?Ub(s.providerUserInfo):[],a=m4(t.providerData,o),l=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),h=l?u:!1,f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Wp(s.createdAt,s.lastLoginAt),isAnonymous:h};Object.assign(t,f)}async function p4(t){const e=Ht(t);await ph(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function m4(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function Ub(t){return t.map(e=>{var{providerId:n}=e,r=Rg(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function g4(t,e){const n=await Vb(t,{},async()=>{const r=su({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=await zb(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:a,body:r};return t.emulatorConfig&&ia(t.emulatorConfig.host)&&(l.credentials="include"),Fb.fetch()(o,l)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function y4(t,e){return qr(t,"POST","/v2/accounts:revokeToken",Gi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class No{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ae(e.idToken,"internal-error"),ae(typeof e.idToken<"u","internal-error"),ae(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):gx(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ae(e.length!==0,"internal-error");const n=gx(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ae(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await g4(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new No;return r&&(ae(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(ae(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(ae(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new No,this.toJSON())}_performRefresh(){return Pr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ei(t,e){ae(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Kn{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=Rg(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new f4(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Wp(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Ll(this,this.stsTokenManager.getToken(this.auth,e));return ae(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return h4(this,e)}reload(){return p4(this)}_assign(e){this!==e&&(ae(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Kn(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ae(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await ph(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(jn(this.auth.app))return Promise.reject(Ci(this.auth));const e=await this.getIdToken();return await Ll(this,c4(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,u,h;const f=(r=n.displayName)!==null&&r!==void 0?r:void 0,p=(i=n.email)!==null&&i!==void 0?i:void 0,g=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,w=(o=n.photoURL)!==null&&o!==void 0?o:void 0,T=(a=n.tenantId)!==null&&a!==void 0?a:void 0,I=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,_=(u=n.createdAt)!==null&&u!==void 0?u:void 0,v=(h=n.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:x,emailVerified:N,isAnonymous:O,providerData:A,stsTokenManager:k}=n;ae(x&&k,e,"internal-error");const b=No.fromJSON(this.name,k);ae(typeof x=="string",e,"internal-error"),ei(f,e.name),ei(p,e.name),ae(typeof N=="boolean",e,"internal-error"),ae(typeof O=="boolean",e,"internal-error"),ei(g,e.name),ei(w,e.name),ei(T,e.name),ei(I,e.name),ei(_,e.name),ei(v,e.name);const S=new Kn({uid:x,auth:e,email:p,emailVerified:N,displayName:f,isAnonymous:O,photoURL:w,phoneNumber:g,tenantId:T,stsTokenManager:b,createdAt:_,lastLoginAt:v});return A&&Array.isArray(A)&&(S.providerData=A.map(E=>Object.assign({},E))),I&&(S._redirectEventId=I),S}static async _fromIdTokenResponse(e,n,r=!1){const i=new No;i.updateFromServerResponse(n);const s=new Kn({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await ph(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];ae(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?Ub(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),a=new No;a.updateFromIdToken(r);const l=new Kn({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Wp(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yx=new Map;function Rr(t){zr(t instanceof Function,"Expected a class definition");let e=yx.get(t);return e?(zr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,yx.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $b{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}$b.type="NONE";const vx=$b;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bc(t,e,n){return`firebase:${t}:${e}:${n}`}class Po{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=bc(this.userKey,i.apiKey,s),this.fullPersistenceKey=bc("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await fh(this.auth,{idToken:e}).catch(()=>{});return n?Kn._fromGetAccountInfoResponse(this.auth,n,e):null}return Kn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Po(Rr(vx),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=i[0]||Rr(vx);const o=bc(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const h=await u._get(o);if(h){let f;if(typeof h=="string"){const p=await fh(e,{idToken:h}).catch(()=>{});if(!p)break;f=await Kn._fromGetAccountInfoResponse(e,p,h)}else f=Kn._fromJSON(e,h);u!==s&&(a=f),s=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new Po(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==s)try{await u._remove(o)}catch{}})),new Po(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xx(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Wb(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Bb(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Kb(e))return"Blackberry";if(Qb(e))return"Webos";if(Hb(e))return"Safari";if((e.includes("chrome/")||qb(e))&&!e.includes("edge/"))return"Chrome";if(Gb(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function Bb(t=Bt()){return/firefox\//i.test(t)}function Hb(t=Bt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function qb(t=Bt()){return/crios\//i.test(t)}function Wb(t=Bt()){return/iemobile/i.test(t)}function Gb(t=Bt()){return/android/i.test(t)}function Kb(t=Bt()){return/blackberry/i.test(t)}function Qb(t=Bt()){return/webos/i.test(t)}function Mg(t=Bt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function v4(t=Bt()){var e;return Mg(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function x4(){return NP()&&document.documentMode===10}function Yb(t=Bt()){return Mg(t)||Gb(t)||Qb(t)||Kb(t)||/windows phone/i.test(t)||Wb(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jb(t,e=[]){let n;switch(t){case"Browser":n=xx(Bt());break;case"Worker":n=`${xx(Bt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${sa}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w4{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _4(t,e={}){return qr(t,"GET","/v2/passwordPolicy",Gi(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E4=6;class b4{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:E4,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k4{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new wx(this),this.idTokenSubscription=new wx(this),this.beforeStateQueue=new w4(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Mb,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Rr(n)),this._initializationPromise=this.queue(async()=>{var r,i,s;if(!this._deleted&&(this.persistenceManager=await Po.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await fh(this,{idToken:e}),r=await Kn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(jn(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return ae(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await ph(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=n4()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(jn(this.app))return Promise.reject(Ci(this));const n=e?Ht(e):null;return n&&ae(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ae(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return jn(this.app)?Promise.reject(Ci(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return jn(this.app)?Promise.reject(Ci(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Rr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await _4(this),n=new b4(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new iu("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await y4(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Rr(e)||this._popupRedirectResolver;ae(n,this,"argument-error"),this.redirectPersistenceManager=await Po.create(this,[Rr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(ae(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ae(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Jb(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;if(jn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&XR(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Vs(t){return Ht(t)}class wx{constructor(e){this.auth=e,this.observer=null,this.addObserver=FP(n=>this.observer=n)}get next(){return ae(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let id={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function S4(t){id=t}function Xb(t){return id.loadJS(t)}function T4(){return id.recaptchaEnterpriseScript}function I4(){return id.gapiScript}function C4(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class A4{constructor(){this.enterprise=new N4}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class N4{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const P4="recaptcha-enterprise",Zb="NO_RECAPTCHA";class R4{constructor(e){this.type=P4,this.auth=Vs(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{u4(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new l4(l);return s.tenantId==null?s._agentRecaptchaConfig=u:s._tenantRecaptchaConfigs[s.tenantId]=u,o(u.siteKey)}}).catch(l=>{a(l)})})}function i(s,o,a){const l=window.grecaptcha;mx(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(u=>{o(u)}).catch(()=>{o(Zb)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new A4().execute("siteKey",{action:"verify"}):new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&mx(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=T4();l.length!==0&&(l+=a),Xb(l).then(()=>{i(a,s,o)}).catch(u=>{o(u)})}}).catch(a=>{o(a)})})}}async function _x(t,e,n,r=!1,i=!1){const s=new R4(t);let o;if(i)o=Zb;else try{o=await s.verify(n)}catch{o=await s.verify(n,!0)}const a=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){const l=a.phoneEnrollmentInfo.phoneNumber,u=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:u,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const l=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function Gp(t,e,n,r,i){var s;if(!((s=t._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await _x(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await _x(t,e,n,n==="getOobCode");return r(t,a)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j4(t,e){const n=Pg(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Cs(s,e??{}))return i;Vn(i,"already-initialized")}return n.initialize({options:e})}function D4(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Rr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function O4(t,e,n){const r=Vs(t);ae(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=ek(e),{host:o,port:a}=L4(e),l=a===null?"":`:${a}`,u={url:`${s}//${o}${l}/`},h=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){ae(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),ae(Cs(u,r.config.emulator)&&Cs(h,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=u,r.emulatorConfig=h,r.settings.appVerificationDisabledForTesting=!0,ia(o)?(Cb(`${s}//${o}${l}`),Ab("Auth",!0)):M4()}function ek(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function L4(t){const e=ek(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:Ex(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:Ex(o)}}}function Ex(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function M4(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fg{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Pr("not implemented")}_getIdTokenResponse(e){return Pr("not implemented")}_linkToIdToken(e,n){return Pr("not implemented")}_getReauthenticationResolver(e){return Pr("not implemented")}}async function F4(t,e){return qr(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function V4(t,e){return rd(t,"POST","/v1/accounts:signInWithPassword",Gi(t,e))}async function z4(t,e){return qr(t,"POST","/v1/accounts:sendOobCode",Gi(t,e))}async function U4(t,e){return z4(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $4(t,e){return rd(t,"POST","/v1/accounts:signInWithEmailLink",Gi(t,e))}async function B4(t,e){return rd(t,"POST","/v1/accounts:signInWithEmailLink",Gi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ml extends Fg{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Ml(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Ml(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Gp(e,n,"signInWithPassword",V4);case"emailLink":return $4(e,{email:this._email,oobCode:this._password});default:Vn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Gp(e,r,"signUpPassword",F4);case"emailLink":return B4(e,{idToken:n,email:this._email,oobCode:this._password});default:Vn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ro(t,e){return rd(t,"POST","/v1/accounts:signInWithIdp",Gi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H4="http://localhost";class Ns extends Fg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ns(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Vn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=Rg(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new Ns(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Ro(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Ro(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ro(e,n)}buildRequest(){const e={requestUri:H4,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=su(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q4(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function W4(t){const e=$a(Ba(t)).link,n=e?$a(Ba(e)).deep_link_id:null,r=$a(Ba(t)).deep_link_id;return(r?$a(Ba(r)).link:null)||r||n||e||t}class sd{constructor(e){var n,r,i,s,o,a;const l=$a(Ba(e)),u=(n=l.apiKey)!==null&&n!==void 0?n:null,h=(r=l.oobCode)!==null&&r!==void 0?r:null,f=q4((i=l.mode)!==null&&i!==void 0?i:null);ae(u&&h&&f,"argument-error"),this.apiKey=u,this.operation=f,this.code=h,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.lang)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=W4(e);try{return new sd(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oa{constructor(){this.providerId=oa.PROVIDER_ID}static credential(e,n){return Ml._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=sd.parseLink(n);return ae(r,"argument-error"),Ml._fromEmailAndCode(e,r.code,r.tenantId)}}oa.PROVIDER_ID="password";oa.EMAIL_PASSWORD_SIGN_IN_METHOD="password";oa.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vg{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class au extends Vg{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class li extends au{constructor(){super("facebook.com")}static credential(e){return Ns._fromParams({providerId:li.PROVIDER_ID,signInMethod:li.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return li.credentialFromTaggedObject(e)}static credentialFromError(e){return li.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return li.credential(e.oauthAccessToken)}catch{return null}}}li.FACEBOOK_SIGN_IN_METHOD="facebook.com";li.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cr extends au{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ns._fromParams({providerId:Cr.PROVIDER_ID,signInMethod:Cr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Cr.credentialFromTaggedObject(e)}static credentialFromError(e){return Cr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Cr.credential(n,r)}catch{return null}}}Cr.GOOGLE_SIGN_IN_METHOD="google.com";Cr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ui extends au{constructor(){super("github.com")}static credential(e){return Ns._fromParams({providerId:ui.PROVIDER_ID,signInMethod:ui.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ui.credentialFromTaggedObject(e)}static credentialFromError(e){return ui.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ui.credential(e.oauthAccessToken)}catch{return null}}}ui.GITHUB_SIGN_IN_METHOD="github.com";ui.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ci extends au{constructor(){super("twitter.com")}static credential(e,n){return Ns._fromParams({providerId:ci.PROVIDER_ID,signInMethod:ci.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ci.credentialFromTaggedObject(e)}static credentialFromError(e){return ci.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return ci.credential(n,r)}catch{return null}}}ci.TWITTER_SIGN_IN_METHOD="twitter.com";ci.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await Kn._fromIdTokenResponse(e,r,i),o=bx(r);return new Bo({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=bx(r);return new Bo({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function bx(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mh extends Hr{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,mh.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new mh(e,n,r,i)}}function tk(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?mh._fromErrorAndOperation(t,s,e,r):s})}async function G4(t,e,n=!1){const r=await Ll(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Bo._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function K4(t,e,n=!1){const{auth:r}=t;if(jn(r.app))return Promise.reject(Ci(r));const i="reauthenticate";try{const s=await Ll(t,tk(r,i,e,t),n);ae(s.idToken,r,"internal-error");const o=Lg(s.idToken);ae(o,r,"internal-error");const{sub:a}=o;return ae(t.uid===a,r,"user-mismatch"),Bo._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Vn(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nk(t,e,n=!1){if(jn(t.app))return Promise.reject(Ci(t));const r="signIn",i=await tk(t,r,e),s=await Bo._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function Q4(t,e){return nk(Vs(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y4(t,e,n){var r;ae(((r=n.url)===null||r===void 0?void 0:r.length)>0,t,"invalid-continue-uri"),ae(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),ae(typeof n.linkDomain>"u"||n.linkDomain.length>0,t,"invalid-hosting-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.linkDomain=n.linkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(ae(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(ae(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function J4(t,e,n){const r=Vs(t),i={requestType:"EMAIL_SIGNIN",email:e,clientType:"CLIENT_TYPE_WEB"};function s(o,a){ae(a.handleCodeInApp,r,"argument-error"),a&&Y4(r,o,a)}s(i,n),await Gp(r,i,"getOobCode",U4)}function X4(t,e){const n=sd.parseLink(e);return(n==null?void 0:n.operation)==="EMAIL_SIGNIN"}async function Z4(t,e,n){if(jn(t.app))return Promise.reject(Ci(t));const r=Ht(t),i=oa.credentialWithLink(e,n||dh());return ae(i._tenantId===(r.tenantId||null),r,"tenant-id-mismatch"),Q4(r,i)}function ej(t,e,n,r){return Ht(t).onIdTokenChanged(e,n,r)}function tj(t,e,n){return Ht(t).beforeAuthStateChanged(e,n)}function nj(t,e,n,r){return Ht(t).onAuthStateChanged(e,n,r)}function rj(t){return Ht(t).signOut()}const gh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rk{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(gh,"1"),this.storage.removeItem(gh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ij=1e3,sj=10;class ik extends rk{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Yb(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);x4()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,sj):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},ij)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}ik.type="LOCAL";const oj=ik;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sk extends rk{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}sk.type="SESSION";const ok=sk;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aj(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class od{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new od(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async u=>u(n.origin,s)),l=await aj(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}od.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zg(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lj{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const u=zg("",20);i.port1.start();const h=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(f){const p=f;if(p.data.eventId===u)switch(p.data.status){case"ack":clearTimeout(h),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(p.data.response);break;default:clearTimeout(h),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hr(){return window}function uj(t){hr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ak(){return typeof hr().WorkerGlobalScope<"u"&&typeof hr().importScripts=="function"}async function cj(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function hj(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function dj(){return ak()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lk="firebaseLocalStorageDb",fj=1,yh="firebaseLocalStorage",uk="fbase_key";class lu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function ad(t,e){return t.transaction([yh],e?"readwrite":"readonly").objectStore(yh)}function pj(){const t=indexedDB.deleteDatabase(lk);return new lu(t).toPromise()}function Kp(){const t=indexedDB.open(lk,fj);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(yh,{keyPath:uk})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(yh)?e(r):(r.close(),await pj(),e(await Kp()))})})}async function kx(t,e,n){const r=ad(t,!0).put({[uk]:e,value:n});return new lu(r).toPromise()}async function mj(t,e){const n=ad(t,!1).get(e),r=await new lu(n).toPromise();return r===void 0?null:r.value}function Sx(t,e){const n=ad(t,!0).delete(e);return new lu(n).toPromise()}const gj=800,yj=3;class ck{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Kp(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>yj)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return ak()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=od._getInstance(dj()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await cj(),!this.activeServiceWorker)return;this.sender=new lj(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||hj()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Kp();return await kx(e,gh,"1"),await Sx(e,gh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>kx(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>mj(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Sx(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=ad(i,!1).getAll();return new lu(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),gj)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}ck.type="LOCAL";const vj=ck;new ou(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hk(t,e){return e?Rr(e):(ae(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ug extends Fg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ro(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ro(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ro(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function xj(t){return nk(t.auth,new Ug(t),t.bypassAuthState)}function wj(t){const{auth:e,user:n}=t;return ae(n,e,"internal-error"),K4(n,new Ug(t),t.bypassAuthState)}async function _j(t){const{auth:e,user:n}=t;return ae(n,e,"internal-error"),G4(n,new Ug(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dk{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return xj;case"linkViaPopup":case"linkViaRedirect":return _j;case"reauthViaPopup":case"reauthViaRedirect":return wj;default:Vn(this.auth,"internal-error")}}resolve(e){zr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){zr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ej=new ou(2e3,1e4);async function bj(t,e,n){if(jn(t.app))return Promise.reject(Xn(t,"operation-not-supported-in-this-environment"));const r=Vs(t);ZR(t,e,Vg);const i=hk(r,n);return new vs(r,"signInViaPopup",e,i).executeNotNull()}class vs extends dk{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,vs.currentPopupAction&&vs.currentPopupAction.cancel(),vs.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ae(e,this.auth,"internal-error"),e}async onExecution(){zr(this.filter.length===1,"Popup operations only handle one event");const e=zg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Xn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Xn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,vs.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Xn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Ej.get())};e()}}vs.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kj="pendingRedirect",kc=new Map;class Sj extends dk{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=kc.get(this.auth._key());if(!e){try{const r=await Tj(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}kc.set(this.auth._key(),e)}return this.bypassAuthState||kc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Tj(t,e){const n=Aj(e),r=Cj(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function Ij(t,e){kc.set(t._key(),e)}function Cj(t){return Rr(t._redirectPersistence)}function Aj(t){return bc(kj,t.config.apiKey,t.name)}async function Nj(t,e,n=!1){if(jn(t.app))return Promise.reject(Ci(t));const r=Vs(t),i=hk(r,e),o=await new Sj(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pj=10*60*1e3;class Rj{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!jj(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!fk(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Xn(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Pj&&this.cachedEventUids.clear(),this.cachedEventUids.has(Tx(e))}saveEventToCache(e){this.cachedEventUids.add(Tx(e)),this.lastProcessedEventTime=Date.now()}}function Tx(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function fk({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function jj(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return fk(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dj(t,e={}){return qr(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oj=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Lj=/^https?/;async function Mj(t){if(t.config.emulator)return;const{authorizedDomains:e}=await Dj(t);for(const n of e)try{if(Fj(n))return}catch{}Vn(t,"unauthorized-domain")}function Fj(t){const e=dh(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!Lj.test(n))return!1;if(Oj.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vj=new ou(3e4,6e4);function Ix(){const t=hr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function zj(t){return new Promise((e,n)=>{var r,i,s;function o(){Ix(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Ix(),n(Xn(t,"network-request-failed"))},timeout:Vj.get()})}if(!((i=(r=hr().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=hr().gapi)===null||s===void 0)&&s.load)o();else{const a=C4("iframefcb");return hr()[a]=()=>{gapi.load?o():n(Xn(t,"network-request-failed"))},Xb(`${I4()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Sc=null,e})}let Sc=null;function Uj(t){return Sc=Sc||zj(t),Sc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $j=new ou(5e3,15e3),Bj="__/auth/iframe",Hj="emulator/auth/iframe",qj={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Wj=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Gj(t){const e=t.config;ae(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Og(e,Hj):`https://${t.config.authDomain}/${Bj}`,r={apiKey:e.apiKey,appName:t.name,v:sa},i=Wj.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${su(r).slice(1)}`}async function Kj(t){const e=await Uj(t),n=hr().gapi;return ae(n,t,"internal-error"),e.open({where:document.body,url:Gj(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:qj,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=Xn(t,"network-request-failed"),a=hr().setTimeout(()=>{s(o)},$j.get());function l(){hr().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qj={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Yj=500,Jj=600,Xj="_blank",Zj="http://localhost";class Cx{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function eD(t,e,n,r=Yj,i=Jj){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},Qj),{width:r.toString(),height:i.toString(),top:s,left:o}),u=Bt().toLowerCase();n&&(a=qb(u)?Xj:n),Bb(u)&&(e=e||Zj,l.scrollbars="yes");const h=Object.entries(l).reduce((p,[g,w])=>`${p}${g}=${w},`,"");if(v4(u)&&a!=="_self")return tD(e||"",a),new Cx(null);const f=window.open(e||"",a,h);ae(f,t,"popup-blocked");try{f.focus()}catch{}return new Cx(f)}function tD(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nD="__/auth/handler",rD="emulator/auth/handler",iD=encodeURIComponent("fac");async function Ax(t,e,n,r,i,s){ae(t.config.authDomain,t,"auth-domain-config-required"),ae(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:sa,eventId:i};if(e instanceof Vg){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",MP(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,f]of Object.entries({}))o[h]=f}if(e instanceof au){const h=e.getScopes().filter(f=>f!=="");h.length>0&&(o.scopes=h.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const h of Object.keys(a))a[h]===void 0&&delete a[h];const l=await t._getAppCheckToken(),u=l?`#${iD}=${encodeURIComponent(l)}`:"";return`${sD(t)}?${su(a).slice(1)}${u}`}function sD({config:t}){return t.emulator?Og(t,rD):`https://${t.authDomain}/${nD}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ef="webStorageSupport";class oD{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ok,this._completeRedirectFn=Nj,this._overrideRedirectResult=Ij}async _openPopup(e,n,r,i){var s;zr((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await Ax(e,n,r,dh(),i);return eD(e,o,zg())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await Ax(e,n,r,dh(),i);return uj(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(zr(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await Kj(e),r=new Rj(e);return n.register("authEvent",i=>(ae(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Ef,{type:Ef},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[Ef];o!==void 0&&n(!!o),Vn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Mj(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Yb()||Hb()||Mg()}}const aD=oD;var Nx="@firebase/auth",Px="1.10.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lD{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ae(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uD(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function cD(t){$o(new As("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;ae(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Jb(t)},u=new k4(r,i,s,l);return D4(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),$o(new As("auth-internal",e=>{const n=Vs(e.getProvider("auth").getImmediate());return(r=>new lD(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ii(Nx,Px,uD(t)),Ii(Nx,Px,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hD=5*60,dD=Ib("authIdTokenMaxAge")||hD;let Rx=null;const fD=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>dD)return;const i=n==null?void 0:n.token;Rx!==i&&(Rx=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function pD(t=jb()){const e=Pg(t,"auth");if(e.isInitialized())return e.getImmediate();const n=j4(t,{popupRedirectResolver:aD,persistence:[vj,oj,ok]}),r=Ib("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=fD(s.toString());tj(n,o,()=>o(n.currentUser)),ej(n,a=>o(a))}}const i=Sb("auth");return i&&O4(n,`http://${i}`),n}function mD(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}S4({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Xn("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",mD().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});cD("Browser");var jx=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ai,pk;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(k,b){function S(){}S.prototype=b.prototype,k.D=b.prototype,k.prototype=new S,k.prototype.constructor=k,k.C=function(E,j,D){for(var P=Array(arguments.length-2),q=2;q<arguments.length;q++)P[q-2]=arguments[q];return b.prototype[j].apply(E,P)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(k,b,S){S||(S=0);var E=Array(16);if(typeof b=="string")for(var j=0;16>j;++j)E[j]=b.charCodeAt(S++)|b.charCodeAt(S++)<<8|b.charCodeAt(S++)<<16|b.charCodeAt(S++)<<24;else for(j=0;16>j;++j)E[j]=b[S++]|b[S++]<<8|b[S++]<<16|b[S++]<<24;b=k.g[0],S=k.g[1],j=k.g[2];var D=k.g[3],P=b+(D^S&(j^D))+E[0]+3614090360&4294967295;b=S+(P<<7&4294967295|P>>>25),P=D+(j^b&(S^j))+E[1]+3905402710&4294967295,D=b+(P<<12&4294967295|P>>>20),P=j+(S^D&(b^S))+E[2]+606105819&4294967295,j=D+(P<<17&4294967295|P>>>15),P=S+(b^j&(D^b))+E[3]+3250441966&4294967295,S=j+(P<<22&4294967295|P>>>10),P=b+(D^S&(j^D))+E[4]+4118548399&4294967295,b=S+(P<<7&4294967295|P>>>25),P=D+(j^b&(S^j))+E[5]+1200080426&4294967295,D=b+(P<<12&4294967295|P>>>20),P=j+(S^D&(b^S))+E[6]+2821735955&4294967295,j=D+(P<<17&4294967295|P>>>15),P=S+(b^j&(D^b))+E[7]+4249261313&4294967295,S=j+(P<<22&4294967295|P>>>10),P=b+(D^S&(j^D))+E[8]+1770035416&4294967295,b=S+(P<<7&4294967295|P>>>25),P=D+(j^b&(S^j))+E[9]+2336552879&4294967295,D=b+(P<<12&4294967295|P>>>20),P=j+(S^D&(b^S))+E[10]+4294925233&4294967295,j=D+(P<<17&4294967295|P>>>15),P=S+(b^j&(D^b))+E[11]+2304563134&4294967295,S=j+(P<<22&4294967295|P>>>10),P=b+(D^S&(j^D))+E[12]+1804603682&4294967295,b=S+(P<<7&4294967295|P>>>25),P=D+(j^b&(S^j))+E[13]+4254626195&4294967295,D=b+(P<<12&4294967295|P>>>20),P=j+(S^D&(b^S))+E[14]+2792965006&4294967295,j=D+(P<<17&4294967295|P>>>15),P=S+(b^j&(D^b))+E[15]+1236535329&4294967295,S=j+(P<<22&4294967295|P>>>10),P=b+(j^D&(S^j))+E[1]+4129170786&4294967295,b=S+(P<<5&4294967295|P>>>27),P=D+(S^j&(b^S))+E[6]+3225465664&4294967295,D=b+(P<<9&4294967295|P>>>23),P=j+(b^S&(D^b))+E[11]+643717713&4294967295,j=D+(P<<14&4294967295|P>>>18),P=S+(D^b&(j^D))+E[0]+3921069994&4294967295,S=j+(P<<20&4294967295|P>>>12),P=b+(j^D&(S^j))+E[5]+3593408605&4294967295,b=S+(P<<5&4294967295|P>>>27),P=D+(S^j&(b^S))+E[10]+38016083&4294967295,D=b+(P<<9&4294967295|P>>>23),P=j+(b^S&(D^b))+E[15]+3634488961&4294967295,j=D+(P<<14&4294967295|P>>>18),P=S+(D^b&(j^D))+E[4]+3889429448&4294967295,S=j+(P<<20&4294967295|P>>>12),P=b+(j^D&(S^j))+E[9]+568446438&4294967295,b=S+(P<<5&4294967295|P>>>27),P=D+(S^j&(b^S))+E[14]+3275163606&4294967295,D=b+(P<<9&4294967295|P>>>23),P=j+(b^S&(D^b))+E[3]+4107603335&4294967295,j=D+(P<<14&4294967295|P>>>18),P=S+(D^b&(j^D))+E[8]+1163531501&4294967295,S=j+(P<<20&4294967295|P>>>12),P=b+(j^D&(S^j))+E[13]+2850285829&4294967295,b=S+(P<<5&4294967295|P>>>27),P=D+(S^j&(b^S))+E[2]+4243563512&4294967295,D=b+(P<<9&4294967295|P>>>23),P=j+(b^S&(D^b))+E[7]+1735328473&4294967295,j=D+(P<<14&4294967295|P>>>18),P=S+(D^b&(j^D))+E[12]+2368359562&4294967295,S=j+(P<<20&4294967295|P>>>12),P=b+(S^j^D)+E[5]+4294588738&4294967295,b=S+(P<<4&4294967295|P>>>28),P=D+(b^S^j)+E[8]+2272392833&4294967295,D=b+(P<<11&4294967295|P>>>21),P=j+(D^b^S)+E[11]+1839030562&4294967295,j=D+(P<<16&4294967295|P>>>16),P=S+(j^D^b)+E[14]+4259657740&4294967295,S=j+(P<<23&4294967295|P>>>9),P=b+(S^j^D)+E[1]+2763975236&4294967295,b=S+(P<<4&4294967295|P>>>28),P=D+(b^S^j)+E[4]+1272893353&4294967295,D=b+(P<<11&4294967295|P>>>21),P=j+(D^b^S)+E[7]+4139469664&4294967295,j=D+(P<<16&4294967295|P>>>16),P=S+(j^D^b)+E[10]+3200236656&4294967295,S=j+(P<<23&4294967295|P>>>9),P=b+(S^j^D)+E[13]+681279174&4294967295,b=S+(P<<4&4294967295|P>>>28),P=D+(b^S^j)+E[0]+3936430074&4294967295,D=b+(P<<11&4294967295|P>>>21),P=j+(D^b^S)+E[3]+3572445317&4294967295,j=D+(P<<16&4294967295|P>>>16),P=S+(j^D^b)+E[6]+76029189&4294967295,S=j+(P<<23&4294967295|P>>>9),P=b+(S^j^D)+E[9]+3654602809&4294967295,b=S+(P<<4&4294967295|P>>>28),P=D+(b^S^j)+E[12]+3873151461&4294967295,D=b+(P<<11&4294967295|P>>>21),P=j+(D^b^S)+E[15]+530742520&4294967295,j=D+(P<<16&4294967295|P>>>16),P=S+(j^D^b)+E[2]+3299628645&4294967295,S=j+(P<<23&4294967295|P>>>9),P=b+(j^(S|~D))+E[0]+4096336452&4294967295,b=S+(P<<6&4294967295|P>>>26),P=D+(S^(b|~j))+E[7]+1126891415&4294967295,D=b+(P<<10&4294967295|P>>>22),P=j+(b^(D|~S))+E[14]+2878612391&4294967295,j=D+(P<<15&4294967295|P>>>17),P=S+(D^(j|~b))+E[5]+4237533241&4294967295,S=j+(P<<21&4294967295|P>>>11),P=b+(j^(S|~D))+E[12]+1700485571&4294967295,b=S+(P<<6&4294967295|P>>>26),P=D+(S^(b|~j))+E[3]+2399980690&4294967295,D=b+(P<<10&4294967295|P>>>22),P=j+(b^(D|~S))+E[10]+4293915773&4294967295,j=D+(P<<15&4294967295|P>>>17),P=S+(D^(j|~b))+E[1]+2240044497&4294967295,S=j+(P<<21&4294967295|P>>>11),P=b+(j^(S|~D))+E[8]+1873313359&4294967295,b=S+(P<<6&4294967295|P>>>26),P=D+(S^(b|~j))+E[15]+4264355552&4294967295,D=b+(P<<10&4294967295|P>>>22),P=j+(b^(D|~S))+E[6]+2734768916&4294967295,j=D+(P<<15&4294967295|P>>>17),P=S+(D^(j|~b))+E[13]+1309151649&4294967295,S=j+(P<<21&4294967295|P>>>11),P=b+(j^(S|~D))+E[4]+4149444226&4294967295,b=S+(P<<6&4294967295|P>>>26),P=D+(S^(b|~j))+E[11]+3174756917&4294967295,D=b+(P<<10&4294967295|P>>>22),P=j+(b^(D|~S))+E[2]+718787259&4294967295,j=D+(P<<15&4294967295|P>>>17),P=S+(D^(j|~b))+E[9]+3951481745&4294967295,k.g[0]=k.g[0]+b&4294967295,k.g[1]=k.g[1]+(j+(P<<21&4294967295|P>>>11))&4294967295,k.g[2]=k.g[2]+j&4294967295,k.g[3]=k.g[3]+D&4294967295}r.prototype.u=function(k,b){b===void 0&&(b=k.length);for(var S=b-this.blockSize,E=this.B,j=this.h,D=0;D<b;){if(j==0)for(;D<=S;)i(this,k,D),D+=this.blockSize;if(typeof k=="string"){for(;D<b;)if(E[j++]=k.charCodeAt(D++),j==this.blockSize){i(this,E),j=0;break}}else for(;D<b;)if(E[j++]=k[D++],j==this.blockSize){i(this,E),j=0;break}}this.h=j,this.o+=b},r.prototype.v=function(){var k=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);k[0]=128;for(var b=1;b<k.length-8;++b)k[b]=0;var S=8*this.o;for(b=k.length-8;b<k.length;++b)k[b]=S&255,S/=256;for(this.u(k),k=Array(16),b=S=0;4>b;++b)for(var E=0;32>E;E+=8)k[S++]=this.g[b]>>>E&255;return k};function s(k,b){var S=a;return Object.prototype.hasOwnProperty.call(S,k)?S[k]:S[k]=b(k)}function o(k,b){this.h=b;for(var S=[],E=!0,j=k.length-1;0<=j;j--){var D=k[j]|0;E&&D==b||(S[j]=D,E=!1)}this.g=S}var a={};function l(k){return-128<=k&&128>k?s(k,function(b){return new o([b|0],0>b?-1:0)}):new o([k|0],0>k?-1:0)}function u(k){if(isNaN(k)||!isFinite(k))return f;if(0>k)return I(u(-k));for(var b=[],S=1,E=0;k>=S;E++)b[E]=k/S|0,S*=4294967296;return new o(b,0)}function h(k,b){if(k.length==0)throw Error("number format error: empty string");if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(k.charAt(0)=="-")return I(h(k.substring(1),b));if(0<=k.indexOf("-"))throw Error('number format error: interior "-" character');for(var S=u(Math.pow(b,8)),E=f,j=0;j<k.length;j+=8){var D=Math.min(8,k.length-j),P=parseInt(k.substring(j,j+D),b);8>D?(D=u(Math.pow(b,D)),E=E.j(D).add(u(P))):(E=E.j(S),E=E.add(u(P)))}return E}var f=l(0),p=l(1),g=l(16777216);t=o.prototype,t.m=function(){if(T(this))return-I(this).m();for(var k=0,b=1,S=0;S<this.g.length;S++){var E=this.i(S);k+=(0<=E?E:4294967296+E)*b,b*=4294967296}return k},t.toString=function(k){if(k=k||10,2>k||36<k)throw Error("radix out of range: "+k);if(w(this))return"0";if(T(this))return"-"+I(this).toString(k);for(var b=u(Math.pow(k,6)),S=this,E="";;){var j=N(S,b).g;S=_(S,j.j(b));var D=((0<S.g.length?S.g[0]:S.h)>>>0).toString(k);if(S=j,w(S))return D+E;for(;6>D.length;)D="0"+D;E=D+E}},t.i=function(k){return 0>k?0:k<this.g.length?this.g[k]:this.h};function w(k){if(k.h!=0)return!1;for(var b=0;b<k.g.length;b++)if(k.g[b]!=0)return!1;return!0}function T(k){return k.h==-1}t.l=function(k){return k=_(this,k),T(k)?-1:w(k)?0:1};function I(k){for(var b=k.g.length,S=[],E=0;E<b;E++)S[E]=~k.g[E];return new o(S,~k.h).add(p)}t.abs=function(){return T(this)?I(this):this},t.add=function(k){for(var b=Math.max(this.g.length,k.g.length),S=[],E=0,j=0;j<=b;j++){var D=E+(this.i(j)&65535)+(k.i(j)&65535),P=(D>>>16)+(this.i(j)>>>16)+(k.i(j)>>>16);E=P>>>16,D&=65535,P&=65535,S[j]=P<<16|D}return new o(S,S[S.length-1]&-2147483648?-1:0)};function _(k,b){return k.add(I(b))}t.j=function(k){if(w(this)||w(k))return f;if(T(this))return T(k)?I(this).j(I(k)):I(I(this).j(k));if(T(k))return I(this.j(I(k)));if(0>this.l(g)&&0>k.l(g))return u(this.m()*k.m());for(var b=this.g.length+k.g.length,S=[],E=0;E<2*b;E++)S[E]=0;for(E=0;E<this.g.length;E++)for(var j=0;j<k.g.length;j++){var D=this.i(E)>>>16,P=this.i(E)&65535,q=k.i(j)>>>16,G=k.i(j)&65535;S[2*E+2*j]+=P*G,v(S,2*E+2*j),S[2*E+2*j+1]+=D*G,v(S,2*E+2*j+1),S[2*E+2*j+1]+=P*q,v(S,2*E+2*j+1),S[2*E+2*j+2]+=D*q,v(S,2*E+2*j+2)}for(E=0;E<b;E++)S[E]=S[2*E+1]<<16|S[2*E];for(E=b;E<2*b;E++)S[E]=0;return new o(S,0)};function v(k,b){for(;(k[b]&65535)!=k[b];)k[b+1]+=k[b]>>>16,k[b]&=65535,b++}function x(k,b){this.g=k,this.h=b}function N(k,b){if(w(b))throw Error("division by zero");if(w(k))return new x(f,f);if(T(k))return b=N(I(k),b),new x(I(b.g),I(b.h));if(T(b))return b=N(k,I(b)),new x(I(b.g),b.h);if(30<k.g.length){if(T(k)||T(b))throw Error("slowDivide_ only works with positive integers.");for(var S=p,E=b;0>=E.l(k);)S=O(S),E=O(E);var j=A(S,1),D=A(E,1);for(E=A(E,2),S=A(S,2);!w(E);){var P=D.add(E);0>=P.l(k)&&(j=j.add(S),D=P),E=A(E,1),S=A(S,1)}return b=_(k,j.j(b)),new x(j,b)}for(j=f;0<=k.l(b);){for(S=Math.max(1,Math.floor(k.m()/b.m())),E=Math.ceil(Math.log(S)/Math.LN2),E=48>=E?1:Math.pow(2,E-48),D=u(S),P=D.j(b);T(P)||0<P.l(k);)S-=E,D=u(S),P=D.j(b);w(D)&&(D=p),j=j.add(D),k=_(k,P)}return new x(j,k)}t.A=function(k){return N(this,k).h},t.and=function(k){for(var b=Math.max(this.g.length,k.g.length),S=[],E=0;E<b;E++)S[E]=this.i(E)&k.i(E);return new o(S,this.h&k.h)},t.or=function(k){for(var b=Math.max(this.g.length,k.g.length),S=[],E=0;E<b;E++)S[E]=this.i(E)|k.i(E);return new o(S,this.h|k.h)},t.xor=function(k){for(var b=Math.max(this.g.length,k.g.length),S=[],E=0;E<b;E++)S[E]=this.i(E)^k.i(E);return new o(S,this.h^k.h)};function O(k){for(var b=k.g.length+1,S=[],E=0;E<b;E++)S[E]=k.i(E)<<1|k.i(E-1)>>>31;return new o(S,k.h)}function A(k,b){var S=b>>5;b%=32;for(var E=k.g.length-S,j=[],D=0;D<E;D++)j[D]=0<b?k.i(D+S)>>>b|k.i(D+S+1)<<32-b:k.i(D+S);return new o(j,k.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,pk=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=h,Ai=o}).apply(typeof jx<"u"?jx:typeof self<"u"?self:typeof window<"u"?window:{});var Xu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var mk,Ha,gk,Tc,Qp,yk,vk,xk;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,m,y){return c==Array.prototype||c==Object.prototype||(c[m]=y.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Xu=="object"&&Xu];for(var m=0;m<c.length;++m){var y=c[m];if(y&&y.Math==Math)return y}throw Error("Cannot find global object")}var r=n(this);function i(c,m){if(m)e:{var y=r;c=c.split(".");for(var C=0;C<c.length-1;C++){var F=c[C];if(!(F in y))break e;y=y[F]}c=c[c.length-1],C=y[c],m=m(C),m!=C&&m!=null&&e(y,c,{configurable:!0,writable:!0,value:m})}}function s(c,m){c instanceof String&&(c+="");var y=0,C=!1,F={next:function(){if(!C&&y<c.length){var z=y++;return{value:m(z,c[z]),done:!1}}return C=!0,{done:!0,value:void 0}}};return F[Symbol.iterator]=function(){return F},F}i("Array.prototype.values",function(c){return c||function(){return s(this,function(m,y){return y})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(c){var m=typeof c;return m=m!="object"?m:c?Array.isArray(c)?"array":m:"null",m=="array"||m=="object"&&typeof c.length=="number"}function u(c){var m=typeof c;return m=="object"&&c!=null||m=="function"}function h(c,m,y){return c.call.apply(c.bind,arguments)}function f(c,m,y){if(!c)throw Error();if(2<arguments.length){var C=Array.prototype.slice.call(arguments,2);return function(){var F=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(F,C),c.apply(m,F)}}return function(){return c.apply(m,arguments)}}function p(c,m,y){return p=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:f,p.apply(null,arguments)}function g(c,m){var y=Array.prototype.slice.call(arguments,1);return function(){var C=y.slice();return C.push.apply(C,arguments),c.apply(this,C)}}function w(c,m){function y(){}y.prototype=m.prototype,c.aa=m.prototype,c.prototype=new y,c.prototype.constructor=c,c.Qb=function(C,F,z){for(var Z=Array(arguments.length-2),ze=2;ze<arguments.length;ze++)Z[ze-2]=arguments[ze];return m.prototype[F].apply(C,Z)}}function T(c){const m=c.length;if(0<m){const y=Array(m);for(let C=0;C<m;C++)y[C]=c[C];return y}return[]}function I(c,m){for(let y=1;y<arguments.length;y++){const C=arguments[y];if(l(C)){const F=c.length||0,z=C.length||0;c.length=F+z;for(let Z=0;Z<z;Z++)c[F+Z]=C[Z]}else c.push(C)}}class _{constructor(m,y){this.i=m,this.j=y,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function v(c){return/^[\s\xa0]*$/.test(c)}function x(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function N(c){return N[" "](c),c}N[" "]=function(){};var O=x().indexOf("Gecko")!=-1&&!(x().toLowerCase().indexOf("webkit")!=-1&&x().indexOf("Edge")==-1)&&!(x().indexOf("Trident")!=-1||x().indexOf("MSIE")!=-1)&&x().indexOf("Edge")==-1;function A(c,m,y){for(const C in c)m.call(y,c[C],C,c)}function k(c,m){for(const y in c)m.call(void 0,c[y],y,c)}function b(c){const m={};for(const y in c)m[y]=c[y];return m}const S="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function E(c,m){let y,C;for(let F=1;F<arguments.length;F++){C=arguments[F];for(y in C)c[y]=C[y];for(let z=0;z<S.length;z++)y=S[z],Object.prototype.hasOwnProperty.call(C,y)&&(c[y]=C[y])}}function j(c){var m=1;c=c.split(":");const y=[];for(;0<m&&c.length;)y.push(c.shift()),m--;return c.length&&y.push(c.join(":")),y}function D(c){a.setTimeout(()=>{throw c},0)}function P(){var c=Y;let m=null;return c.g&&(m=c.g,c.g=c.g.next,c.g||(c.h=null),m.next=null),m}class q{constructor(){this.h=this.g=null}add(m,y){const C=G.get();C.set(m,y),this.h?this.h.next=C:this.g=C,this.h=C}}var G=new _(()=>new le,c=>c.reset());class le{constructor(){this.next=this.g=this.h=null}set(m,y){this.h=m,this.g=y,this.next=null}reset(){this.next=this.g=this.h=null}}let se,U=!1,Y=new q,R=()=>{const c=a.Promise.resolve(void 0);se=()=>{c.then(J)}};var J=()=>{for(var c;c=P();){try{c.h.call(c.g)}catch(y){D(y)}var m=G;m.j(c),100>m.h&&(m.h++,c.next=m.g,m.g=c)}U=!1};function ne(){this.s=this.s,this.C=this.C}ne.prototype.s=!1,ne.prototype.ma=function(){this.s||(this.s=!0,this.N())},ne.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function L(c,m){this.type=c,this.g=this.target=m,this.defaultPrevented=!1}L.prototype.h=function(){this.defaultPrevented=!0};var ge=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,m=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const y=()=>{};a.addEventListener("test",y,m),a.removeEventListener("test",y,m)}catch{}return c}();function Ae(c,m){if(L.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var y=this.type=c.type,C=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=m,m=c.relatedTarget){if(O){e:{try{N(m.nodeName);var F=!0;break e}catch{}F=!1}F||(m=null)}}else y=="mouseover"?m=c.fromElement:y=="mouseout"&&(m=c.toElement);this.relatedTarget=m,C?(this.clientX=C.clientX!==void 0?C.clientX:C.pageX,this.clientY=C.clientY!==void 0?C.clientY:C.pageY,this.screenX=C.screenX||0,this.screenY=C.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:he[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Ae.aa.h.call(this)}}w(Ae,L);var he={2:"touch",3:"pen",4:"mouse"};Ae.prototype.h=function(){Ae.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var X="closure_listenable_"+(1e6*Math.random()|0),pe=0;function ve(c,m,y,C,F){this.listener=c,this.proxy=null,this.src=m,this.type=y,this.capture=!!C,this.ha=F,this.key=++pe,this.da=this.fa=!1}function be(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Me(c){this.src=c,this.g={},this.h=0}Me.prototype.add=function(c,m,y,C,F){var z=c.toString();c=this.g[z],c||(c=this.g[z]=[],this.h++);var Z=Un(c,m,C,F);return-1<Z?(m=c[Z],y||(m.fa=!1)):(m=new ve(m,this.src,z,!!C,F),m.fa=y,c.push(m)),m};function pn(c,m){var y=m.type;if(y in c.g){var C=c.g[y],F=Array.prototype.indexOf.call(C,m,void 0),z;(z=0<=F)&&Array.prototype.splice.call(C,F,1),z&&(be(m),c.g[y].length==0&&(delete c.g[y],c.h--))}}function Un(c,m,y,C){for(var F=0;F<c.length;++F){var z=c[F];if(!z.da&&z.listener==m&&z.capture==!!y&&z.ha==C)return F}return-1}var _r="closure_lm_"+(1e6*Math.random()|0),Gr={};function Kr(c,m,y,C,F){if(Array.isArray(m)){for(var z=0;z<m.length;z++)Kr(c,m[z],y,C,F);return null}return y=Sn(y),c&&c[X]?c.K(m,y,u(C)?!!C.capture:!1,F):Hs(c,m,y,!1,C,F)}function Hs(c,m,y,C,F,z){if(!m)throw Error("Invalid event type");var Z=u(F)?!!F.capture:!!F,ze=Qr(c);if(ze||(c[_r]=ze=new Me(c)),y=ze.add(m,y,C,Z,z),y.proxy)return y;if(C=Xi(),y.proxy=C,C.src=c,C.listener=y,c.addEventListener)ge||(F=Z),F===void 0&&(F=!1),c.addEventListener(m.toString(),C,F);else if(c.attachEvent)c.attachEvent(qs(m.toString()),C);else if(c.addListener&&c.removeListener)c.addListener(C);else throw Error("addEventListener and attachEvent are unavailable.");return y}function Xi(){function c(y){return m.call(c.src,c.listener,y)}const m=pa;return c}function Zi(c,m,y,C,F){if(Array.isArray(m))for(var z=0;z<m.length;z++)Zi(c,m[z],y,C,F);else C=u(C)?!!C.capture:!!C,y=Sn(y),c&&c[X]?(c=c.i,m=String(m).toString(),m in c.g&&(z=c.g[m],y=Un(z,y,C,F),-1<y&&(be(z[y]),Array.prototype.splice.call(z,y,1),z.length==0&&(delete c.g[m],c.h--)))):c&&(c=Qr(c))&&(m=c.g[m.toString()],c=-1,m&&(c=Un(m,y,C,F)),(y=-1<c?m[c]:null)&&$n(y))}function $n(c){if(typeof c!="number"&&c&&!c.da){var m=c.src;if(m&&m[X])pn(m.i,c);else{var y=c.type,C=c.proxy;m.removeEventListener?m.removeEventListener(y,C,c.capture):m.detachEvent?m.detachEvent(qs(y),C):m.addListener&&m.removeListener&&m.removeListener(C),(y=Qr(m))?(pn(y,c),y.h==0&&(y.src=null,m[_r]=null)):be(c)}}}function qs(c){return c in Gr?Gr[c]:Gr[c]="on"+c}function pa(c,m){if(c.da)c=!0;else{m=new Ae(m,this);var y=c.listener,C=c.ha||c.src;c.fa&&$n(c),c=y.call(C,m)}return c}function Qr(c){return c=c[_r],c instanceof Me?c:null}var Yr="__closure_events_fn_"+(1e9*Math.random()>>>0);function Sn(c){return typeof c=="function"?c:(c[Yr]||(c[Yr]=function(m){return c.handleEvent(m)}),c[Yr])}function V(){ne.call(this),this.i=new Me(this),this.M=this,this.F=null}w(V,ne),V.prototype[X]=!0,V.prototype.removeEventListener=function(c,m,y,C){Zi(this,c,m,y,C)};function W(c,m){var y,C=c.F;if(C)for(y=[];C;C=C.F)y.push(C);if(c=c.M,C=m.type||m,typeof m=="string")m=new L(m,c);else if(m instanceof L)m.target=m.target||c;else{var F=m;m=new L(C,c),E(m,F)}if(F=!0,y)for(var z=y.length-1;0<=z;z--){var Z=m.g=y[z];F=de(Z,C,!0,m)&&F}if(Z=m.g=c,F=de(Z,C,!0,m)&&F,F=de(Z,C,!1,m)&&F,y)for(z=0;z<y.length;z++)Z=m.g=y[z],F=de(Z,C,!1,m)&&F}V.prototype.N=function(){if(V.aa.N.call(this),this.i){var c=this.i,m;for(m in c.g){for(var y=c.g[m],C=0;C<y.length;C++)be(y[C]);delete c.g[m],c.h--}}this.F=null},V.prototype.K=function(c,m,y,C){return this.i.add(String(c),m,!1,y,C)},V.prototype.L=function(c,m,y,C){return this.i.add(String(c),m,!0,y,C)};function de(c,m,y,C){if(m=c.i.g[String(m)],!m)return!0;m=m.concat();for(var F=!0,z=0;z<m.length;++z){var Z=m[z];if(Z&&!Z.da&&Z.capture==y){var ze=Z.listener,Tt=Z.ha||Z.src;Z.fa&&pn(c.i,Z),F=ze.call(Tt,C)!==!1&&F}}return F&&!C.defaultPrevented}function xe(c,m,y){if(typeof c=="function")y&&(c=p(c,y));else if(c&&typeof c.handleEvent=="function")c=p(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:a.setTimeout(c,m||0)}function De(c){c.g=xe(()=>{c.g=null,c.i&&(c.i=!1,De(c))},c.l);const m=c.h;c.h=null,c.m.apply(null,m)}class Wt extends ne{constructor(m,y){super(),this.m=m,this.l=y,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:De(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Gt(c){ne.call(this),this.h=c,this.g={}}w(Gt,ne);var pt=[];function tr(c){A(c.g,function(m,y){this.g.hasOwnProperty(y)&&$n(m)},c),c.g={}}Gt.prototype.N=function(){Gt.aa.N.call(this),tr(this)},Gt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Tn=a.JSON.stringify,St=a.JSON.parse,In=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function Kt(){}Kt.prototype.h=null;function xu(c){return c.h||(c.h=c.i())}function wu(){}var es={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ma(){L.call(this,"d")}w(ma,L);function Ws(){L.call(this,"c")}w(Ws,L);var Er={},ga=null;function Gs(){return ga=ga||new V}Er.La="serverreachability";function ts(c){L.call(this,Er.La,c)}w(ts,L);function ns(c){const m=Gs();W(m,new ts(m))}Er.STAT_EVENT="statevent";function ya(c,m){L.call(this,Er.STAT_EVENT,c),this.stat=m}w(ya,L);function wt(c){const m=Gs();W(m,new ya(m,c))}Er.Ma="timingevent";function B(c,m){L.call(this,Er.Ma,c),this.size=m}w(B,L);function ee(c,m){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},m)}function ie(){this.g=!0}ie.prototype.xa=function(){this.g=!1};function Re(c,m,y,C,F,z){c.info(function(){if(c.g)if(z)for(var Z="",ze=z.split("&"),Tt=0;Tt<ze.length;Tt++){var Oe=ze[Tt].split("=");if(1<Oe.length){var jt=Oe[0];Oe=Oe[1];var Dt=jt.split("_");Z=2<=Dt.length&&Dt[1]=="type"?Z+(jt+"="+Oe+"&"):Z+(jt+"=redacted&")}}else Z=null;else Z=z;return"XMLHTTP REQ ("+C+") [attempt "+F+"]: "+m+`
`+y+`
`+Z})}function $e(c,m,y,C,F,z,Z){c.info(function(){return"XMLHTTP RESP ("+C+") [ attempt "+F+"]: "+m+`
`+y+`
`+z+" "+Z})}function Ye(c,m,y,C){c.info(function(){return"XMLHTTP TEXT ("+m+"): "+_t(c,y)+(C?" "+C:"")})}function Ve(c,m){c.info(function(){return"TIMEOUT: "+m})}ie.prototype.info=function(){};function _t(c,m){if(!c.g)return m;if(!m)return null;try{var y=JSON.parse(m);if(y){for(c=0;c<y.length;c++)if(Array.isArray(y[c])){var C=y[c];if(!(2>C.length)){var F=C[1];if(Array.isArray(F)&&!(1>F.length)){var z=F[0];if(z!="noop"&&z!="stop"&&z!="close")for(var Z=1;Z<F.length;Z++)F[Z]=""}}}}return Tn(y)}catch{return m}}var Cn={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ks={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Qs;function Ys(){}w(Ys,Kt),Ys.prototype.g=function(){return new XMLHttpRequest},Ys.prototype.i=function(){return{}},Qs=new Ys;function nr(c,m,y,C){this.j=c,this.i=m,this.l=y,this.R=C||1,this.U=new Gt(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new rs}function rs(){this.i=null,this.g="",this.h=!1}var va={},Pd={};function Rd(c,m,y){c.L=1,c.v=ku(br(m)),c.m=y,c.P=!0,rv(c,null)}function rv(c,m){c.F=Date.now(),_u(c),c.A=br(c.v);var y=c.A,C=c.R;Array.isArray(C)||(C=[String(C)]),yv(y.i,"t",C),c.C=0,y=c.j.J,c.h=new rs,c.g=Ov(c.j,y?m:null,!c.m),0<c.O&&(c.M=new Wt(p(c.Y,c,c.g),c.O)),m=c.U,y=c.g,C=c.ca;var F="readystatechange";Array.isArray(F)||(F&&(pt[0]=F.toString()),F=pt);for(var z=0;z<F.length;z++){var Z=Kr(y,F[z],C||m.handleEvent,!1,m.h||m);if(!Z)break;m.g[Z.key]=Z}m=c.H?b(c.H):{},c.m?(c.u||(c.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,m)):(c.u="GET",c.g.ea(c.A,c.u,null,m)),ns(),Re(c.i,c.u,c.A,c.l,c.R,c.m)}nr.prototype.ca=function(c){c=c.target;const m=this.M;m&&kr(c)==3?m.j():this.Y(c)},nr.prototype.Y=function(c){try{if(c==this.g)e:{const Dt=kr(this.g);var m=this.g.Ba();const Zs=this.g.Z();if(!(3>Dt)&&(Dt!=3||this.g&&(this.h.h||this.g.oa()||kv(this.g)))){this.J||Dt!=4||m==7||(m==8||0>=Zs?ns(3):ns(2)),jd(this);var y=this.g.Z();this.X=y;t:if(iv(this)){var C=kv(this.g);c="";var F=C.length,z=kr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){is(this),xa(this);var Z="";break t}this.h.i=new a.TextDecoder}for(m=0;m<F;m++)this.h.h=!0,c+=this.h.i.decode(C[m],{stream:!(z&&m==F-1)});C.length=0,this.h.g+=c,this.C=0,Z=this.h.g}else Z=this.g.oa();if(this.o=y==200,$e(this.i,this.u,this.A,this.l,this.R,Dt,y),this.o){if(this.T&&!this.K){t:{if(this.g){var ze,Tt=this.g;if((ze=Tt.g?Tt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!v(ze)){var Oe=ze;break t}}Oe=null}if(y=Oe)Ye(this.i,this.l,y,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Dd(this,y);else{this.o=!1,this.s=3,wt(12),is(this),xa(this);break e}}if(this.P){y=!0;let Bn;for(;!this.J&&this.C<Z.length;)if(Bn=C2(this,Z),Bn==Pd){Dt==4&&(this.s=4,wt(14),y=!1),Ye(this.i,this.l,null,"[Incomplete Response]");break}else if(Bn==va){this.s=4,wt(15),Ye(this.i,this.l,Z,"[Invalid Chunk]"),y=!1;break}else Ye(this.i,this.l,Bn,null),Dd(this,Bn);if(iv(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Dt!=4||Z.length!=0||this.h.h||(this.s=1,wt(16),y=!1),this.o=this.o&&y,!y)Ye(this.i,this.l,Z,"[Invalid Chunked Response]"),is(this),xa(this);else if(0<Z.length&&!this.W){this.W=!0;var jt=this.j;jt.g==this&&jt.ba&&!jt.M&&(jt.j.info("Great, no buffering proxy detected. Bytes received: "+Z.length),zd(jt),jt.M=!0,wt(11))}}else Ye(this.i,this.l,Z,null),Dd(this,Z);Dt==4&&is(this),this.o&&!this.J&&(Dt==4?Pv(this.j,this):(this.o=!1,_u(this)))}else q2(this.g),y==400&&0<Z.indexOf("Unknown SID")?(this.s=3,wt(12)):(this.s=0,wt(13)),is(this),xa(this)}}}catch{}finally{}};function iv(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function C2(c,m){var y=c.C,C=m.indexOf(`
`,y);return C==-1?Pd:(y=Number(m.substring(y,C)),isNaN(y)?va:(C+=1,C+y>m.length?Pd:(m=m.slice(C,C+y),c.C=C+y,m)))}nr.prototype.cancel=function(){this.J=!0,is(this)};function _u(c){c.S=Date.now()+c.I,sv(c,c.I)}function sv(c,m){if(c.B!=null)throw Error("WatchDog timer not null");c.B=ee(p(c.ba,c),m)}function jd(c){c.B&&(a.clearTimeout(c.B),c.B=null)}nr.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(Ve(this.i,this.A),this.L!=2&&(ns(),wt(17)),is(this),this.s=2,xa(this)):sv(this,this.S-c)};function xa(c){c.j.G==0||c.J||Pv(c.j,c)}function is(c){jd(c);var m=c.M;m&&typeof m.ma=="function"&&m.ma(),c.M=null,tr(c.U),c.g&&(m=c.g,c.g=null,m.abort(),m.ma())}function Dd(c,m){try{var y=c.j;if(y.G!=0&&(y.g==c||Od(y.h,c))){if(!c.K&&Od(y.h,c)&&y.G==3){try{var C=y.Da.g.parse(m)}catch{C=null}if(Array.isArray(C)&&C.length==3){var F=C;if(F[0]==0){e:if(!y.u){if(y.g)if(y.g.F+3e3<c.F)Nu(y),Cu(y);else break e;Vd(y),wt(18)}}else y.za=F[1],0<y.za-y.T&&37500>F[2]&&y.F&&y.v==0&&!y.C&&(y.C=ee(p(y.Za,y),6e3));if(1>=lv(y.h)&&y.ca){try{y.ca()}catch{}y.ca=void 0}}else os(y,11)}else if((c.K||y.g==c)&&Nu(y),!v(m))for(F=y.Da.g.parse(m),m=0;m<F.length;m++){let Oe=F[m];if(y.T=Oe[0],Oe=Oe[1],y.G==2)if(Oe[0]=="c"){y.K=Oe[1],y.ia=Oe[2];const jt=Oe[3];jt!=null&&(y.la=jt,y.j.info("VER="+y.la));const Dt=Oe[4];Dt!=null&&(y.Aa=Dt,y.j.info("SVER="+y.Aa));const Zs=Oe[5];Zs!=null&&typeof Zs=="number"&&0<Zs&&(C=1.5*Zs,y.L=C,y.j.info("backChannelRequestTimeoutMs_="+C)),C=y;const Bn=c.g;if(Bn){const Ru=Bn.g?Bn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ru){var z=C.h;z.g||Ru.indexOf("spdy")==-1&&Ru.indexOf("quic")==-1&&Ru.indexOf("h2")==-1||(z.j=z.l,z.g=new Set,z.h&&(Ld(z,z.h),z.h=null))}if(C.D){const Ud=Bn.g?Bn.g.getResponseHeader("X-HTTP-Session-Id"):null;Ud&&(C.ya=Ud,qe(C.I,C.D,Ud))}}y.G=3,y.l&&y.l.ua(),y.ba&&(y.R=Date.now()-c.F,y.j.info("Handshake RTT: "+y.R+"ms")),C=y;var Z=c;if(C.qa=Dv(C,C.J?C.ia:null,C.W),Z.K){uv(C.h,Z);var ze=Z,Tt=C.L;Tt&&(ze.I=Tt),ze.B&&(jd(ze),_u(ze)),C.g=Z}else Av(C);0<y.i.length&&Au(y)}else Oe[0]!="stop"&&Oe[0]!="close"||os(y,7);else y.G==3&&(Oe[0]=="stop"||Oe[0]=="close"?Oe[0]=="stop"?os(y,7):Fd(y):Oe[0]!="noop"&&y.l&&y.l.ta(Oe),y.v=0)}}ns(4)}catch{}}var A2=class{constructor(c,m){this.g=c,this.map=m}};function ov(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function av(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function lv(c){return c.h?1:c.g?c.g.size:0}function Od(c,m){return c.h?c.h==m:c.g?c.g.has(m):!1}function Ld(c,m){c.g?c.g.add(m):c.h=m}function uv(c,m){c.h&&c.h==m?c.h=null:c.g&&c.g.has(m)&&c.g.delete(m)}ov.prototype.cancel=function(){if(this.i=cv(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function cv(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let m=c.i;for(const y of c.g.values())m=m.concat(y.D);return m}return T(c.i)}function N2(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(l(c)){for(var m=[],y=c.length,C=0;C<y;C++)m.push(c[C]);return m}m=[],y=0;for(C in c)m[y++]=c[C];return m}function P2(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(l(c)||typeof c=="string"){var m=[];c=c.length;for(var y=0;y<c;y++)m.push(y);return m}m=[],y=0;for(const C in c)m[y++]=C;return m}}}function hv(c,m){if(c.forEach&&typeof c.forEach=="function")c.forEach(m,void 0);else if(l(c)||typeof c=="string")Array.prototype.forEach.call(c,m,void 0);else for(var y=P2(c),C=N2(c),F=C.length,z=0;z<F;z++)m.call(void 0,C[z],y&&y[z],c)}var dv=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function R2(c,m){if(c){c=c.split("&");for(var y=0;y<c.length;y++){var C=c[y].indexOf("="),F=null;if(0<=C){var z=c[y].substring(0,C);F=c[y].substring(C+1)}else z=c[y];m(z,F?decodeURIComponent(F.replace(/\+/g," ")):"")}}}function ss(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof ss){this.h=c.h,Eu(this,c.j),this.o=c.o,this.g=c.g,bu(this,c.s),this.l=c.l;var m=c.i,y=new Ea;y.i=m.i,m.g&&(y.g=new Map(m.g),y.h=m.h),fv(this,y),this.m=c.m}else c&&(m=String(c).match(dv))?(this.h=!1,Eu(this,m[1]||"",!0),this.o=wa(m[2]||""),this.g=wa(m[3]||"",!0),bu(this,m[4]),this.l=wa(m[5]||"",!0),fv(this,m[6]||"",!0),this.m=wa(m[7]||"")):(this.h=!1,this.i=new Ea(null,this.h))}ss.prototype.toString=function(){var c=[],m=this.j;m&&c.push(_a(m,pv,!0),":");var y=this.g;return(y||m=="file")&&(c.push("//"),(m=this.o)&&c.push(_a(m,pv,!0),"@"),c.push(encodeURIComponent(String(y)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y=this.s,y!=null&&c.push(":",String(y))),(y=this.l)&&(this.g&&y.charAt(0)!="/"&&c.push("/"),c.push(_a(y,y.charAt(0)=="/"?O2:D2,!0))),(y=this.i.toString())&&c.push("?",y),(y=this.m)&&c.push("#",_a(y,M2)),c.join("")};function br(c){return new ss(c)}function Eu(c,m,y){c.j=y?wa(m,!0):m,c.j&&(c.j=c.j.replace(/:$/,""))}function bu(c,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);c.s=m}else c.s=null}function fv(c,m,y){m instanceof Ea?(c.i=m,F2(c.i,c.h)):(y||(m=_a(m,L2)),c.i=new Ea(m,c.h))}function qe(c,m,y){c.i.set(m,y)}function ku(c){return qe(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function wa(c,m){return c?m?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function _a(c,m,y){return typeof c=="string"?(c=encodeURI(c).replace(m,j2),y&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function j2(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var pv=/[#\/\?@]/g,D2=/[#\?:]/g,O2=/[#\?]/g,L2=/[#\?@]/g,M2=/#/g;function Ea(c,m){this.h=this.g=null,this.i=c||null,this.j=!!m}function Jr(c){c.g||(c.g=new Map,c.h=0,c.i&&R2(c.i,function(m,y){c.add(decodeURIComponent(m.replace(/\+/g," ")),y)}))}t=Ea.prototype,t.add=function(c,m){Jr(this),this.i=null,c=Js(this,c);var y=this.g.get(c);return y||this.g.set(c,y=[]),y.push(m),this.h+=1,this};function mv(c,m){Jr(c),m=Js(c,m),c.g.has(m)&&(c.i=null,c.h-=c.g.get(m).length,c.g.delete(m))}function gv(c,m){return Jr(c),m=Js(c,m),c.g.has(m)}t.forEach=function(c,m){Jr(this),this.g.forEach(function(y,C){y.forEach(function(F){c.call(m,F,C,this)},this)},this)},t.na=function(){Jr(this);const c=Array.from(this.g.values()),m=Array.from(this.g.keys()),y=[];for(let C=0;C<m.length;C++){const F=c[C];for(let z=0;z<F.length;z++)y.push(m[C])}return y},t.V=function(c){Jr(this);let m=[];if(typeof c=="string")gv(this,c)&&(m=m.concat(this.g.get(Js(this,c))));else{c=Array.from(this.g.values());for(let y=0;y<c.length;y++)m=m.concat(c[y])}return m},t.set=function(c,m){return Jr(this),this.i=null,c=Js(this,c),gv(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[m]),this.h+=1,this},t.get=function(c,m){return c?(c=this.V(c),0<c.length?String(c[0]):m):m};function yv(c,m,y){mv(c,m),0<y.length&&(c.i=null,c.g.set(Js(c,m),T(y)),c.h+=y.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],m=Array.from(this.g.keys());for(var y=0;y<m.length;y++){var C=m[y];const z=encodeURIComponent(String(C)),Z=this.V(C);for(C=0;C<Z.length;C++){var F=z;Z[C]!==""&&(F+="="+encodeURIComponent(String(Z[C]))),c.push(F)}}return this.i=c.join("&")};function Js(c,m){return m=String(m),c.j&&(m=m.toLowerCase()),m}function F2(c,m){m&&!c.j&&(Jr(c),c.i=null,c.g.forEach(function(y,C){var F=C.toLowerCase();C!=F&&(mv(this,C),yv(this,F,y))},c)),c.j=m}function V2(c,m){const y=new ie;if(a.Image){const C=new Image;C.onload=g(Xr,y,"TestLoadImage: loaded",!0,m,C),C.onerror=g(Xr,y,"TestLoadImage: error",!1,m,C),C.onabort=g(Xr,y,"TestLoadImage: abort",!1,m,C),C.ontimeout=g(Xr,y,"TestLoadImage: timeout",!1,m,C),a.setTimeout(function(){C.ontimeout&&C.ontimeout()},1e4),C.src=c}else m(!1)}function z2(c,m){const y=new ie,C=new AbortController,F=setTimeout(()=>{C.abort(),Xr(y,"TestPingServer: timeout",!1,m)},1e4);fetch(c,{signal:C.signal}).then(z=>{clearTimeout(F),z.ok?Xr(y,"TestPingServer: ok",!0,m):Xr(y,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(F),Xr(y,"TestPingServer: error",!1,m)})}function Xr(c,m,y,C,F){try{F&&(F.onload=null,F.onerror=null,F.onabort=null,F.ontimeout=null),C(y)}catch{}}function U2(){this.g=new In}function $2(c,m,y){const C=y||"";try{hv(c,function(F,z){let Z=F;u(F)&&(Z=Tn(F)),m.push(C+z+"="+encodeURIComponent(Z))})}catch(F){throw m.push(C+"type="+encodeURIComponent("_badmap")),F}}function Su(c){this.l=c.Ub||null,this.j=c.eb||!1}w(Su,Kt),Su.prototype.g=function(){return new Tu(this.l,this.j)},Su.prototype.i=function(c){return function(){return c}}({});function Tu(c,m){V.call(this),this.D=c,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}w(Tu,V),t=Tu.prototype,t.open=function(c,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=m,this.readyState=1,ka(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(m.body=c),(this.D||a).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ba(this)),this.readyState=0},t.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,ka(this)),this.g&&(this.readyState=3,ka(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;vv(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function vv(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}t.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var m=c.value?c.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!c.done}))&&(this.response=this.responseText+=m)}c.done?ba(this):ka(this),this.readyState==3&&vv(this)}},t.Ra=function(c){this.g&&(this.response=this.responseText=c,ba(this))},t.Qa=function(c){this.g&&(this.response=c,ba(this))},t.ga=function(){this.g&&ba(this)};function ba(c){c.readyState=4,c.l=null,c.j=null,c.v=null,ka(c)}t.setRequestHeader=function(c,m){this.u.append(c,m)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],m=this.h.entries();for(var y=m.next();!y.done;)y=y.value,c.push(y[0]+": "+y[1]),y=m.next();return c.join(`\r
`)};function ka(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Tu.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function xv(c){let m="";return A(c,function(y,C){m+=C,m+=":",m+=y,m+=`\r
`}),m}function Md(c,m,y){e:{for(C in y){var C=!1;break e}C=!0}C||(y=xv(y),typeof c=="string"?y!=null&&encodeURIComponent(String(y)):qe(c,m,y))}function it(c){V.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}w(it,V);var B2=/^https?$/i,H2=["POST","PUT"];t=it.prototype,t.Ha=function(c){this.J=c},t.ea=function(c,m,y,C){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);m=m?m.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Qs.g(),this.v=this.o?xu(this.o):xu(Qs),this.g.onreadystatechange=p(this.Ea,this);try{this.B=!0,this.g.open(m,String(c),!0),this.B=!1}catch(z){wv(this,z);return}if(c=y||"",y=new Map(this.headers),C)if(Object.getPrototypeOf(C)===Object.prototype)for(var F in C)y.set(F,C[F]);else if(typeof C.keys=="function"&&typeof C.get=="function")for(const z of C.keys())y.set(z,C.get(z));else throw Error("Unknown input type for opt_headers: "+String(C));C=Array.from(y.keys()).find(z=>z.toLowerCase()=="content-type"),F=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(H2,m,void 0))||C||F||y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[z,Z]of y)this.g.setRequestHeader(z,Z);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{bv(this),this.u=!0,this.g.send(c),this.u=!1}catch(z){wv(this,z)}};function wv(c,m){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=m,c.m=5,_v(c),Iu(c)}function _v(c){c.A||(c.A=!0,W(c,"complete"),W(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,W(this,"complete"),W(this,"abort"),Iu(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Iu(this,!0)),it.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Ev(this):this.bb())},t.bb=function(){Ev(this)};function Ev(c){if(c.h&&typeof o<"u"&&(!c.v[1]||kr(c)!=4||c.Z()!=2)){if(c.u&&kr(c)==4)xe(c.Ea,0,c);else if(W(c,"readystatechange"),kr(c)==4){c.h=!1;try{const Z=c.Z();e:switch(Z){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var y;if(!(y=m)){var C;if(C=Z===0){var F=String(c.D).match(dv)[1]||null;!F&&a.self&&a.self.location&&(F=a.self.location.protocol.slice(0,-1)),C=!B2.test(F?F.toLowerCase():"")}y=C}if(y)W(c,"complete"),W(c,"success");else{c.m=6;try{var z=2<kr(c)?c.g.statusText:""}catch{z=""}c.l=z+" ["+c.Z()+"]",_v(c)}}finally{Iu(c)}}}}function Iu(c,m){if(c.g){bv(c);const y=c.g,C=c.v[0]?()=>{}:null;c.g=null,c.v=null,m||W(c,"ready");try{y.onreadystatechange=C}catch{}}}function bv(c){c.I&&(a.clearTimeout(c.I),c.I=null)}t.isActive=function(){return!!this.g};function kr(c){return c.g?c.g.readyState:0}t.Z=function(){try{return 2<kr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(c){if(this.g){var m=this.g.responseText;return c&&m.indexOf(c)==0&&(m=m.substring(c.length)),St(m)}};function kv(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function q2(c){const m={};c=(c.g&&2<=kr(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let C=0;C<c.length;C++){if(v(c[C]))continue;var y=j(c[C]);const F=y[0];if(y=y[1],typeof y!="string")continue;y=y.trim();const z=m[F]||[];m[F]=z,z.push(y)}k(m,function(C){return C.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Sa(c,m,y){return y&&y.internalChannelParams&&y.internalChannelParams[c]||m}function Sv(c){this.Aa=0,this.i=[],this.j=new ie,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Sa("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Sa("baseRetryDelayMs",5e3,c),this.cb=Sa("retryDelaySeedMs",1e4,c),this.Wa=Sa("forwardChannelMaxRetries",2,c),this.wa=Sa("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new ov(c&&c.concurrentRequestLimit),this.Da=new U2,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Sv.prototype,t.la=8,t.G=1,t.connect=function(c,m,y,C){wt(0),this.W=c,this.H=m||{},y&&C!==void 0&&(this.H.OSID=y,this.H.OAID=C),this.F=this.X,this.I=Dv(this,null,this.W),Au(this)};function Fd(c){if(Tv(c),c.G==3){var m=c.U++,y=br(c.I);if(qe(y,"SID",c.K),qe(y,"RID",m),qe(y,"TYPE","terminate"),Ta(c,y),m=new nr(c,c.j,m),m.L=2,m.v=ku(br(y)),y=!1,a.navigator&&a.navigator.sendBeacon)try{y=a.navigator.sendBeacon(m.v.toString(),"")}catch{}!y&&a.Image&&(new Image().src=m.v,y=!0),y||(m.g=Ov(m.j,null),m.g.ea(m.v)),m.F=Date.now(),_u(m)}jv(c)}function Cu(c){c.g&&(zd(c),c.g.cancel(),c.g=null)}function Tv(c){Cu(c),c.u&&(a.clearTimeout(c.u),c.u=null),Nu(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function Au(c){if(!av(c.h)&&!c.s){c.s=!0;var m=c.Ga;se||R(),U||(se(),U=!0),Y.add(m,c),c.B=0}}function W2(c,m){return lv(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=m.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=ee(p(c.Ga,c,m),Rv(c,c.B)),c.B++,!0)}t.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const F=new nr(this,this.j,c);let z=this.o;if(this.S&&(z?(z=b(z),E(z,this.S)):z=this.S),this.m!==null||this.O||(F.H=z,z=null),this.P)e:{for(var m=0,y=0;y<this.i.length;y++){t:{var C=this.i[y];if("__data__"in C.map&&(C=C.map.__data__,typeof C=="string")){C=C.length;break t}C=void 0}if(C===void 0)break;if(m+=C,4096<m){m=y;break e}if(m===4096||y===this.i.length-1){m=y+1;break e}}m=1e3}else m=1e3;m=Cv(this,F,m),y=br(this.I),qe(y,"RID",c),qe(y,"CVER",22),this.D&&qe(y,"X-HTTP-Session-Id",this.D),Ta(this,y),z&&(this.O?m="headers="+encodeURIComponent(String(xv(z)))+"&"+m:this.m&&Md(y,this.m,z)),Ld(this.h,F),this.Ua&&qe(y,"TYPE","init"),this.P?(qe(y,"$req",m),qe(y,"SID","null"),F.T=!0,Rd(F,y,null)):Rd(F,y,m),this.G=2}}else this.G==3&&(c?Iv(this,c):this.i.length==0||av(this.h)||Iv(this))};function Iv(c,m){var y;m?y=m.l:y=c.U++;const C=br(c.I);qe(C,"SID",c.K),qe(C,"RID",y),qe(C,"AID",c.T),Ta(c,C),c.m&&c.o&&Md(C,c.m,c.o),y=new nr(c,c.j,y,c.B+1),c.m===null&&(y.H=c.o),m&&(c.i=m.D.concat(c.i)),m=Cv(c,y,1e3),y.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Ld(c.h,y),Rd(y,C,m)}function Ta(c,m){c.H&&A(c.H,function(y,C){qe(m,C,y)}),c.l&&hv({},function(y,C){qe(m,C,y)})}function Cv(c,m,y){y=Math.min(c.i.length,y);var C=c.l?p(c.l.Na,c.l,c):null;e:{var F=c.i;let z=-1;for(;;){const Z=["count="+y];z==-1?0<y?(z=F[0].g,Z.push("ofs="+z)):z=0:Z.push("ofs="+z);let ze=!0;for(let Tt=0;Tt<y;Tt++){let Oe=F[Tt].g;const jt=F[Tt].map;if(Oe-=z,0>Oe)z=Math.max(0,F[Tt].g-100),ze=!1;else try{$2(jt,Z,"req"+Oe+"_")}catch{C&&C(jt)}}if(ze){C=Z.join("&");break e}}}return c=c.i.splice(0,y),m.D=c,C}function Av(c){if(!c.g&&!c.u){c.Y=1;var m=c.Fa;se||R(),U||(se(),U=!0),Y.add(m,c),c.v=0}}function Vd(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=ee(p(c.Fa,c),Rv(c,c.v)),c.v++,!0)}t.Fa=function(){if(this.u=null,Nv(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=ee(p(this.ab,this),c)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,wt(10),Cu(this),Nv(this))};function zd(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function Nv(c){c.g=new nr(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var m=br(c.qa);qe(m,"RID","rpc"),qe(m,"SID",c.K),qe(m,"AID",c.T),qe(m,"CI",c.F?"0":"1"),!c.F&&c.ja&&qe(m,"TO",c.ja),qe(m,"TYPE","xmlhttp"),Ta(c,m),c.m&&c.o&&Md(m,c.m,c.o),c.L&&(c.g.I=c.L);var y=c.g;c=c.ia,y.L=1,y.v=ku(br(m)),y.m=null,y.P=!0,rv(y,c)}t.Za=function(){this.C!=null&&(this.C=null,Cu(this),Vd(this),wt(19))};function Nu(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function Pv(c,m){var y=null;if(c.g==m){Nu(c),zd(c),c.g=null;var C=2}else if(Od(c.h,m))y=m.D,uv(c.h,m),C=1;else return;if(c.G!=0){if(m.o)if(C==1){y=m.m?m.m.length:0,m=Date.now()-m.F;var F=c.B;C=Gs(),W(C,new B(C,y)),Au(c)}else Av(c);else if(F=m.s,F==3||F==0&&0<m.X||!(C==1&&W2(c,m)||C==2&&Vd(c)))switch(y&&0<y.length&&(m=c.h,m.i=m.i.concat(y)),F){case 1:os(c,5);break;case 4:os(c,10);break;case 3:os(c,6);break;default:os(c,2)}}}function Rv(c,m){let y=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(y*=2),y*m}function os(c,m){if(c.j.info("Error code "+m),m==2){var y=p(c.fb,c),C=c.Xa;const F=!C;C=new ss(C||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Eu(C,"https"),ku(C),F?V2(C.toString(),y):z2(C.toString(),y)}else wt(2);c.G=0,c.l&&c.l.sa(m),jv(c),Tv(c)}t.fb=function(c){c?(this.j.info("Successfully pinged google.com"),wt(2)):(this.j.info("Failed to ping google.com"),wt(1))};function jv(c){if(c.G=0,c.ka=[],c.l){const m=cv(c.h);(m.length!=0||c.i.length!=0)&&(I(c.ka,m),I(c.ka,c.i),c.h.i.length=0,T(c.i),c.i.length=0),c.l.ra()}}function Dv(c,m,y){var C=y instanceof ss?br(y):new ss(y);if(C.g!="")m&&(C.g=m+"."+C.g),bu(C,C.s);else{var F=a.location;C=F.protocol,m=m?m+"."+F.hostname:F.hostname,F=+F.port;var z=new ss(null);C&&Eu(z,C),m&&(z.g=m),F&&bu(z,F),y&&(z.l=y),C=z}return y=c.D,m=c.ya,y&&m&&qe(C,y,m),qe(C,"VER",c.la),Ta(c,C),C}function Ov(c,m,y){if(m&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=c.Ca&&!c.pa?new it(new Su({eb:y})):new it(c.pa),m.Ha(c.J),m}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Lv(){}t=Lv.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Pu(){}Pu.prototype.g=function(c,m){return new mn(c,m)};function mn(c,m){V.call(this),this.g=new Sv(m),this.l=c,this.h=m&&m.messageUrlParams||null,c=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(c?c["X-WebChannel-Content-Type"]=m.messageContentType:c={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(c?c["X-WebChannel-Client-Profile"]=m.va:c={"X-WebChannel-Client-Profile":m.va}),this.g.S=c,(c=m&&m.Sb)&&!v(c)&&(this.g.m=c),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!v(m)&&(this.g.D=m,c=this.h,c!==null&&m in c&&(c=this.h,m in c&&delete c[m])),this.j=new Xs(this)}w(mn,V),mn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},mn.prototype.close=function(){Fd(this.g)},mn.prototype.o=function(c){var m=this.g;if(typeof c=="string"){var y={};y.__data__=c,c=y}else this.u&&(y={},y.__data__=Tn(c),c=y);m.i.push(new A2(m.Ya++,c)),m.G==3&&Au(m)},mn.prototype.N=function(){this.g.l=null,delete this.j,Fd(this.g),delete this.g,mn.aa.N.call(this)};function Mv(c){ma.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var m=c.__sm__;if(m){e:{for(const y in m){c=y;break e}c=void 0}(this.i=c)&&(c=this.i,m=m!==null&&c in m?m[c]:void 0),this.data=m}else this.data=c}w(Mv,ma);function Fv(){Ws.call(this),this.status=1}w(Fv,Ws);function Xs(c){this.g=c}w(Xs,Lv),Xs.prototype.ua=function(){W(this.g,"a")},Xs.prototype.ta=function(c){W(this.g,new Mv(c))},Xs.prototype.sa=function(c){W(this.g,new Fv)},Xs.prototype.ra=function(){W(this.g,"b")},Pu.prototype.createWebChannel=Pu.prototype.g,mn.prototype.send=mn.prototype.o,mn.prototype.open=mn.prototype.m,mn.prototype.close=mn.prototype.close,xk=function(){return new Pu},vk=function(){return Gs()},yk=Er,Qp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Cn.NO_ERROR=0,Cn.TIMEOUT=8,Cn.HTTP_ERROR=6,Tc=Cn,Ks.COMPLETE="complete",gk=Ks,wu.EventType=es,es.OPEN="a",es.CLOSE="b",es.ERROR="c",es.MESSAGE="d",V.prototype.listen=V.prototype.K,Ha=wu,it.prototype.listenOnce=it.prototype.L,it.prototype.getLastError=it.prototype.Ka,it.prototype.getLastErrorCode=it.prototype.Ba,it.prototype.getStatus=it.prototype.Z,it.prototype.getResponseJson=it.prototype.Oa,it.prototype.getResponseText=it.prototype.oa,it.prototype.send=it.prototype.ea,it.prototype.setWithCredentials=it.prototype.Ha,mk=it}).apply(typeof Xu<"u"?Xu:typeof self<"u"?self:typeof window<"u"?window:{});const Dx="@firebase/firestore",Ox="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ft=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Ft.UNAUTHENTICATED=new Ft(null),Ft.GOOGLE_CREDENTIALS=new Ft("google-credentials-uid"),Ft.FIRST_PARTY=new Ft("first-party-uid"),Ft.MOCK_USER=new Ft("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let aa="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ps=new Ag("@firebase/firestore");function ro(){return Ps.logLevel}function te(t,...e){if(Ps.logLevel<=Te.DEBUG){const n=e.map($g);Ps.debug(`Firestore (${aa}): ${t}`,...n)}}function Ur(t,...e){if(Ps.logLevel<=Te.ERROR){const n=e.map($g);Ps.error(`Firestore (${aa}): ${t}`,...n)}}function Di(t,...e){if(Ps.logLevel<=Te.WARN){const n=e.map($g);Ps.warn(`Firestore (${aa}): ${t}`,...n)}}function $g(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fe(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,wk(t,r,n)}function wk(t,e,n){let r=`FIRESTORE (${aa}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Ur(r),new Error(r)}function Le(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||wk(e,i,r)}function ye(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class oe extends Hr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ni{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _k{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class gD{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Ft.UNAUTHENTICATED))}shutdown(){}}class yD{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class vD{constructor(e){this.t=e,this.currentUser=Ft.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Le(this.o===void 0,42304);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new Ni;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Ni,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{te("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(te("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Ni)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(te("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Le(typeof r.accessToken=="string",31837,{l:r}),new _k(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Le(e===null||typeof e=="string",2055,{h:e}),new Ft(e)}}class xD{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Ft.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class wD{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new xD(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Ft.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Lx{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class _D{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,jn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Le(this.o===void 0,3512);const r=s=>{s.error!=null&&te("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.m;return this.m=s.token,te("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{te("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?i(s):te("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Lx(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Le(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Lx(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ED(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ek(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bg{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=ED(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%62))}return r}}function _e(t,e){return t<e?-1:t>e?1:0}function Yp(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=t.codePointAt(n),i=e.codePointAt(n);if(r!==i){if(r<128&&i<128)return _e(r,i);{const s=Ek(),o=bD(s.encode(Mx(t,n)),s.encode(Mx(e,n)));return o!==0?o:_e(r,i)}}n+=r>65535?2:1}return _e(t.length,e.length)}function Mx(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function bD(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return _e(t[n],e[n]);return _e(t.length,e.length)}function Ho(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fx="__name__";class or{constructor(e,n,r){n===void 0?n=0:n>e.length&&fe(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&fe(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return or.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof or?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=or.compareSegments(e.get(i),n.get(i));if(s!==0)return s}return _e(e.length,n.length)}static compareSegments(e,n){const r=or.isNumericId(e),i=or.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?or.extractNumericId(e).compare(or.extractNumericId(n)):Yp(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ai.fromString(e.substring(4,e.length-2))}}class et extends or{construct(e,n,r){return new et(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new oe(H.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new et(n)}static emptyPath(){return new et([])}}const kD=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class At extends or{construct(e,n,r){return new At(e,n,r)}static isValidIdentifier(e){return kD.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),At.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Fx}static keyField(){return new At([Fx])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new oe(H.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new oe(H.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new oe(H.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new oe(H.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new At(n)}static emptyPath(){return new At([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ce{constructor(e){this.path=e}static fromPath(e){return new ce(et.fromString(e))}static fromName(e){return new ce(et.fromString(e).popFirst(5))}static empty(){return new ce(et.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&et.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return et.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ce(new et(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SD(t,e,n){if(!n)throw new oe(H.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function TD(t,e,n,r){if(e===!0&&r===!0)throw new oe(H.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Vx(t){if(!ce.isDocumentKey(t))throw new oe(H.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function bk(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Hg(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":fe(12329,{type:typeof t})}function Rs(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new oe(H.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Hg(t);throw new oe(H.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dt(t,e){const n={typeString:t};return e&&(n.value=e),n}function uu(t,e){if(!bk(t))throw new oe(H.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,s="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const o=t[r];if(i&&typeof o!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(s!==void 0&&o!==s.value){n=`Expected '${r}' field to equal '${s.value}'`;break}}if(n)throw new oe(H.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zx=-62135596800,Ux=1e6;class Ke{static now(){return Ke.fromMillis(Date.now())}static fromDate(e){return Ke.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*Ux);return new Ke(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new oe(H.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new oe(H.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<zx)throw new oe(H.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new oe(H.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Ux}_compareTo(e){return this.seconds===e.seconds?_e(this.nanoseconds,e.nanoseconds):_e(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Ke._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(uu(e,Ke._jsonSchema))return new Ke(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-zx;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Ke._jsonSchemaVersion="firestore/timestamp/1.0",Ke._jsonSchema={type:dt("string",Ke._jsonSchemaVersion),seconds:dt("number"),nanoseconds:dt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class me{static fromTimestamp(e){return new me(e)}static min(){return new me(new Ke(0,0))}static max(){return new me(new Ke(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fl=-1;function ID(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=me.fromTimestamp(r===1e9?new Ke(n+1,0):new Ke(n,r));return new Oi(i,ce.empty(),e)}function CD(t){return new Oi(t.readTime,t.key,Fl)}class Oi{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Oi(me.min(),ce.empty(),Fl)}static max(){return new Oi(me.max(),ce.empty(),Fl)}}function AD(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ce.comparator(t.documentKey,e.documentKey),n!==0?n:_e(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ND="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class PD{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function la(t){if(t.code!==H.FAILED_PRECONDITION||t.message!==ND)throw t;te("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ${constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&fe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new $((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof $?n:$.resolve(n)}catch(n){return $.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):$.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):$.reject(n)}static resolve(e){return new $((n,r)=>{n(e)})}static reject(e){return new $((n,r)=>{r(e)})}static waitFor(e){return new $((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=$.resolve(!1);for(const r of e)n=n.next(i=>i?$.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new $((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const u=l;n(e[u]).next(h=>{o[u]=h,++a,a===s&&r(o)},h=>i(h))}})}static doWhile(e,n){return new $((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function RD(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function ua(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ld{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this._e(r),this.ae=r=>n.writeSequenceNumber(r))}_e(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ae&&this.ae(e),e}}ld.ue=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qg=-1;function ud(t){return t==null}function vh(t){return t===0&&1/t==-1/0}function jD(t){return typeof t=="number"&&Number.isInteger(t)&&!vh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kk="";function DD(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=$x(e)),e=OD(t.get(n),e);return $x(e)}function OD(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case kk:n+="";break;default:n+=s}}return n}function $x(t){return t+kk+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bx(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ki(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Sk(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rt{constructor(e,n){this.comparator=e,this.root=n||Ct.EMPTY}insert(e,n){return new rt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ct.BLACK,null,null))}remove(e){return new rt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ct.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Zu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Zu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Zu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Zu(this.root,e,this.comparator,!0)}}class Zu{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ct{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Ct.RED,this.left=i??Ct.EMPTY,this.right=s??Ct.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Ct(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Ct.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Ct.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ct.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ct.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw fe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw fe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw fe(27949);return e+(this.isRed()?0:1)}}Ct.EMPTY=null,Ct.RED=!0,Ct.BLACK=!1;Ct.EMPTY=new class{constructor(){this.size=0}get key(){throw fe(57766)}get value(){throw fe(16141)}get color(){throw fe(16727)}get left(){throw fe(29726)}get right(){throw fe(36894)}copy(e,n,r,i,s){return this}insert(e,n,r){return new Ct(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xt{constructor(e){this.comparator=e,this.data=new rt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Hx(this.data.getIterator())}getIteratorFrom(e){return new Hx(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof xt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new xt(this.comparator);return n.data=e,n}}class Hx{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xn{constructor(e){this.fields=e,e.sort(At.comparator)}static empty(){return new xn([])}unionWith(e){let n=new xt(At.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new xn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ho(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tk extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new Tk("Invalid base64 string: "+s):s}}(e);return new Rt(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new Rt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return _e(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Rt.EMPTY_BYTE_STRING=new Rt("");const LD=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Li(t){if(Le(!!t,39018),typeof t=="string"){let e=0;const n=LD.exec(t);if(Le(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ot(t.seconds),nanos:ot(t.nanos)}}function ot(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Mi(t){return typeof t=="string"?Rt.fromBase64String(t):Rt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ik="server_timestamp",Ck="__type__",Ak="__previous_value__",Nk="__local_write_time__";function Wg(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[Ck])===null||n===void 0?void 0:n.stringValue)===Ik}function cd(t){const e=t.mapValue.fields[Ak];return Wg(e)?cd(e):e}function Vl(t){const e=Li(t.mapValue.fields[Nk].timestampValue);return new Ke(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MD{constructor(e,n,r,i,s,o,a,l,u,h){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u,this.isUsingEmulator=h}}const xh="(default)";class zl{constructor(e,n){this.projectId=e,this.database=n||xh}static empty(){return new zl("","")}get isDefaultDatabase(){return this.database===xh}isEqual(e){return e instanceof zl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pk="__type__",FD="__max__",ec={mapValue:{}},Rk="__vector__",wh="value";function Fi(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Wg(t)?4:zD(t)?9007199254740991:VD(t)?10:11:fe(28295,{value:t})}function yr(t,e){if(t===e)return!0;const n=Fi(t);if(n!==Fi(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Vl(t).isEqual(Vl(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=Li(i.timestampValue),a=Li(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return Mi(i.bytesValue).isEqual(Mi(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return ot(i.geoPointValue.latitude)===ot(s.geoPointValue.latitude)&&ot(i.geoPointValue.longitude)===ot(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return ot(i.integerValue)===ot(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=ot(i.doubleValue),a=ot(s.doubleValue);return o===a?vh(o)===vh(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Ho(t.arrayValue.values||[],e.arrayValue.values||[],yr);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(Bx(o)!==Bx(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!yr(o[l],a[l])))return!1;return!0}(t,e);default:return fe(52216,{left:t})}}function Ul(t,e){return(t.values||[]).find(n=>yr(n,e))!==void 0}function qo(t,e){if(t===e)return 0;const n=Fi(t),r=Fi(e);if(n!==r)return _e(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return _e(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=ot(s.integerValue||s.doubleValue),l=ot(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return qx(t.timestampValue,e.timestampValue);case 4:return qx(Vl(t),Vl(e));case 5:return Yp(t.stringValue,e.stringValue);case 6:return function(s,o){const a=Mi(s),l=Mi(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let u=0;u<a.length&&u<l.length;u++){const h=_e(a[u],l[u]);if(h!==0)return h}return _e(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=_e(ot(s.latitude),ot(o.latitude));return a!==0?a:_e(ot(s.longitude),ot(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return Wx(t.arrayValue,e.arrayValue);case 10:return function(s,o){var a,l,u,h;const f=s.fields||{},p=o.fields||{},g=(a=f[wh])===null||a===void 0?void 0:a.arrayValue,w=(l=p[wh])===null||l===void 0?void 0:l.arrayValue,T=_e(((u=g==null?void 0:g.values)===null||u===void 0?void 0:u.length)||0,((h=w==null?void 0:w.values)===null||h===void 0?void 0:h.length)||0);return T!==0?T:Wx(g,w)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===ec.mapValue&&o===ec.mapValue)return 0;if(s===ec.mapValue)return 1;if(o===ec.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),u=o.fields||{},h=Object.keys(u);l.sort(),h.sort();for(let f=0;f<l.length&&f<h.length;++f){const p=Yp(l[f],h[f]);if(p!==0)return p;const g=qo(a[l[f]],u[h[f]]);if(g!==0)return g}return _e(l.length,h.length)}(t.mapValue,e.mapValue);default:throw fe(23264,{le:n})}}function qx(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return _e(t,e);const n=Li(t),r=Li(e),i=_e(n.seconds,r.seconds);return i!==0?i:_e(n.nanos,r.nanos)}function Wx(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=qo(n[i],r[i]);if(s)return s}return _e(n.length,r.length)}function Wo(t){return Jp(t)}function Jp(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Li(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Mi(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ce.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=Jp(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${Jp(n.fields[o])}`;return i+"}"}(t.mapValue):fe(61005,{value:t})}function Ic(t){switch(Fi(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=cd(t);return e?16+Ic(e):16;case 5:return 2*t.stringValue.length;case 6:return Mi(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,s)=>i+Ic(s),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return Ki(r.fields,(s,o)=>{i+=s.length+Ic(o)}),i}(t.mapValue);default:throw fe(13486,{value:t})}}function Xp(t){return!!t&&"integerValue"in t}function Gg(t){return!!t&&"arrayValue"in t}function Gx(t){return!!t&&"nullValue"in t}function Kx(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Cc(t){return!!t&&"mapValue"in t}function VD(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[Pk])===null||n===void 0?void 0:n.stringValue)===Rk}function ll(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Ki(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=ll(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ll(t.arrayValue.values[n]);return e}return Object.assign({},t)}function zD(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===FD}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(e){this.value=e}static empty(){return new ln({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Cc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ll(n)}setAll(e){let n=At.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=ll(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Cc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return yr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Cc(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Ki(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new ln(ll(this.value))}}function jk(t){const e=[];return Ki(t.fields,(n,r)=>{const i=new At([n]);if(Cc(r)){const s=jk(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new xn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new zt(e,0,me.min(),me.min(),me.min(),ln.empty(),0)}static newFoundDocument(e,n,r,i){return new zt(e,1,n,me.min(),r,i,0)}static newNoDocument(e,n){return new zt(e,2,n,me.min(),me.min(),ln.empty(),0)}static newUnknownDocument(e,n){return new zt(e,3,n,me.min(),me.min(),ln.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(me.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ln.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ln.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=me.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof zt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new zt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _h{constructor(e,n){this.position=e,this.inclusive=n}}function Qx(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=ce.comparator(ce.fromName(o.referenceValue),n.key):r=qo(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function Yx(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!yr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eh{constructor(e,n="asc"){this.field=e,this.dir=n}}function UD(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dk{}class gt extends Dk{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new BD(e,n,r):n==="array-contains"?new WD(e,r):n==="in"?new GD(e,r):n==="not-in"?new KD(e,r):n==="array-contains-any"?new QD(e,r):new gt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new HD(e,r):new qD(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(qo(n,this.value)):n!==null&&Fi(this.value)===Fi(n)&&this.matchesComparison(qo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return fe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class vr extends Dk{constructor(e,n){super(),this.filters=e,this.op=n,this.he=null}static create(e,n){return new vr(e,n)}matches(e){return Ok(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function Ok(t){return t.op==="and"}function Lk(t){return $D(t)&&Ok(t)}function $D(t){for(const e of t.filters)if(e instanceof vr)return!1;return!0}function Zp(t){if(t instanceof gt)return t.field.canonicalString()+t.op.toString()+Wo(t.value);if(Lk(t))return t.filters.map(e=>Zp(e)).join(",");{const e=t.filters.map(n=>Zp(n)).join(",");return`${t.op}(${e})`}}function Mk(t,e){return t instanceof gt?function(r,i){return i instanceof gt&&r.op===i.op&&r.field.isEqual(i.field)&&yr(r.value,i.value)}(t,e):t instanceof vr?function(r,i){return i instanceof vr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&Mk(o,i.filters[a]),!0):!1}(t,e):void fe(19439)}function Fk(t){return t instanceof gt?function(n){return`${n.field.canonicalString()} ${n.op} ${Wo(n.value)}`}(t):t instanceof vr?function(n){return n.op.toString()+" {"+n.getFilters().map(Fk).join(" ,")+"}"}(t):"Filter"}class BD extends gt{constructor(e,n,r){super(e,n,r),this.key=ce.fromName(r.referenceValue)}matches(e){const n=ce.comparator(e.key,this.key);return this.matchesComparison(n)}}class HD extends gt{constructor(e,n){super(e,"in",n),this.keys=Vk("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class qD extends gt{constructor(e,n){super(e,"not-in",n),this.keys=Vk("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function Vk(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>ce.fromName(r.referenceValue))}class WD extends gt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Gg(n)&&Ul(n.arrayValue,this.value)}}class GD extends gt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Ul(this.value.arrayValue,n)}}class KD extends gt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Ul(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Ul(this.value.arrayValue,n)}}class QD extends gt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Gg(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Ul(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YD{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.Pe=null}}function Jx(t,e=null,n=[],r=[],i=null,s=null,o=null){return new YD(t,e,n,r,i,s,o)}function Kg(t){const e=ye(t);if(e.Pe===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Zp(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),ud(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Wo(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Wo(r)).join(",")),e.Pe=n}return e.Pe}function Qg(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!UD(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!Mk(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Yx(t.startAt,e.startAt)&&Yx(t.endAt,e.endAt)}function em(t){return ce.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hd{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function JD(t,e,n,r,i,s,o,a){return new hd(t,e,n,r,i,s,o,a)}function Yg(t){return new hd(t)}function Xx(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function XD(t){return t.collectionGroup!==null}function ul(t){const e=ye(t);if(e.Te===null){e.Te=[];const n=new Set;for(const s of e.explicitOrderBy)e.Te.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new xt(At.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.Te.push(new Eh(s,r))}),n.has(At.keyField().canonicalString())||e.Te.push(new Eh(At.keyField(),r))}return e.Te}function dr(t){const e=ye(t);return e.Ie||(e.Ie=ZD(e,ul(t))),e.Ie}function ZD(t,e){if(t.limitType==="F")return Jx(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new Eh(i.field,s)});const n=t.endAt?new _h(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new _h(t.startAt.position,t.startAt.inclusive):null;return Jx(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function tm(t,e,n){return new hd(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function dd(t,e){return Qg(dr(t),dr(e))&&t.limitType===e.limitType}function zk(t){return`${Kg(dr(t))}|lt:${t.limitType}`}function io(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>Fk(i)).join(", ")}]`),ud(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Wo(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Wo(i)).join(",")),`Target(${r})`}(dr(t))}; limitType=${t.limitType})`}function fd(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):ce.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of ul(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,l){const u=Qx(o,a,l);return o.inclusive?u<=0:u<0}(r.startAt,ul(r),i)||r.endAt&&!function(o,a,l){const u=Qx(o,a,l);return o.inclusive?u>=0:u>0}(r.endAt,ul(r),i))}(t,e)}function eO(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function Uk(t){return(e,n)=>{let r=!1;for(const i of ul(t)){const s=tO(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function tO(t,e,n){const r=t.field.isKeyField()?ce.comparator(e.key,n.key):function(s,o,a){const l=o.data.field(s),u=a.data.field(s);return l!==null&&u!==null?qo(l,u):fe(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return fe(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zs{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ki(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return Sk(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nO=new rt(ce.comparator);function $r(){return nO}const $k=new rt(ce.comparator);function qa(...t){let e=$k;for(const n of t)e=e.insert(n.key,n);return e}function Bk(t){let e=$k;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function xs(){return cl()}function Hk(){return cl()}function cl(){return new zs(t=>t.toString(),(t,e)=>t.isEqual(e))}const rO=new rt(ce.comparator),iO=new xt(ce.comparator);function Ie(...t){let e=iO;for(const n of t)e=e.add(n);return e}const sO=new xt(_e);function oO(){return sO}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jg(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:vh(e)?"-0":e}}function qk(t){return{integerValue:""+t}}function aO(t,e){return jD(e)?qk(e):Jg(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pd{constructor(){this._=void 0}}function lO(t,e,n){return t instanceof bh?function(i,s){const o={fields:{[Ck]:{stringValue:Ik},[Nk]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&Wg(s)&&(s=cd(s)),s&&(o.fields[Ak]=s),{mapValue:o}}(n,e):t instanceof $l?Gk(t,e):t instanceof Bl?Kk(t,e):function(i,s){const o=Wk(i,s),a=Zx(o)+Zx(i.Ee);return Xp(o)&&Xp(i.Ee)?qk(a):Jg(i.serializer,a)}(t,e)}function uO(t,e,n){return t instanceof $l?Gk(t,e):t instanceof Bl?Kk(t,e):n}function Wk(t,e){return t instanceof kh?function(r){return Xp(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class bh extends pd{}class $l extends pd{constructor(e){super(),this.elements=e}}function Gk(t,e){const n=Qk(e);for(const r of t.elements)n.some(i=>yr(i,r))||n.push(r);return{arrayValue:{values:n}}}class Bl extends pd{constructor(e){super(),this.elements=e}}function Kk(t,e){let n=Qk(e);for(const r of t.elements)n=n.filter(i=>!yr(i,r));return{arrayValue:{values:n}}}class kh extends pd{constructor(e,n){super(),this.serializer=e,this.Ee=n}}function Zx(t){return ot(t.integerValue||t.doubleValue)}function Qk(t){return Gg(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function cO(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof $l&&i instanceof $l||r instanceof Bl&&i instanceof Bl?Ho(r.elements,i.elements,yr):r instanceof kh&&i instanceof kh?yr(r.Ee,i.Ee):r instanceof bh&&i instanceof bh}(t.transform,e.transform)}class hO{constructor(e,n){this.version=e,this.transformResults=n}}class fr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new fr}static exists(e){return new fr(void 0,e)}static updateTime(e){return new fr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ac(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class md{}function Yk(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Xk(t.key,fr.none()):new cu(t.key,t.data,fr.none());{const n=t.data,r=ln.empty();let i=new xt(At.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Qi(t.key,r,new xn(i.toArray()),fr.none())}}function dO(t,e,n){t instanceof cu?function(i,s,o){const a=i.value.clone(),l=tw(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Qi?function(i,s,o){if(!Ac(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=tw(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(Jk(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function hl(t,e,n,r){return t instanceof cu?function(s,o,a,l){if(!Ac(s.precondition,o))return a;const u=s.value.clone(),h=nw(s.fieldTransforms,l,o);return u.setAll(h),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof Qi?function(s,o,a,l){if(!Ac(s.precondition,o))return a;const u=nw(s.fieldTransforms,l,o),h=o.data;return h.setAll(Jk(s)),h.setAll(u),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(s,o,a){return Ac(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function fO(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=Wk(r.transform,i||null);s!=null&&(n===null&&(n=ln.empty()),n.set(r.field,s))}return n||null}function ew(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Ho(r,i,(s,o)=>cO(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class cu extends md{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Qi extends md{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function Jk(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function tw(t,e,n){const r=new Map;Le(t.length===n.length,32656,{Ae:n.length,Re:t.length});for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,uO(o,a,n[i]))}return r}function nw(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,lO(s,o,e))}return r}class Xk extends md{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class pO extends md{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mO{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&dO(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=hl(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=hl(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=Hk();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=Yk(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(me.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ie())}isEqual(e){return this.batchId===e.batchId&&Ho(this.mutations,e.mutations,(n,r)=>ew(n,r))&&Ho(this.baseMutations,e.baseMutations,(n,r)=>ew(n,r))}}class Xg{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Le(e.mutations.length===r.length,58842,{Ve:e.mutations.length,me:r.length});let i=function(){return rO}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new Xg(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gO{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yO{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ut,Ne;function vO(t){switch(t){case H.OK:return fe(64938);case H.CANCELLED:case H.UNKNOWN:case H.DEADLINE_EXCEEDED:case H.RESOURCE_EXHAUSTED:case H.INTERNAL:case H.UNAVAILABLE:case H.UNAUTHENTICATED:return!1;case H.INVALID_ARGUMENT:case H.NOT_FOUND:case H.ALREADY_EXISTS:case H.PERMISSION_DENIED:case H.FAILED_PRECONDITION:case H.ABORTED:case H.OUT_OF_RANGE:case H.UNIMPLEMENTED:case H.DATA_LOSS:return!0;default:return fe(15467,{code:t})}}function Zk(t){if(t===void 0)return Ur("GRPC error has no .code"),H.UNKNOWN;switch(t){case ut.OK:return H.OK;case ut.CANCELLED:return H.CANCELLED;case ut.UNKNOWN:return H.UNKNOWN;case ut.DEADLINE_EXCEEDED:return H.DEADLINE_EXCEEDED;case ut.RESOURCE_EXHAUSTED:return H.RESOURCE_EXHAUSTED;case ut.INTERNAL:return H.INTERNAL;case ut.UNAVAILABLE:return H.UNAVAILABLE;case ut.UNAUTHENTICATED:return H.UNAUTHENTICATED;case ut.INVALID_ARGUMENT:return H.INVALID_ARGUMENT;case ut.NOT_FOUND:return H.NOT_FOUND;case ut.ALREADY_EXISTS:return H.ALREADY_EXISTS;case ut.PERMISSION_DENIED:return H.PERMISSION_DENIED;case ut.FAILED_PRECONDITION:return H.FAILED_PRECONDITION;case ut.ABORTED:return H.ABORTED;case ut.OUT_OF_RANGE:return H.OUT_OF_RANGE;case ut.UNIMPLEMENTED:return H.UNIMPLEMENTED;case ut.DATA_LOSS:return H.DATA_LOSS;default:return fe(39323,{code:t})}}(Ne=ut||(ut={}))[Ne.OK=0]="OK",Ne[Ne.CANCELLED=1]="CANCELLED",Ne[Ne.UNKNOWN=2]="UNKNOWN",Ne[Ne.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ne[Ne.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ne[Ne.NOT_FOUND=5]="NOT_FOUND",Ne[Ne.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ne[Ne.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ne[Ne.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ne[Ne.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ne[Ne.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ne[Ne.ABORTED=10]="ABORTED",Ne[Ne.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ne[Ne.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ne[Ne.INTERNAL=13]="INTERNAL",Ne[Ne.UNAVAILABLE=14]="UNAVAILABLE",Ne[Ne.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xO=new Ai([4294967295,4294967295],0);function rw(t){const e=Ek().encode(t),n=new pk;return n.update(e),new Uint8Array(n.digest())}function iw(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Ai([n,r],0),new Ai([i,s],0)]}class Zg{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Wa(`Invalid padding: ${n}`);if(r<0)throw new Wa(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Wa(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Wa(`Invalid padding when bitmap length is 0: ${n}`);this.fe=8*e.length-n,this.ge=Ai.fromNumber(this.fe)}pe(e,n,r){let i=e.add(n.multiply(Ai.fromNumber(r)));return i.compare(xO)===1&&(i=new Ai([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;const n=rw(e),[r,i]=iw(n);for(let s=0;s<this.hashCount;s++){const o=this.pe(r,i,s);if(!this.ye(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new Zg(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.fe===0)return;const n=rw(e),[r,i]=iw(n);for(let s=0;s<this.hashCount;s++){const o=this.pe(r,i,s);this.we(o)}}we(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Wa extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gd{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,hu.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new gd(me.min(),i,new rt(_e),$r(),Ie())}}class hu{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new hu(r,n,Ie(),Ie(),Ie())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nc{constructor(e,n,r,i){this.Se=e,this.removedTargetIds=n,this.key=r,this.be=i}}class eS{constructor(e,n){this.targetId=e,this.De=n}}class tS{constructor(e,n,r=Rt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class sw{constructor(){this.ve=0,this.Ce=ow(),this.Fe=Rt.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=Ie(),n=Ie(),r=Ie();return this.Ce.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:fe(38017,{changeType:s})}}),new hu(this.Fe,this.Me,e,n,r)}ke(){this.xe=!1,this.Ce=ow()}qe(e,n){this.xe=!0,this.Ce=this.Ce.insert(e,n)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,Le(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class wO{constructor(e){this.We=e,this.Ge=new Map,this.ze=$r(),this.je=tc(),this.Je=tc(),this.He=new rt(_e)}Ye(e){for(const n of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(n,e.be):this.Xe(n,e.key,e.be);for(const n of e.removedTargetIds)this.Xe(n,e.key,e.be)}et(e){this.forEachTarget(e,n=>{const r=this.tt(n);switch(e.state){case 0:this.nt(n)&&r.Be(e.resumeToken);break;case 1:r.Ue(),r.Oe||r.ke(),r.Be(e.resumeToken);break;case 2:r.Ue(),r.Oe||this.removeTarget(n);break;case 3:this.nt(n)&&(r.Ke(),r.Be(e.resumeToken));break;case 4:this.nt(n)&&(this.rt(n),r.Be(e.resumeToken));break;default:fe(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Ge.forEach((r,i)=>{this.nt(i)&&n(i)})}it(e){const n=e.targetId,r=e.De.count,i=this.st(n);if(i){const s=i.target;if(em(s))if(r===0){const o=new ce(s.path);this.Xe(n,o,zt.newNoDocument(o,me.min()))}else Le(r===1,20013,{expectedCount:r});else{const o=this.ot(n);if(o!==r){const a=this._t(e),l=a?this.ut(a,e,o):1;if(l!==0){this.rt(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(n,u)}}}}}_t(e){const n=e.De.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=Mi(r).toUint8Array()}catch(l){if(l instanceof Tk)return Di("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new Zg(o,i,s)}catch(l){return Di(l instanceof Wa?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.fe===0?null:a}ut(e,n,r){return n.De.count===r-this.ht(e,n.targetId)?0:2}ht(e,n){const r=this.We.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.We.lt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.Xe(n,s,null),i++)}),i}Pt(e){const n=new Map;this.Ge.forEach((s,o)=>{const a=this.st(o);if(a){if(s.current&&em(a.target)){const l=new ce(a.target.path);this.Tt(l).has(o)||this.It(o,l)||this.Xe(o,l,zt.newNoDocument(l,e))}s.Ne&&(n.set(o,s.Le()),s.ke())}});let r=Ie();this.Je.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const u=this.st(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.ze.forEach((s,o)=>o.setReadTime(e));const i=new gd(e,n,this.He,this.ze,r);return this.ze=$r(),this.je=tc(),this.Je=tc(),this.He=new rt(_e),i}Ze(e,n){if(!this.nt(e))return;const r=this.It(e,n.key)?2:0;this.tt(e).qe(n.key,r),this.ze=this.ze.insert(n.key,n),this.je=this.je.insert(n.key,this.Tt(n.key).add(e)),this.Je=this.Je.insert(n.key,this.dt(n.key).add(e))}Xe(e,n,r){if(!this.nt(e))return;const i=this.tt(e);this.It(e,n)?i.qe(n,1):i.Qe(n),this.Je=this.Je.insert(n,this.dt(n).delete(e)),this.Je=this.Je.insert(n,this.dt(n).add(e)),r&&(this.ze=this.ze.insert(n,r))}removeTarget(e){this.Ge.delete(e)}ot(e){const n=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let n=this.Ge.get(e);return n||(n=new sw,this.Ge.set(e,n)),n}dt(e){let n=this.Je.get(e);return n||(n=new xt(_e),this.Je=this.Je.insert(e,n)),n}Tt(e){let n=this.je.get(e);return n||(n=new xt(_e),this.je=this.je.insert(e,n)),n}nt(e){const n=this.st(e)!==null;return n||te("WatchChangeAggregator","Detected inactive target",e),n}st(e){const n=this.Ge.get(e);return n&&n.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new sw),this.We.getRemoteKeysForTarget(e).forEach(n=>{this.Xe(e,n,null)})}It(e,n){return this.We.getRemoteKeysForTarget(e).has(n)}}function tc(){return new rt(ce.comparator)}function ow(){return new rt(ce.comparator)}const _O={asc:"ASCENDING",desc:"DESCENDING"},EO={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},bO={and:"AND",or:"OR"};class kO{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function nm(t,e){return t.useProto3Json||ud(e)?e:{value:e}}function Sh(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function nS(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function SO(t,e){return Sh(t,e.toTimestamp())}function pr(t){return Le(!!t,49232),me.fromTimestamp(function(n){const r=Li(n);return new Ke(r.seconds,r.nanos)}(t))}function ey(t,e){return rm(t,e).canonicalString()}function rm(t,e){const n=function(i){return new et(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function rS(t){const e=et.fromString(t);return Le(lS(e),10190,{key:e.toString()}),e}function im(t,e){return ey(t.databaseId,e.path)}function bf(t,e){const n=rS(e);if(n.get(1)!==t.databaseId.projectId)throw new oe(H.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new oe(H.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ce(sS(n))}function iS(t,e){return ey(t.databaseId,e)}function TO(t){const e=rS(t);return e.length===4?et.emptyPath():sS(e)}function sm(t){return new et(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function sS(t){return Le(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function aw(t,e,n){return{name:im(t,e),fields:n.value.mapValue.fields}}function IO(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:fe(39313,{state:u})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(u,h){return u.useProto3Json?(Le(h===void 0||typeof h=="string",58123),Rt.fromBase64String(h||"")):(Le(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),Rt.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const h=u.code===void 0?H.UNKNOWN:Zk(u.code);return new oe(h,u.message||"")}(o);n=new tS(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=bf(t,r.document.name),s=pr(r.document.updateTime),o=r.document.createTime?pr(r.document.createTime):me.min(),a=new ln({mapValue:{fields:r.document.fields}}),l=zt.newFoundDocument(i,s,o,a),u=r.targetIds||[],h=r.removedTargetIds||[];n=new Nc(u,h,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=bf(t,r.document),s=r.readTime?pr(r.readTime):me.min(),o=zt.newNoDocument(i,s),a=r.removedTargetIds||[];n=new Nc([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=bf(t,r.document),s=r.removedTargetIds||[];n=new Nc([],s,i,null)}else{if(!("filter"in e))return fe(11601,{At:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new yO(i,s),a=r.targetId;n=new eS(a,o)}}return n}function CO(t,e){let n;if(e instanceof cu)n={update:aw(t,e.key,e.value)};else if(e instanceof Xk)n={delete:im(t,e.key)};else if(e instanceof Qi)n={update:aw(t,e.key,e.data),updateMask:MO(e.fieldMask)};else{if(!(e instanceof pO))return fe(16599,{Rt:e.type});n={verify:im(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof bh)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof $l)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Bl)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof kh)return{fieldPath:o.field.canonicalString(),increment:a.Ee};throw fe(20930,{transform:o.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:SO(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:fe(27497)}(t,e.precondition)),n}function AO(t,e){return t&&t.length>0?(Le(e!==void 0,14353),t.map(n=>function(i,s){let o=i.updateTime?pr(i.updateTime):pr(s);return o.isEqual(me.min())&&(o=pr(s)),new hO(o,i.transformResults||[])}(n,e))):[]}function NO(t,e){return{documents:[iS(t,e.path)]}}function PO(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=iS(t,i);const s=function(u){if(u.length!==0)return aS(vr.create(u,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(u){if(u.length!==0)return u.map(h=>function(p){return{field:so(p.field),direction:DO(p.dir)}}(h))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=nm(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{Vt:n,parent:i}}function RO(t){let e=TO(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Le(r===1,65062);const h=n.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let s=[];n.where&&(s=function(f){const p=oS(f);return p instanceof vr&&Lk(p)?p.getFilters():[p]}(n.where));let o=[];n.orderBy&&(o=function(f){return f.map(p=>function(w){return new Eh(oo(w.field),function(I){switch(I){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(w.direction))}(p))}(n.orderBy));let a=null;n.limit&&(a=function(f){let p;return p=typeof f=="object"?f.value:f,ud(p)?null:p}(n.limit));let l=null;n.startAt&&(l=function(f){const p=!!f.before,g=f.values||[];return new _h(g,p)}(n.startAt));let u=null;return n.endAt&&(u=function(f){const p=!f.before,g=f.values||[];return new _h(g,p)}(n.endAt)),JD(e,i,o,s,a,"F",l,u)}function jO(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return fe(28987,{purpose:i})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function oS(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=oo(n.unaryFilter.field);return gt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=oo(n.unaryFilter.field);return gt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=oo(n.unaryFilter.field);return gt.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=oo(n.unaryFilter.field);return gt.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return fe(61313);default:return fe(60726)}}(t):t.fieldFilter!==void 0?function(n){return gt.create(oo(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return fe(58110);default:return fe(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return vr.create(n.compositeFilter.filters.map(r=>oS(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return fe(1026)}}(n.compositeFilter.op))}(t):fe(30097,{filter:t})}function DO(t){return _O[t]}function OO(t){return EO[t]}function LO(t){return bO[t]}function so(t){return{fieldPath:t.canonicalString()}}function oo(t){return At.fromServerFormat(t.fieldPath)}function aS(t){return t instanceof gt?function(n){if(n.op==="=="){if(Kx(n.value))return{unaryFilter:{field:so(n.field),op:"IS_NAN"}};if(Gx(n.value))return{unaryFilter:{field:so(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Kx(n.value))return{unaryFilter:{field:so(n.field),op:"IS_NOT_NAN"}};if(Gx(n.value))return{unaryFilter:{field:so(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:so(n.field),op:OO(n.op),value:n.value}}}(t):t instanceof vr?function(n){const r=n.getFilters().map(i=>aS(i));return r.length===1?r[0]:{compositeFilter:{op:LO(n.op),filters:r}}}(t):fe(54877,{filter:t})}function MO(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function lS(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pi{constructor(e,n,r,i,s=me.min(),o=me.min(),a=Rt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new pi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new pi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new pi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new pi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FO{constructor(e){this.gt=e}}function VO(t){const e=RO({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?tm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zO{constructor(){this.Dn=new UO}addToCollectionParentIndex(e,n){return this.Dn.add(n),$.resolve()}getCollectionParents(e,n){return $.resolve(this.Dn.getEntries(n))}addFieldIndex(e,n){return $.resolve()}deleteFieldIndex(e,n){return $.resolve()}deleteAllFieldIndexes(e){return $.resolve()}createTargetIndexes(e,n){return $.resolve()}getDocumentsMatchingTarget(e,n){return $.resolve(null)}getIndexType(e,n){return $.resolve(0)}getFieldIndexes(e,n){return $.resolve([])}getNextCollectionGroupToUpdate(e){return $.resolve(null)}getMinOffset(e,n){return $.resolve(Oi.min())}getMinOffsetFromCollectionGroup(e,n){return $.resolve(Oi.min())}updateCollectionGroup(e,n,r){return $.resolve()}updateIndexEntries(e,n){return $.resolve()}}class UO{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new xt(et.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new xt(et.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lw={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},uS=41943040;class on{static withCacheSize(e){return new on(e,on.DEFAULT_COLLECTION_PERCENTILE,on.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */on.DEFAULT_COLLECTION_PERCENTILE=10,on.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,on.DEFAULT=new on(uS,on.DEFAULT_COLLECTION_PERCENTILE,on.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),on.DISABLED=new on(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Go{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new Go(0)}static ur(){return new Go(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uw="LruGarbageCollector",$O=1048576;function cw([t,e],[n,r]){const i=_e(t,n);return i===0?_e(e,r):i}class BO{constructor(e){this.Tr=e,this.buffer=new xt(cw),this.Ir=0}dr(){return++this.Ir}Er(e){const n=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();cw(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class HO{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){te(uw,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){ua(n)?te(uw,"Ignoring IndexedDB error during garbage collection: ",n):await la(n)}await this.Rr(3e5)})}}class qO{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.mr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return $.resolve(ld.ue);const r=new BO(n);return this.Vr.forEachTarget(e,i=>r.Er(i.sequenceNumber)).next(()=>this.Vr.gr(e,i=>r.Er(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Vr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(te("LruGarbageCollector","Garbage collection skipped; disabled"),$.resolve(lw)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(te("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),lw):this.pr(e,n))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,n){let r,i,s,o,a,l,u;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(te("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),i=this.params.maximumSequenceNumbersToCollect):i=f,o=Date.now(),this.nthSequenceNumber(e,i))).next(f=>(r=f,a=Date.now(),this.removeTargets(e,r,n))).next(f=>(s=f,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(f=>(u=Date.now(),ro()<=Te.DEBUG&&te("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-h}ms
	Determined least recently used ${i} in `+(a-o)+`ms
	Removed ${s} targets in `+(l-a)+`ms
	Removed ${f} documents in `+(u-l)+`ms
Total Duration: ${u-h}ms`),$.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:f})))}}function WO(t,e){return new qO(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GO{constructor(){this.changes=new zs(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,zt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?$.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KO{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QO{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&hl(r.mutation,i,xn.empty(),Ke.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Ie()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Ie()){const i=xs();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=qa();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=xs();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Ie()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=$r();const o=cl(),a=function(){return cl()}();return n.forEach((l,u)=>{const h=r.get(u.key);i.has(u.key)&&(h===void 0||h.mutation instanceof Qi)?s=s.insert(u.key,u):h!==void 0?(o.set(u.key,h.mutation.getFieldMask()),hl(h.mutation,u,h.mutation.getFieldMask(),Ke.now())):o.set(u.key,xn.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((u,h)=>o.set(u,h)),n.forEach((u,h)=>{var f;return a.set(u,new KO(h,(f=o.get(u))!==null&&f!==void 0?f:null))}),a))}recalculateAndSaveOverlays(e,n){const r=cl();let i=new rt((o,a)=>o-a),s=Ie();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let h=r.get(l)||xn.empty();h=a.applyToLocalView(u,h),r.set(l,h);const f=(i.get(a.batchId)||Ie()).add(l);i=i.insert(a.batchId,f)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,h=l.value,f=Hk();h.forEach(p=>{if(!s.has(p)){const g=Yk(n.get(p),r.get(p));g!==null&&f.set(p,g),s=s.add(p)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,f))}return $.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return ce.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):XD(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):$.resolve(xs());let a=Fl,l=s;return o.next(u=>$.forEach(u,(h,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),s.get(h)?$.resolve():this.remoteDocumentCache.getEntry(e,h).next(p=>{l=l.insert(h,p)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,l,u,Ie())).next(h=>({batchId:a,changes:Bk(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ce(n)).next(r=>{let i=qa();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=qa();return this.indexManager.getCollectionParents(e,s).next(a=>$.forEach(a,l=>{const u=function(f,p){return new hd(p,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(h=>{h.forEach((f,p)=>{o=o.insert(f,p)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((l,u)=>{const h=u.getKey();o.get(h)===null&&(o=o.insert(h,zt.newInvalidDocument(h)))});let a=qa();return o.forEach((l,u)=>{const h=s.get(l);h!==void 0&&hl(h.mutation,u,xn.empty(),Ke.now()),fd(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YO{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,n){return $.resolve(this.Br.get(n))}saveBundleMetadata(e,n){return this.Br.set(n.id,function(i){return{id:i.id,version:i.version,createTime:pr(i.createTime)}}(n)),$.resolve()}getNamedQuery(e,n){return $.resolve(this.Lr.get(n))}saveNamedQuery(e,n){return this.Lr.set(n.name,function(i){return{name:i.name,query:VO(i.bundledQuery),readTime:pr(i.readTime)}}(n)),$.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JO{constructor(){this.overlays=new rt(ce.comparator),this.kr=new Map}getOverlay(e,n){return $.resolve(this.overlays.get(n))}getOverlays(e,n){const r=xs();return $.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.wt(e,n,s)}),$.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.kr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.kr.delete(r)),$.resolve()}getOverlaysForCollection(e,n,r){const i=xs(),s=n.length+1,o=new ce(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return $.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new rt((u,h)=>u-h);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let h=s.get(u.largestBatchId);h===null&&(h=xs(),s=s.insert(u.largestBatchId,h)),h.set(u.getKey(),u)}}const a=xs(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,h)=>a.set(u,h)),!(a.size()>=i)););return $.resolve(a)}wt(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.kr.get(i.largestBatchId).delete(r.key);this.kr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new gO(n,r));let s=this.kr.get(n);s===void 0&&(s=Ie(),this.kr.set(n,s)),this.kr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XO{constructor(){this.sessionToken=Rt.EMPTY_BYTE_STRING}getSessionToken(e){return $.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,$.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ty{constructor(){this.qr=new xt(Et.Qr),this.$r=new xt(Et.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,n){const r=new Et(e,n);this.qr=this.qr.add(r),this.$r=this.$r.add(r)}Kr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Wr(new Et(e,n))}Gr(e,n){e.forEach(r=>this.removeReference(r,n))}zr(e){const n=new ce(new et([])),r=new Et(n,e),i=new Et(n,e+1),s=[];return this.$r.forEachInRange([r,i],o=>{this.Wr(o),s.push(o.key)}),s}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){const n=new ce(new et([])),r=new Et(n,e),i=new Et(n,e+1);let s=Ie();return this.$r.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new Et(e,0),r=this.qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Et{constructor(e,n){this.key=e,this.Hr=n}static Qr(e,n){return ce.comparator(e.key,n.key)||_e(e.Hr,n.Hr)}static Ur(e,n){return _e(e.Hr,n.Hr)||ce.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZO{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.er=1,this.Yr=new xt(Et.Qr)}checkEmpty(e){return $.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new mO(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.Yr=this.Yr.add(new Et(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return $.resolve(o)}lookupMutationBatch(e,n){return $.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.Xr(r),s=i<0?0:i;return $.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return $.resolve(this.mutationQueue.length===0?qg:this.er-1)}getAllMutationBatches(e){return $.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Et(n,0),i=new Et(n,Number.POSITIVE_INFINITY),s=[];return this.Yr.forEachInRange([r,i],o=>{const a=this.Zr(o.Hr);s.push(a)}),$.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new xt(_e);return n.forEach(i=>{const s=new Et(i,0),o=new Et(i,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([s,o],a=>{r=r.add(a.Hr)})}),$.resolve(this.ei(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;ce.isDocumentKey(s)||(s=s.child(""));const o=new Et(new ce(s),0);let a=new xt(_e);return this.Yr.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.Hr)),!0)},o),$.resolve(this.ei(a))}ei(e){const n=[];return e.forEach(r=>{const i=this.Zr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Le(this.ti(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Yr;return $.forEach(n.mutations,i=>{const s=new Et(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Yr=r})}rr(e){}containsKey(e,n){const r=new Et(n,0),i=this.Yr.firstAfterOrEqual(r);return $.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,$.resolve()}ti(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eL{constructor(e){this.ni=e,this.docs=function(){return new rt(ce.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.ni(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return $.resolve(r?r.document.mutableCopy():zt.newInvalidDocument(n))}getEntries(e,n){let r=$r();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():zt.newInvalidDocument(i))}),$.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=$r();const o=n.path,a=new ce(o.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:h}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||AD(CD(h),r)<=0||(i.has(h.key)||fd(n,h))&&(s=s.insert(h.key,h.mutableCopy()))}return $.resolve(s)}getAllFromCollectionGroup(e,n,r,i){fe(9500)}ri(e,n){return $.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new tL(this)}getSize(e){return $.resolve(this.size)}}class tL extends GO{constructor(e){super(),this.Or=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Or.addEntry(e,i)):this.Or.removeEntry(r)}),$.waitFor(n)}getFromCache(e,n){return this.Or.getEntry(e,n)}getAllFromCache(e,n){return this.Or.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nL{constructor(e){this.persistence=e,this.ii=new zs(n=>Kg(n),Qg),this.lastRemoteSnapshotVersion=me.min(),this.highestTargetId=0,this.si=0,this.oi=new ty,this.targetCount=0,this._i=Go.ar()}forEachTarget(e,n){return this.ii.forEach((r,i)=>n(i)),$.resolve()}getLastRemoteSnapshotVersion(e){return $.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return $.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),$.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.si&&(this.si=n),$.resolve()}hr(e){this.ii.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this._i=new Go(n),this.highestTargetId=n),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,n){return this.hr(n),this.targetCount+=1,$.resolve()}updateTargetData(e,n){return this.hr(n),$.resolve()}removeTargetData(e,n){return this.ii.delete(n.target),this.oi.zr(n.targetId),this.targetCount-=1,$.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.ii.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.ii.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),$.waitFor(s).next(()=>i)}getTargetCount(e){return $.resolve(this.targetCount)}getTargetData(e,n){const r=this.ii.get(n)||null;return $.resolve(r)}addMatchingKeys(e,n,r){return this.oi.Kr(n,r),$.resolve()}removeMatchingKeys(e,n,r){this.oi.Gr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),$.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.oi.zr(n),$.resolve()}getMatchingKeysForTargetId(e,n){const r=this.oi.Jr(n);return $.resolve(r)}containsKey(e,n){return $.resolve(this.oi.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cS{constructor(e,n){this.ai={},this.overlays={},this.ui=new ld(0),this.ci=!1,this.ci=!0,this.li=new XO,this.referenceDelegate=e(this),this.hi=new nL(this),this.indexManager=new zO,this.remoteDocumentCache=function(i){return new eL(i)}(r=>this.referenceDelegate.Pi(r)),this.serializer=new FO(n),this.Ti=new YO(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new JO,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ai[e.toKey()];return r||(r=new ZO(n,this.referenceDelegate),this.ai[e.toKey()]=r),r}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,n,r){te("MemoryPersistence","Starting transaction:",e);const i=new rL(this.ui.next());return this.referenceDelegate.Ii(),r(i).next(s=>this.referenceDelegate.di(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Ei(e,n){return $.or(Object.values(this.ai).map(r=>()=>r.containsKey(e,n)))}}class rL extends PD{constructor(e){super(),this.currentSequenceNumber=e}}class ny{constructor(e){this.persistence=e,this.Ai=new ty,this.Ri=null}static Vi(e){return new ny(e)}get mi(){if(this.Ri)return this.Ri;throw fe(60996)}addReference(e,n,r){return this.Ai.addReference(r,n),this.mi.delete(r.toString()),$.resolve()}removeReference(e,n,r){return this.Ai.removeReference(r,n),this.mi.add(r.toString()),$.resolve()}markPotentiallyOrphaned(e,n){return this.mi.add(n.toString()),$.resolve()}removeTarget(e,n){this.Ai.zr(n.targetId).forEach(i=>this.mi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.mi.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Ii(){this.Ri=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $.forEach(this.mi,r=>{const i=ce.fromPath(r);return this.fi(e,i).next(s=>{s||n.removeEntry(i,me.min())})}).next(()=>(this.Ri=null,n.apply(e)))}updateLimboDocument(e,n){return this.fi(e,n).next(r=>{r?this.mi.delete(n.toString()):this.mi.add(n.toString())})}Pi(e){return 0}fi(e,n){return $.or([()=>$.resolve(this.Ai.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class Th{constructor(e,n){this.persistence=e,this.gi=new zs(r=>DD(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=WO(this,n)}static Vi(e,n){return new Th(e,n)}Ii(){}di(e){return $.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}mr(e){const n=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}yr(e){let n=0;return this.gr(e,r=>{n++}).next(()=>n)}gr(e,n){return $.forEach(this.gi,(r,i)=>this.Sr(e,r,i).next(s=>s?$.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.ri(e,o=>this.Sr(e,o,n).next(a=>{a||(r++,s.removeEntry(o,me.min()))})).next(()=>s.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.gi.set(n,e.currentSequenceNumber),$.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.gi.set(r,e.currentSequenceNumber),$.resolve()}removeReference(e,n,r){return this.gi.set(r,e.currentSequenceNumber),$.resolve()}updateLimboDocument(e,n){return this.gi.set(n,e.currentSequenceNumber),$.resolve()}Pi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Ic(e.data.value)),n}Sr(e,n,r){return $.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.gi.get(n);return $.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ry{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Is=r,this.ds=i}static Es(e,n){let r=Ie(),i=Ie();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new ry(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iL{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sL{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=function(){return PP()?8:RD(Bt())>0?6:4}()}initialize(e,n){this.gs=e,this.indexManager=n,this.As=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.ps(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.ys(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new iL;return this.ws(e,n,o).next(a=>{if(s.result=a,this.Rs)return this.Ss(e,n,o,a.size)})}).next(()=>s.result)}Ss(e,n,r,i){return r.documentReadCount<this.Vs?(ro()<=Te.DEBUG&&te("QueryEngine","SDK will not create cache indexes for query:",io(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),$.resolve()):(ro()<=Te.DEBUG&&te("QueryEngine","Query:",io(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.fs*i?(ro()<=Te.DEBUG&&te("QueryEngine","The SDK decides to create cache indexes for query:",io(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,dr(n))):$.resolve())}ps(e,n){if(Xx(n))return $.resolve(null);let r=dr(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=tm(n,null,"F"),r=dr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=Ie(...s);return this.gs.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.bs(n,a);return this.Ds(n,u,o,l.readTime)?this.ps(e,tm(n,null,"F")):this.vs(e,u,n,l)}))})))}ys(e,n,r,i){return Xx(n)||i.isEqual(me.min())?$.resolve(null):this.gs.getDocuments(e,r).next(s=>{const o=this.bs(n,s);return this.Ds(n,o,r,i)?$.resolve(null):(ro()<=Te.DEBUG&&te("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),io(n)),this.vs(e,o,n,ID(i,Fl)).next(a=>a))})}bs(e,n){let r=new xt(Uk(e));return n.forEach((i,s)=>{fd(e,s)&&(r=r.add(s))}),r}Ds(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}ws(e,n,r){return ro()<=Te.DEBUG&&te("QueryEngine","Using full collection scan to execute query:",io(n)),this.gs.getDocumentsMatchingQuery(e,n,Oi.min(),r)}vs(e,n,r,i){return this.gs.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iy="LocalStore",oL=3e8;class aL{constructor(e,n,r,i){this.persistence=e,this.Cs=n,this.serializer=i,this.Fs=new rt(_e),this.Ms=new zs(s=>Kg(s),Qg),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(r)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new QO(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Fs))}}function lL(t,e,n,r){return new aL(t,e,n,r)}async function hS(t,e){const n=ye(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.Ns(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=Ie();for(const u of i){o.push(u.batchId);for(const h of u.mutations)l=l.add(h.key)}for(const u of s){a.push(u.batchId);for(const h of u.mutations)l=l.add(h.key)}return n.localDocuments.getDocuments(r,l).next(u=>({Bs:u,removedBatchIds:o,addedBatchIds:a}))})})}function uL(t,e){const n=ye(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.Os.newChangeBuffer({trackRemovals:!0});return function(a,l,u,h){const f=u.batch,p=f.keys();let g=$.resolve();return p.forEach(w=>{g=g.next(()=>h.getEntry(l,w)).next(T=>{const I=u.docVersions.get(w);Le(I!==null,48541),T.version.compareTo(I)<0&&(f.applyToRemoteDocument(T,u),T.isValidDocument()&&(T.setReadTime(u.commitVersion),h.addEntry(T)))})}),g.next(()=>a.mutationQueue.removeMutationBatch(l,f))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=Ie();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function dS(t){const e=ye(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.hi.getLastRemoteSnapshotVersion(n))}function cL(t,e){const n=ye(t),r=e.snapshotVersion;let i=n.Fs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.Os.newChangeBuffer({trackRemovals:!0});i=n.Fs;const a=[];e.targetChanges.forEach((h,f)=>{const p=i.get(f);if(!p)return;a.push(n.hi.removeMatchingKeys(s,h.removedDocuments,f).next(()=>n.hi.addMatchingKeys(s,h.addedDocuments,f)));let g=p.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(f)!==null?g=g.withResumeToken(Rt.EMPTY_BYTE_STRING,me.min()).withLastLimboFreeSnapshotVersion(me.min()):h.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(h.resumeToken,r)),i=i.insert(f,g),function(T,I,_){return T.resumeToken.approximateByteSize()===0||I.snapshotVersion.toMicroseconds()-T.snapshotVersion.toMicroseconds()>=oL?!0:_.addedDocuments.size+_.modifiedDocuments.size+_.removedDocuments.size>0}(p,g,h)&&a.push(n.hi.updateTargetData(s,g))});let l=$r(),u=Ie();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,h))}),a.push(hL(s,o,e.documentUpdates).next(h=>{l=h.Ls,u=h.ks})),!r.isEqual(me.min())){const h=n.hi.getLastRemoteSnapshotVersion(s).next(f=>n.hi.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(h)}return $.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,u)).next(()=>l)}).then(s=>(n.Fs=i,s))}function hL(t,e,n){let r=Ie(),i=Ie();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=$r();return n.forEach((a,l)=>{const u=s.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(me.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):te(iy,"Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{Ls:o,ks:i}})}function dL(t,e){const n=ye(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=qg),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function fL(t,e){const n=ye(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.hi.getTargetData(r,e).next(s=>s?(i=s,$.resolve(i)):n.hi.allocateTargetId(r).next(o=>(i=new pi(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.hi.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Fs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Fs=n.Fs.insert(r.targetId,r),n.Ms.set(e,r.targetId)),r})}async function om(t,e,n){const r=ye(t),i=r.Fs.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!ua(o))throw o;te(iy,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Fs=r.Fs.remove(e),r.Ms.delete(i.target)}function hw(t,e,n){const r=ye(t);let i=me.min(),s=Ie();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,u,h){const f=ye(l),p=f.Ms.get(h);return p!==void 0?$.resolve(f.Fs.get(p)):f.hi.getTargetData(u,h)}(r,o,dr(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.hi.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.Cs.getDocumentsMatchingQuery(o,e,n?i:me.min(),n?s:Ie())).next(a=>(pL(r,eO(e),a),{documents:a,qs:s})))}function pL(t,e,n){let r=t.xs.get(e)||me.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.xs.set(e,r)}class dw{constructor(){this.activeTargetIds=oO()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class mL{constructor(){this.Fo=new dw,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,n,r){this.Mo[e]=n}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new dw,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gL{xo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fw="ConnectivityMonitor";class pw{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){te(fw,"Network connectivity changed: AVAILABLE");for(const e of this.ko)e(0)}Lo(){te(fw,"Network connectivity changed: UNAVAILABLE");for(const e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nc=null;function am(){return nc===null?nc=function(){return 268435456+Math.round(2147483648*Math.random())}():nc++,"0x"+nc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kf="RestConnection",yL={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class vL{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.$o=n+"://"+e.host,this.Uo=`projects/${r}/databases/${i}`,this.Ko=this.databaseId.database===xh?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Wo(e,n,r,i,s){const o=am(),a=this.Go(e,n.toUriEncodedString());te(kf,`Sending RPC '${e}' ${o}:`,a,r);const l={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(l,i,s);const{host:u}=new URL(a),h=ia(u);return this.jo(e,a,l,r,h).then(f=>(te(kf,`Received RPC '${e}' ${o}: `,f),f),f=>{throw Di(kf,`RPC '${e}' ${o} failed with error: `,f,"url: ",a,"request:",r),f})}Jo(e,n,r,i,s,o){return this.Wo(e,n,r,i,s)}zo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+aa}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}Go(e,n){const r=yL[e];return`${this.$o}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xL{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mt="WebChannelConnection";class wL extends vL{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,n,r,i,s){const o=am();return new Promise((a,l)=>{const u=new mk;u.setWithCredentials(!0),u.listenOnce(gk.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Tc.NO_ERROR:const f=u.getResponseJson();te(Mt,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(f)),a(f);break;case Tc.TIMEOUT:te(Mt,`RPC '${e}' ${o} timed out`),l(new oe(H.DEADLINE_EXCEEDED,"Request time out"));break;case Tc.HTTP_ERROR:const p=u.getStatus();if(te(Mt,`RPC '${e}' ${o} failed with status:`,p,"response text:",u.getResponseText()),p>0){let g=u.getResponseJson();Array.isArray(g)&&(g=g[0]);const w=g==null?void 0:g.error;if(w&&w.status&&w.message){const T=function(_){const v=_.toLowerCase().replace(/_/g,"-");return Object.values(H).indexOf(v)>=0?v:H.UNKNOWN}(w.status);l(new oe(T,w.message))}else l(new oe(H.UNKNOWN,"Server responded with status "+u.getStatus()))}else l(new oe(H.UNAVAILABLE,"Connection failed."));break;default:fe(9055,{c_:e,streamId:o,l_:u.getLastErrorCode(),h_:u.getLastError()})}}finally{te(Mt,`RPC '${e}' ${o} completed.`)}});const h=JSON.stringify(i);te(Mt,`RPC '${e}' ${o} sending request:`,i),u.send(n,"POST",h,r,15)})}P_(e,n,r){const i=am(),s=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=xk(),a=vk(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.zo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const h=s.join("");te(Mt,`Creating RPC '${e}' stream ${i}: ${h}`,l);const f=o.createWebChannel(h,l);this.T_(f);let p=!1,g=!1;const w=new xL({Ho:I=>{g?te(Mt,`Not sending because RPC '${e}' stream ${i} is closed:`,I):(p||(te(Mt,`Opening RPC '${e}' stream ${i} transport.`),f.open(),p=!0),te(Mt,`RPC '${e}' stream ${i} sending:`,I),f.send(I))},Yo:()=>f.close()}),T=(I,_,v)=>{I.listen(_,x=>{try{v(x)}catch(N){setTimeout(()=>{throw N},0)}})};return T(f,Ha.EventType.OPEN,()=>{g||(te(Mt,`RPC '${e}' stream ${i} transport opened.`),w.s_())}),T(f,Ha.EventType.CLOSE,()=>{g||(g=!0,te(Mt,`RPC '${e}' stream ${i} transport closed`),w.__(),this.I_(f))}),T(f,Ha.EventType.ERROR,I=>{g||(g=!0,Di(Mt,`RPC '${e}' stream ${i} transport errored. Name:`,I.name,"Message:",I.message),w.__(new oe(H.UNAVAILABLE,"The operation could not be completed")))}),T(f,Ha.EventType.MESSAGE,I=>{var _;if(!g){const v=I.data[0];Le(!!v,16349);const x=v,N=(x==null?void 0:x.error)||((_=x[0])===null||_===void 0?void 0:_.error);if(N){te(Mt,`RPC '${e}' stream ${i} received error:`,N);const O=N.status;let A=function(S){const E=ut[S];if(E!==void 0)return Zk(E)}(O),k=N.message;A===void 0&&(A=H.INTERNAL,k="Unknown error status: "+O+" with message "+N.message),g=!0,w.__(new oe(A,k)),f.close()}else te(Mt,`RPC '${e}' stream ${i} received:`,v),w.a_(v)}}),T(a,yk.STAT_EVENT,I=>{I.stat===Qp.PROXY?te(Mt,`RPC '${e}' stream ${i} detected buffering proxy`):I.stat===Qp.NOPROXY&&te(Mt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{w.o_()},0),w}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(n=>n===e)}}function Sf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yd(t){return new kO(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fS{constructor(e,n,r=1e3,i=1.5,s=6e4){this.Fi=e,this.timerId=n,this.d_=r,this.E_=i,this.A_=s,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();const n=Math.floor(this.R_+this.p_()),r=Math.max(0,Date.now()-this.m_),i=Math.max(0,n-r);i>0&&te("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.R_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,i,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mw="PersistentStream";class pS{constructor(e,n,r,i,s,o,a,l){this.Fi=e,this.w_=r,this.S_=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new fS(e,n)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():n&&n.code===H.RESOURCE_EXHAUSTED?(Ur(n.toString()),Ur("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):n&&n.code===H.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(n)}U_(){}auth(){this.state=1;const e=this.K_(this.b_),n=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.b_===n&&this.W_(r,i)},r=>{e(()=>{const i=new oe(H.UNKNOWN,"Fetching auth token failed: "+r.message);return this.G_(i)})})}W_(e,n){const r=this.K_(this.b_);this.stream=this.z_(e,n),this.stream.Zo(()=>{r(()=>this.listener.Zo())}),this.stream.e_(()=>{r(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(i=>{r(()=>this.G_(i))}),this.stream.onMessage(i=>{r(()=>++this.C_==1?this.j_(i):this.onNext(i))})}O_(){this.state=5,this.F_.g_(async()=>{this.state=0,this.start()})}G_(e){return te(mw,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return n=>{this.Fi.enqueueAndForget(()=>this.b_===e?n():(te(mw,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class _L extends pS{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}z_(e,n){return this.connection.P_("Listen",e,n)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();const n=IO(this.serializer,e),r=function(s){if(!("targetChange"in s))return me.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?me.min():o.readTime?pr(o.readTime):me.min()}(e);return this.listener.J_(n,r)}H_(e){const n={};n.database=sm(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=em(l)?{documents:NO(s,l)}:{query:PO(s,l).Vt},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=nS(s,o.resumeToken);const u=nm(s,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(me.min())>0){a.readTime=Sh(s,o.snapshotVersion.toTimestamp());const u=nm(s,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=jO(this.serializer,e);r&&(n.labels=r),this.k_(n)}Y_(e){const n={};n.database=sm(this.serializer),n.removeTarget=e,this.k_(n)}}class EL extends pS{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,n){return this.connection.P_("Write",e,n)}j_(e){return Le(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Le(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){Le(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();const n=AO(e.writeResults,e.commitTime),r=pr(e.commitTime);return this.listener.ta(r,n)}na(){const e={};e.database=sm(this.serializer),this.k_(e)}X_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>CO(this.serializer,r))};this.k_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bL{}class kL extends bL{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ra=!1}ia(){if(this.ra)throw new oe(H.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,r,i){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Wo(e,rm(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===H.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new oe(H.UNKNOWN,s.toString())})}Jo(e,n,r,i,s){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Jo(e,rm(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===H.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new oe(H.UNKNOWN,o.toString())})}terminate(){this.ra=!0,this.connection.terminate()}}class SL{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(Ur(n),this._a=!1):te("OnlineStateTracker",n)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const js="RemoteStore";class TL{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=s,this.Ea.xo(o=>{r.enqueueAndForget(async()=>{Us(this)&&(te(js,"Restarting streams for network reachability change."),await async function(l){const u=ye(l);u.Ia.add(4),await du(u),u.Aa.set("Unknown"),u.Ia.delete(4),await vd(u)}(this))})}),this.Aa=new SL(r,i)}}async function vd(t){if(Us(t))for(const e of t.da)await e(!0)}async function du(t){for(const e of t.da)await e(!1)}function mS(t,e){const n=ye(t);n.Ta.has(e.targetId)||(n.Ta.set(e.targetId,e),ly(n)?ay(n):ca(n).x_()&&oy(n,e))}function sy(t,e){const n=ye(t),r=ca(n);n.Ta.delete(e),r.x_()&&gS(n,e),n.Ta.size===0&&(r.x_()?r.B_():Us(n)&&n.Aa.set("Unknown"))}function oy(t,e){if(t.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(me.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ca(t).H_(e)}function gS(t,e){t.Ra.$e(e),ca(t).Y_(e)}function ay(t){t.Ra=new wO({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>t.Ta.get(e)||null,lt:()=>t.datastore.serializer.databaseId}),ca(t).start(),t.Aa.aa()}function ly(t){return Us(t)&&!ca(t).M_()&&t.Ta.size>0}function Us(t){return ye(t).Ia.size===0}function yS(t){t.Ra=void 0}async function IL(t){t.Aa.set("Online")}async function CL(t){t.Ta.forEach((e,n)=>{oy(t,e)})}async function AL(t,e){yS(t),ly(t)?(t.Aa.la(e),ay(t)):t.Aa.set("Unknown")}async function NL(t,e,n){if(t.Aa.set("Online"),e instanceof tS&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.Ta.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.Ta.delete(a),i.Ra.removeTarget(a))}(t,e)}catch(r){te(js,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Ih(t,r)}else if(e instanceof Nc?t.Ra.Ye(e):e instanceof eS?t.Ra.it(e):t.Ra.et(e),!n.isEqual(me.min()))try{const r=await dS(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.Ra.Pt(o);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const h=s.Ta.get(u);h&&s.Ta.set(u,h.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,u)=>{const h=s.Ta.get(l);if(!h)return;s.Ta.set(l,h.withResumeToken(Rt.EMPTY_BYTE_STRING,h.snapshotVersion)),gS(s,l);const f=new pi(h.target,l,u,h.sequenceNumber);oy(s,f)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){te(js,"Failed to raise snapshot:",r),await Ih(t,r)}}async function Ih(t,e,n){if(!ua(e))throw e;t.Ia.add(1),await du(t),t.Aa.set("Offline"),n||(n=()=>dS(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{te(js,"Retrying IndexedDB access"),await n(),t.Ia.delete(1),await vd(t)})}function vS(t,e){return e().catch(n=>Ih(t,n,e))}async function xd(t){const e=ye(t),n=Vi(e);let r=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:qg;for(;PL(e);)try{const i=await dL(e.localStore,r);if(i===null){e.Pa.length===0&&n.B_();break}r=i.batchId,RL(e,i)}catch(i){await Ih(e,i)}xS(e)&&wS(e)}function PL(t){return Us(t)&&t.Pa.length<10}function RL(t,e){t.Pa.push(e);const n=Vi(t);n.x_()&&n.Z_&&n.X_(e.mutations)}function xS(t){return Us(t)&&!Vi(t).M_()&&t.Pa.length>0}function wS(t){Vi(t).start()}async function jL(t){Vi(t).na()}async function DL(t){const e=Vi(t);for(const n of t.Pa)e.X_(n.mutations)}async function OL(t,e,n){const r=t.Pa.shift(),i=Xg.from(r,e,n);await vS(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await xd(t)}async function LL(t,e){e&&Vi(t).Z_&&await async function(r,i){if(function(o){return vO(o)&&o!==H.ABORTED}(i.code)){const s=r.Pa.shift();Vi(r).N_(),await vS(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await xd(r)}}(t,e),xS(t)&&wS(t)}async function gw(t,e){const n=ye(t);n.asyncQueue.verifyOperationInProgress(),te(js,"RemoteStore received new credentials");const r=Us(n);n.Ia.add(3),await du(n),r&&n.Aa.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ia.delete(3),await vd(n)}async function ML(t,e){const n=ye(t);e?(n.Ia.delete(2),await vd(n)):e||(n.Ia.add(2),await du(n),n.Aa.set("Unknown"))}function ca(t){return t.Va||(t.Va=function(n,r,i){const s=ye(n);return s.ia(),new _L(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Zo:IL.bind(null,t),e_:CL.bind(null,t),n_:AL.bind(null,t),J_:NL.bind(null,t)}),t.da.push(async e=>{e?(t.Va.N_(),ly(t)?ay(t):t.Aa.set("Unknown")):(await t.Va.stop(),yS(t))})),t.Va}function Vi(t){return t.ma||(t.ma=function(n,r,i){const s=ye(n);return s.ia(),new EL(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),e_:jL.bind(null,t),n_:LL.bind(null,t),ea:DL.bind(null,t),ta:OL.bind(null,t)}),t.da.push(async e=>{e?(t.ma.N_(),await xd(t)):(await t.ma.stop(),t.Pa.length>0&&(te(js,`Stopping write stream with ${t.Pa.length} pending writes`),t.Pa=[]))})),t.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uy{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Ni,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new uy(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new oe(H.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function cy(t,e){if(Ur("AsyncQueue",`${e}: ${t}`),ua(t))return new oe(H.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jo{static emptySet(e){return new jo(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||ce.comparator(n.key,r.key):(n,r)=>ce.comparator(n.key,r.key),this.keyedMap=qa(),this.sortedSet=new rt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof jo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new jo;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yw{constructor(){this.fa=new rt(ce.comparator)}track(e){const n=e.doc.key,r=this.fa.get(n);r?e.type!==0&&r.type===3?this.fa=this.fa.insert(n,e):e.type===3&&r.type!==1?this.fa=this.fa.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.fa=this.fa.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.fa=this.fa.remove(n):e.type===1&&r.type===2?this.fa=this.fa.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):fe(63341,{At:e,ga:r}):this.fa=this.fa.insert(n,e)}pa(){const e=[];return this.fa.inorderTraversal((n,r)=>{e.push(r)}),e}}class Ko{constructor(e,n,r,i,s,o,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Ko(e,n,jo.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&dd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FL{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}}class VL{constructor(){this.queries=vw(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(n,r){const i=ye(n),s=i.queries;i.queries=vw(),s.forEach((o,a)=>{for(const l of a.wa)l.onError(r)})})(this,new oe(H.ABORTED,"Firestore shutting down"))}}function vw(){return new zs(t=>zk(t),dd)}async function zL(t,e){const n=ye(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.Sa()&&e.ba()&&(r=2):(s=new FL,r=e.ba()?0:1);try{switch(r){case 0:s.ya=await n.onListen(i,!0);break;case 1:s.ya=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const a=cy(o,`Initialization of query '${io(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.wa.push(e),e.va(n.onlineState),s.ya&&e.Ca(s.ya)&&hy(n)}async function UL(t,e){const n=ye(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.wa.indexOf(e);o>=0&&(s.wa.splice(o,1),s.wa.length===0?i=e.ba()?0:1:!s.Sa()&&e.ba()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function $L(t,e){const n=ye(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.wa)a.Ca(i)&&(r=!0);o.ya=i}}r&&hy(n)}function BL(t,e,n){const r=ye(t),i=r.queries.get(e);if(i)for(const s of i.wa)s.onError(n);r.queries.delete(e)}function hy(t){t.Da.forEach(e=>{e.next()})}var lm,xw;(xw=lm||(lm={})).Fa="default",xw.Cache="cache";class HL{constructor(e,n,r){this.query=e,this.Ma=n,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=r||{}}Ca(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Ko(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),n=!0):this.Ba(e,this.onlineState)&&(this.La(e),n=!0),this.Oa=e,n}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let n=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),n=!0),n}Ba(e,n){if(!e.fromCache||!this.ba())return!0;const r=n!=="Offline";return(!this.options.ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Na(e){if(e.docChanges.length>0)return!0;const n=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}La(e){e=Ko.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==lm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _S{constructor(e){this.key=e}}class ES{constructor(e){this.key=e}}class qL{constructor(e,n){this.query=e,this.Ha=n,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=Ie(),this.mutatedKeys=Ie(),this.Xa=Uk(e),this.eu=new jo(this.Xa)}get tu(){return this.Ha}nu(e,n){const r=n?n.ru:new yw,i=n?n.eu:this.eu;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,f)=>{const p=i.get(h),g=fd(this.query,f)?f:null,w=!!p&&this.mutatedKeys.has(p.key),T=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let I=!1;p&&g?p.data.isEqual(g.data)?w!==T&&(r.track({type:3,doc:g}),I=!0):this.iu(p,g)||(r.track({type:2,doc:g}),I=!0,(l&&this.Xa(g,l)>0||u&&this.Xa(g,u)<0)&&(a=!0)):!p&&g?(r.track({type:0,doc:g}),I=!0):p&&!g&&(r.track({type:1,doc:p}),I=!0,(l||u)&&(a=!0)),I&&(g?(o=o.add(g),s=T?s.add(h):s.delete(h)):(o=o.delete(h),s=s.delete(h)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),s=s.delete(h.key),r.track({type:1,doc:h})}return{eu:o,ru:r,Ds:a,mutatedKeys:s}}iu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;const o=e.ru.pa();o.sort((h,f)=>function(g,w){const T=I=>{switch(I){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return fe(20277,{At:I})}};return T(g)-T(w)}(h.type,f.type)||this.Xa(h.doc,f.doc)),this.su(r),i=i!=null&&i;const a=n&&!i?this.ou():[],l=this.Za.size===0&&this.current&&!i?1:0,u=l!==this.Ya;return this.Ya=l,o.length!==0||u?{snapshot:new Ko(this.query,e.eu,s,o,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),_u:a}:{_u:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new yw,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=e.current)}ou(){if(!this.current)return[];const e=this.Za;this.Za=Ie(),this.eu.forEach(r=>{this.au(r.key)&&(this.Za=this.Za.add(r.key))});const n=[];return e.forEach(r=>{this.Za.has(r)||n.push(new ES(r))}),this.Za.forEach(r=>{e.has(r)||n.push(new _S(r))}),n}uu(e){this.Ha=e.qs,this.Za=Ie();const n=this.nu(e.documents);return this.applyChanges(n,!0)}cu(){return Ko.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const dy="SyncEngine";class WL{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class GL{constructor(e){this.key=e,this.lu=!1}}class KL{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.hu={},this.Pu=new zs(a=>zk(a),dd),this.Tu=new Map,this.Iu=new Set,this.du=new rt(ce.comparator),this.Eu=new Map,this.Au=new ty,this.Ru={},this.Vu=new Map,this.mu=Go.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function QL(t,e,n=!0){const r=CS(t);let i;const s=r.Pu.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.cu()):i=await bS(r,e,n,!0),i}async function YL(t,e){const n=CS(t);await bS(n,e,!0,!1)}async function bS(t,e,n,r){const i=await fL(t.localStore,dr(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n);let a;return r&&(a=await JL(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&mS(t.remoteStore,i),a}async function JL(t,e,n,r,i){t.gu=(f,p,g)=>async function(T,I,_,v){let x=I.view.nu(_);x.Ds&&(x=await hw(T.localStore,I.query,!1).then(({documents:k})=>I.view.nu(k,x)));const N=v&&v.targetChanges.get(I.targetId),O=v&&v.targetMismatches.get(I.targetId)!=null,A=I.view.applyChanges(x,T.isPrimaryClient,N,O);return _w(T,I.targetId,A._u),A.snapshot}(t,f,p,g);const s=await hw(t.localStore,e,!0),o=new qL(e,s.qs),a=o.nu(s.documents),l=hu.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=o.applyChanges(a,t.isPrimaryClient,l);_w(t,n,u._u);const h=new WL(e,n,o);return t.Pu.set(e,h),t.Tu.has(n)?t.Tu.get(n).push(e):t.Tu.set(n,[e]),u.snapshot}async function XL(t,e,n){const r=ye(t),i=r.Pu.get(e),s=r.Tu.get(i.targetId);if(s.length>1)return r.Tu.set(i.targetId,s.filter(o=>!dd(o,e))),void r.Pu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await om(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&sy(r.remoteStore,i.targetId),um(r,i.targetId)}).catch(la)):(um(r,i.targetId),await om(r.localStore,i.targetId,!0))}async function ZL(t,e){const n=ye(t),r=n.Pu.get(e),i=n.Tu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),sy(n.remoteStore,r.targetId))}async function e3(t,e,n){const r=a3(t);try{const i=await function(o,a){const l=ye(o),u=Ke.now(),h=a.reduce((g,w)=>g.add(w.key),Ie());let f,p;return l.persistence.runTransaction("Locally write mutations","readwrite",g=>{let w=$r(),T=Ie();return l.Os.getEntries(g,h).next(I=>{w=I,w.forEach((_,v)=>{v.isValidDocument()||(T=T.add(_))})}).next(()=>l.localDocuments.getOverlayedDocuments(g,w)).next(I=>{f=I;const _=[];for(const v of a){const x=fO(v,f.get(v.key).overlayedDocument);x!=null&&_.push(new Qi(v.key,x,jk(x.value.mapValue),fr.exists(!0)))}return l.mutationQueue.addMutationBatch(g,u,_,a)}).next(I=>{p=I;const _=I.applyToLocalDocumentSet(f,T);return l.documentOverlayCache.saveOverlays(g,I.batchId,_)})}).then(()=>({batchId:p.batchId,changes:Bk(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let u=o.Ru[o.currentUser.toKey()];u||(u=new rt(_e)),u=u.insert(a,l),o.Ru[o.currentUser.toKey()]=u}(r,i.batchId,n),await fu(r,i.changes),await xd(r.remoteStore)}catch(i){const s=cy(i,"Failed to persist write");n.reject(s)}}async function kS(t,e){const n=ye(t);try{const r=await cL(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Eu.get(s);o&&(Le(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?o.lu=!0:i.modifiedDocuments.size>0?Le(o.lu,14607):i.removedDocuments.size>0&&(Le(o.lu,42227),o.lu=!1))}),await fu(n,r,e)}catch(r){await la(r)}}function ww(t,e,n){const r=ye(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Pu.forEach((s,o)=>{const a=o.view.va(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=ye(o);l.onlineState=a;let u=!1;l.queries.forEach((h,f)=>{for(const p of f.wa)p.va(a)&&(u=!0)}),u&&hy(l)}(r.eventManager,e),i.length&&r.hu.J_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function t3(t,e,n){const r=ye(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Eu.get(e),s=i&&i.key;if(s){let o=new rt(ce.comparator);o=o.insert(s,zt.newNoDocument(s,me.min()));const a=Ie().add(s),l=new gd(me.min(),new Map,new rt(_e),o,a);await kS(r,l),r.du=r.du.remove(s),r.Eu.delete(e),fy(r)}else await om(r.localStore,e,!1).then(()=>um(r,e,n)).catch(la)}async function n3(t,e){const n=ye(t),r=e.batch.batchId;try{const i=await uL(n.localStore,e);TS(n,r,null),SS(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await fu(n,i)}catch(i){await la(i)}}async function r3(t,e,n){const r=ye(t);try{const i=await function(o,a){const l=ye(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let h;return l.mutationQueue.lookupMutationBatch(u,a).next(f=>(Le(f!==null,37113),h=f.keys(),l.mutationQueue.removeMutationBatch(u,f))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,h,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,h)).next(()=>l.localDocuments.getDocuments(u,h))})}(r.localStore,e);TS(r,e,n),SS(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await fu(r,i)}catch(i){await la(i)}}function SS(t,e){(t.Vu.get(e)||[]).forEach(n=>{n.resolve()}),t.Vu.delete(e)}function TS(t,e,n){const r=ye(t);let i=r.Ru[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Ru[r.currentUser.toKey()]=i}}function um(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Tu.get(e))t.Pu.delete(r),n&&t.hu.pu(r,n);t.Tu.delete(e),t.isPrimaryClient&&t.Au.zr(e).forEach(r=>{t.Au.containsKey(r)||IS(t,r)})}function IS(t,e){t.Iu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(sy(t.remoteStore,n),t.du=t.du.remove(e),t.Eu.delete(n),fy(t))}function _w(t,e,n){for(const r of n)r instanceof _S?(t.Au.addReference(r.key,e),i3(t,r)):r instanceof ES?(te(dy,"Document no longer in limbo: "+r.key),t.Au.removeReference(r.key,e),t.Au.containsKey(r.key)||IS(t,r.key)):fe(19791,{yu:r})}function i3(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Iu.has(r)||(te(dy,"New document in limbo: "+n),t.Iu.add(r),fy(t))}function fy(t){for(;t.Iu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Iu.values().next().value;t.Iu.delete(e);const n=new ce(et.fromString(e)),r=t.mu.next();t.Eu.set(r,new GL(n)),t.du=t.du.insert(n,r),mS(t.remoteStore,new pi(dr(Yg(n.path)),r,"TargetPurposeLimboResolution",ld.ue))}}async function fu(t,e,n){const r=ye(t),i=[],s=[],o=[];r.Pu.isEmpty()||(r.Pu.forEach((a,l)=>{o.push(r.gu(l,e,n).then(u=>{var h;if((u||n)&&r.isPrimaryClient){const f=u?!u.fromCache:(h=n==null?void 0:n.targetChanges.get(l.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(l.targetId,f?"current":"not-current")}if(u){i.push(u);const f=ry.Es(l.targetId,u);s.push(f)}}))}),await Promise.all(o),r.hu.J_(i),await async function(l,u){const h=ye(l);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>$.forEach(u,p=>$.forEach(p.Is,g=>h.persistence.referenceDelegate.addReference(f,p.targetId,g)).next(()=>$.forEach(p.ds,g=>h.persistence.referenceDelegate.removeReference(f,p.targetId,g)))))}catch(f){if(!ua(f))throw f;te(iy,"Failed to update sequence numbers: "+f)}for(const f of u){const p=f.targetId;if(!f.fromCache){const g=h.Fs.get(p),w=g.snapshotVersion,T=g.withLastLimboFreeSnapshotVersion(w);h.Fs=h.Fs.insert(p,T)}}}(r.localStore,s))}async function s3(t,e){const n=ye(t);if(!n.currentUser.isEqual(e)){te(dy,"User change. New user:",e.toKey());const r=await hS(n.localStore,e);n.currentUser=e,function(s,o){s.Vu.forEach(a=>{a.forEach(l=>{l.reject(new oe(H.CANCELLED,o))})}),s.Vu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await fu(n,r.Bs)}}function o3(t,e){const n=ye(t),r=n.Eu.get(e);if(r&&r.lu)return Ie().add(r.key);{let i=Ie();const s=n.Tu.get(e);if(!s)return i;for(const o of s){const a=n.Pu.get(o);i=i.unionWith(a.view.tu)}return i}}function CS(t){const e=ye(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=kS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=o3.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=t3.bind(null,e),e.hu.J_=$L.bind(null,e.eventManager),e.hu.pu=BL.bind(null,e.eventManager),e}function a3(t){const e=ye(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=n3.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=r3.bind(null,e),e}class Ch{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=yd(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Du(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Cu(e,this.localStore),this.indexBackfillerScheduler=this.Fu(e,this.localStore)}Cu(e,n){return null}Fu(e,n){return null}vu(e){return lL(this.persistence,new sL,e.initialUser,this.serializer)}Du(e){return new cS(ny.Vi,this.serializer)}bu(e){return new mL}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ch.provider={build:()=>new Ch};class l3 extends Ch{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,n){Le(this.persistence.referenceDelegate instanceof Th,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new HO(r,e.asyncQueue,n)}Du(e){const n=this.cacheSizeBytes!==void 0?on.withCacheSize(this.cacheSizeBytes):on.DEFAULT;return new cS(r=>Th.Vi(r,n),this.serializer)}}class cm{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>ww(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=s3.bind(null,this.syncEngine),await ML(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new VL}()}createDatastore(e){const n=yd(e.databaseInfo.databaseId),r=function(s){return new wL(s)}(e.databaseInfo);return function(s,o,a,l){return new kL(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new TL(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>ww(this.syncEngine,n,0),function(){return pw.C()?new pw:new gL}())}createSyncEngine(e,n){return function(i,s,o,a,l,u,h){const f=new KL(i,s,o,a,l,u);return h&&(f.fu=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=ye(i);te(js,"RemoteStore shutting down."),s.Ia.add(5),await du(s),s.Ea.shutdown(),s.Aa.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}cm.provider={build:()=>new cm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u3{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):Ur("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zi="FirestoreClient";class c3{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Ft.UNAUTHENTICATED,this.clientId=Bg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async o=>{te(zi,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(te(zi,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ni;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=cy(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Tf(t,e){t.asyncQueue.verifyOperationInProgress(),te(zi,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await hS(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>{Di("Terminating Firestore due to IndexedDb database deletion"),t.terminate().then(()=>{te("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(i=>{Di("Terminating Firestore due to IndexedDb database deletion failed",i)})}),t._offlineComponents=e}async function Ew(t,e){t.asyncQueue.verifyOperationInProgress();const n=await h3(t);te(zi,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>gw(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>gw(e.remoteStore,i)),t._onlineComponents=e}async function h3(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){te(zi,"Using user provided OfflineComponentProvider");try{await Tf(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===H.FAILED_PRECONDITION||i.code===H.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Di("Error using user provided cache. Falling back to memory cache: "+n),await Tf(t,new Ch)}}else te(zi,"Using default OfflineComponentProvider"),await Tf(t,new l3(void 0));return t._offlineComponents}async function AS(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(te(zi,"Using user provided OnlineComponentProvider"),await Ew(t,t._uninitializedComponentsProvider._online)):(te(zi,"Using default OnlineComponentProvider"),await Ew(t,new cm))),t._onlineComponents}function d3(t){return AS(t).then(e=>e.syncEngine)}async function f3(t){const e=await AS(t),n=e.eventManager;return n.onListen=QL.bind(null,e.syncEngine),n.onUnlisten=XL.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=YL.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=ZL.bind(null,e.syncEngine),n}function p3(t,e,n={}){const r=new Ni;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,u){const h=new u3({next:p=>{h.Ou(),o.enqueueAndForget(()=>UL(s,f));const g=p.docs.has(a);!g&&p.fromCache?u.reject(new oe(H.UNAVAILABLE,"Failed to get document because the client is offline.")):g&&p.fromCache&&l&&l.source==="server"?u.reject(new oe(H.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(p)},error:p=>u.reject(p)}),f=new HL(Yg(a.path),h,{includeMetadataChanges:!0,ka:!0});return zL(s,f)}(await f3(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NS(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bw=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PS="firestore.googleapis.com",kw=!0;class Sw{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new oe(H.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=PS,this.ssl=kw}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:kw;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=uS;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<$O)throw new oe(H.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}TD("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=NS((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new oe(H.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new oe(H.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new oe(H.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class py{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Sw({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new oe(H.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new oe(H.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Sw(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new gD;switch(r.type){case"firstParty":return new wD(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new oe(H.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=bw.get(n);r&&(te("ComponentProvider","Removing Datastore"),bw.delete(n),r.terminate())}(this),Promise.resolve()}}function m3(t,e,n,r={}){var i;t=Rs(t,py);const s=ia(e),o=t._getSettings(),a=Object.assign(Object.assign({},o),{emulatorOptions:t._getEmulatorOptions()}),l=`${e}:${n}`;s&&(Cb(`https://${l}`),Ab("Firestore",!0)),o.host!==PS&&o.host!==l&&Di("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const u=Object.assign(Object.assign({},o),{host:l,ssl:s,emulatorOptions:r});if(!Cs(u,a)&&(t._setSettings(u),r.mockUserToken)){let h,f;if(typeof r.mockUserToken=="string")h=r.mockUserToken,f=Ft.MOCK_USER;else{h=EP(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const p=r.mockUserToken.sub||r.mockUserToken.user_id;if(!p)throw new oe(H.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new Ft(p)}t._authCredentials=new yD(new _k(h,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class my{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new my(this.firestore,e,this._query)}}class vt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Hl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new vt(this.firestore,e,this._key)}toJSON(){return{type:vt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(uu(n,vt._jsonSchema))return new vt(e,r||null,new ce(et.fromString(n.referencePath)))}}vt._jsonSchemaVersion="firestore/documentReference/1.0",vt._jsonSchema={type:dt("string",vt._jsonSchemaVersion),referencePath:dt("string")};class Hl extends my{constructor(e,n,r){super(e,n,Yg(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new vt(this.firestore,null,new ce(e))}withConverter(e){return new Hl(this.firestore,e,this._path)}}function RS(t,e,...n){if(t=Ht(t),arguments.length===1&&(e=Bg.newId()),SD("doc","path",e),t instanceof py){const r=et.fromString(e,...n);return Vx(r),new vt(t,null,new ce(r))}{if(!(t instanceof vt||t instanceof Hl))throw new oe(H.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(et.fromString(e,...n));return Vx(r),new vt(t.firestore,t instanceof Hl?t.converter:null,new ce(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tw="AsyncQueue";class Iw{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new fS(this,"async_queue_retry"),this.oc=()=>{const r=Sf();r&&te(Tw,"Visibility state changed to "+r.visibilityState),this.F_.y_()},this._c=e;const n=Sf();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;const n=Sf();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});const n=new Ni;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!ua(e))throw e;te(Tw,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}}uc(e){const n=this._c.then(()=>(this.nc=!0,e().catch(r=>{throw this.tc=r,this.nc=!1,Ur("INTERNAL UNHANDLED ERROR: ",Cw(r)),r}).then(r=>(this.nc=!1,r))));return this._c=n,n}enqueueAfterDelay(e,n,r){this.ac(),this.sc.indexOf(e)>-1&&(n=0);const i=uy.createAndSchedule(this,e,n,r,s=>this.lc(s));return this.ec.push(i),i}ac(){this.tc&&fe(47125,{hc:Cw(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do e=this._c,await e;while(e!==this._c)}Tc(e){for(const n of this.ec)if(n.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.ec)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){const n=this.ec.indexOf(e);this.ec.splice(n,1)}}function Cw(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class wd extends py{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new Iw,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Iw(e),this._firestoreClient=void 0,await e}}}function g3(t,e){const n=typeof t=="object"?t:jb(),r=typeof t=="string"?t:xh,i=Pg(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=wP("firestore");s&&m3(i,...s)}return i}function jS(t){if(t._terminated)throw new oe(H.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||y3(t),t._firestoreClient}function y3(t){var e,n,r;const i=t._freezeSettings(),s=function(a,l,u,h){return new MD(a,l,u,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,NS(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new c3(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Dn(Rt.fromBase64String(e))}catch(n){throw new oe(H.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Dn(Rt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Dn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(uu(e,Dn._jsonSchema))return Dn.fromBase64String(e.bytes)}}Dn._jsonSchemaVersion="firestore/bytes/1.0",Dn._jsonSchema={type:dt("string",Dn._jsonSchemaVersion),bytes:dt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _d{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new oe(H.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new At(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gy{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mr{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new oe(H.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new oe(H.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return _e(this._lat,e._lat)||_e(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:mr._jsonSchemaVersion}}static fromJSON(e){if(uu(e,mr._jsonSchema))return new mr(e.latitude,e.longitude)}}mr._jsonSchemaVersion="firestore/geoPoint/1.0",mr._jsonSchema={type:dt("string",mr._jsonSchemaVersion),latitude:dt("number"),longitude:dt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gr{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}toJSON(){return{type:gr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(uu(e,gr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new gr(e.vectorValues);throw new oe(H.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}gr._jsonSchemaVersion="firestore/vectorValue/1.0",gr._jsonSchema={type:dt("string",gr._jsonSchemaVersion),vectorValues:dt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v3=/^__.*__$/;class x3{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Qi(e,this.data,this.fieldMask,n,this.fieldTransforms):new cu(e,this.data,n,this.fieldTransforms)}}class DS{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Qi(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function OS(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw fe(40011,{Ec:t})}}class yy{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Ac(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new yy(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Rc({path:r,mc:!1});return i.fc(e),i}gc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Rc({path:r,mc:!1});return i.Ac(),i}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return Ah(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(OS(this.Ec)&&v3.test(e))throw this.wc('Document fields cannot begin and end with "__"')}}class w3{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||yd(e)}Dc(e,n,r,i=!1){return new yy({Ec:e,methodName:n,bc:r,path:At.emptyPath(),mc:!1,Sc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function LS(t){const e=t._freezeSettings(),n=yd(t._databaseId);return new w3(t._databaseId,!!e.ignoreUndefinedProperties,n)}function _3(t,e,n,r,i,s={}){const o=t.Dc(s.merge||s.mergeFields?2:0,e,n,i);vy("Data must be an object, but it was:",o,r);const a=MS(r,o);let l,u;if(s.merge)l=new xn(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const h=[];for(const f of s.mergeFields){const p=hm(e,f,n);if(!o.contains(p))throw new oe(H.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);VS(h,p)||h.push(p)}l=new xn(h),u=o.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,u=o.fieldTransforms;return new x3(new ln(a),l,u)}class Ed extends gy{_toFieldTransform(e){if(e.Ec!==2)throw e.Ec===1?e.wc(`${this._methodName}() can only appear at the top level of your update data`):e.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Ed}}function E3(t,e,n,r){const i=t.Dc(1,e,n);vy("Data must be an object, but it was:",i,r);const s=[],o=ln.empty();Ki(r,(l,u)=>{const h=xy(e,l,n);u=Ht(u);const f=i.gc(h);if(u instanceof Ed)s.push(h);else{const p=bd(u,f);p!=null&&(s.push(h),o.set(h,p))}});const a=new xn(s);return new DS(o,a,i.fieldTransforms)}function b3(t,e,n,r,i,s){const o=t.Dc(1,e,n),a=[hm(e,r,n)],l=[i];if(s.length%2!=0)throw new oe(H.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let p=0;p<s.length;p+=2)a.push(hm(e,s[p])),l.push(s[p+1]);const u=[],h=ln.empty();for(let p=a.length-1;p>=0;--p)if(!VS(u,a[p])){const g=a[p];let w=l[p];w=Ht(w);const T=o.gc(g);if(w instanceof Ed)u.push(g);else{const I=bd(w,T);I!=null&&(u.push(g),h.set(g,I))}}const f=new xn(u);return new DS(h,f,o.fieldTransforms)}function bd(t,e){if(FS(t=Ht(t)))return vy("Unsupported field value:",e,t),MS(t,e);if(t instanceof gy)return function(r,i){if(!OS(i.Ec))throw i.wc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.wc(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=bd(a,i.yc(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=Ht(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return aO(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=Ke.fromDate(r);return{timestampValue:Sh(i.serializer,s)}}if(r instanceof Ke){const s=new Ke(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Sh(i.serializer,s)}}if(r instanceof mr)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Dn)return{bytesValue:nS(i.serializer,r._byteString)};if(r instanceof vt){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.wc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:ey(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof gr)return function(o,a){return{mapValue:{fields:{[Pk]:{stringValue:Rk},[wh]:{arrayValue:{values:o.toArray().map(u=>{if(typeof u!="number")throw a.wc("VectorValues must only contain numeric values.");return Jg(a.serializer,u)})}}}}}}(r,i);throw i.wc(`Unsupported field value: ${Hg(r)}`)}(t,e)}function MS(t,e){const n={};return Sk(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ki(t,(r,i)=>{const s=bd(i,e.Vc(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function FS(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ke||t instanceof mr||t instanceof Dn||t instanceof vt||t instanceof gy||t instanceof gr)}function vy(t,e,n){if(!FS(n)||!bk(n)){const r=Hg(n);throw r==="an object"?e.wc(t+" a custom object"):e.wc(t+" "+r)}}function hm(t,e,n){if((e=Ht(e))instanceof _d)return e._internalPath;if(typeof e=="string")return xy(t,e);throw Ah("Field path arguments must be of type string or ",t,!1,void 0,n)}const k3=new RegExp("[~\\*/\\[\\]]");function xy(t,e,n){if(e.search(k3)>=0)throw Ah(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new _d(...e.split("."))._internalPath}catch{throw Ah(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Ah(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new oe(H.INVALID_ARGUMENT,a+t+l)}function VS(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zS{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new vt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new S3(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(US("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class S3 extends zS{data(){return super.data()}}function US(t,e){return typeof e=="string"?xy(t,e):e instanceof _d?e._internalPath:e._delegate._internalPath}class T3{convertValue(e,n="none"){switch(Fi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ot(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Mi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw fe(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Ki(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,i;const s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n[wh].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>ot(o.doubleValue));return new gr(s)}convertGeoPoint(e){return new mr(ot(e.latitude),ot(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=cd(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Vl(e));default:return null}}convertTimestamp(e){const n=Li(e);return new Ke(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=et.fromString(e);Le(lS(r),9688,{name:e});const i=new zl(r.get(1),r.get(3)),s=new ce(r.popFirst(5));return i.isEqual(n)||Ur(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I3(t,e,n){let r;return r=t?t.toFirestore(e):e,r}class Ga{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Es extends zS{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Pc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(US("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new oe(H.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Es._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Es._jsonSchemaVersion="firestore/documentSnapshot/1.0",Es._jsonSchema={type:dt("string",Es._jsonSchemaVersion),bundleSource:dt("string","DocumentSnapshot"),bundleName:dt("string"),bundle:dt("string")};class Pc extends Es{data(e={}){return super.data(e)}}class dl{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Ga(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Pc(this._firestore,this._userDataWriter,r.key,r,new Ga(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new oe(H.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const l=new Pc(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Ga(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new Pc(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Ga(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,h=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),h=o.indexOf(a.doc.key)),{type:C3(a.type),doc:l,oldIndex:u,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new oe(H.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=dl._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Bg.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach(s=>{s._document!==null&&(n.push(s._document),r.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),i.push(s.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function C3(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return fe(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Aw(t){t=Rs(t,vt);const e=Rs(t.firestore,wd);return p3(jS(e),t._key).then(n=>R3(e,t,n))}dl._jsonSchemaVersion="firestore/querySnapshot/1.0",dl._jsonSchema={type:dt("string",dl._jsonSchemaVersion),bundleSource:dt("string","QuerySnapshot"),bundleName:dt("string"),bundle:dt("string")};class A3 extends T3{constructor(e){super(),this.firestore=e}convertBytes(e){return new Dn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new vt(this.firestore,null,n)}}function N3(t,e,n){t=Rs(t,vt);const r=Rs(t.firestore,wd),i=I3(t.converter,e);return $S(r,[_3(LS(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,fr.none())])}function P3(t,e,n,...r){t=Rs(t,vt);const i=Rs(t.firestore,wd),s=LS(i);let o;return o=typeof(e=Ht(e))=="string"||e instanceof _d?b3(s,"updateDoc",t._key,e,n,r):E3(s,"updateDoc",t._key,e),$S(i,[o.toMutation(t._key,fr.exists(!0))])}function $S(t,e){return function(r,i){const s=new Ni;return r.asyncQueue.enqueueAndForget(async()=>e3(await d3(r),i,s)),s.promise}(jS(t),e)}function R3(t,e,n){const r=n.docs.get(e._key),i=new A3(t);return new Es(t,i,e._key,r,new Ga(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){aa=i})(sa),$o(new As("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new wd(new vD(r.getProvider("auth-internal")),new _D(o,r.getProvider("app-check-internal")),function(u,h){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new oe(H.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new zl(u.options.projectId,h)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Ii(Dx,Ox,e),Ii(Dx,Ox,"esm2017")})();const j3={apiKey:"AIzaSyBp2GY7HTbsfY6wnRyoUhbRKHs4SLiAoVQ",authDomain:"beekaai.firebaseapp.com",projectId:"beekaai",storageBucket:"beekaai.firebasestorage.app",messagingSenderId:"86576473160",appId:"1:86576473160:web:6e95263aa5c25816e6247d",measurementId:"G-XX5EBK9PXR"},BS=Rb(j3),Eo=pD(BS),HS=g3(BS),qS=M.createContext(void 0),WS=({children:t})=>{const[e,n]=M.useState(null),[r,i]=M.useState(!0);M.useEffect(()=>{const l=nj(Eo,async u=>{if(u){const h=RS(HS,"users",u.uid);let f=await Aw(h);f.exists()||(await N3(h,{profile_complete:!1,email:u.email}),f=await Aw(h)),n({...u,...f.data()})}else n(null);i(!1)});return()=>l()},[]);const s=async l=>{const u={url:window.location.origin+"/signin",handleCodeInApp:!0};try{return await J4(Eo,l,u),window.localStorage.setItem("emailForSignIn",l),null}catch(h){return h}},o=async()=>{const l=new Cr;try{return await bj(Eo,l),null}catch(u){return u}},a=async()=>{await rj(Eo),n(null)};return d.jsx(qS.Provider,{value:{user:e,loading:r,signInWithMagicLink:s,signInWithGoogle:o,signOut:a,setUser:n},children:t})},Qo=()=>{const t=M.useContext(qS);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t};/**
 * @license lucide-react v0.331.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var D3={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.331.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O3=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Ce=(t,e)=>{const n=M.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:s=2,absoluteStrokeWidth:o,className:a="",children:l,...u},h)=>M.createElement("svg",{ref:h,...D3,width:i,height:i,stroke:r,strokeWidth:o?Number(s)*24/Number(i):s,className:["lucide",`lucide-${O3(t)}`,a].join(" "),...u},[...e.map(([f,p])=>M.createElement(f,p)),...Array.isArray(l)?l:[l]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.331.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nw=Ce("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.331.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GS=Ce("BookCheck",[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H20v20H6.5a2.5 2.5 0 0 1 0-5H20",key:"t4utmx"}],["path",{d:"m9 9.5 2 2 4-4",key:"1dth82"}]]);/**
 * @license lucide-react v0.331.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L3=Ce("BookMarked",[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H20v20H6.5a2.5 2.5 0 0 1 0-5H20",key:"t4utmx"}],["polyline",{points:"10 2 10 10 13 7 16 10 16 2",key:"13o6vz"}]]);/**
 * @license lucide-react v0.331.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ql=Ce("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.331.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wy=Ce("Brain",[["path",{d:"M9.5 2A2.5 2.5 0 0 1 12 4.5v15a2.5 2.5 0 0 1-4.96.44 2.5 2.5 0 0 1-2.96-3.08 3 3 0 0 1-.34-5.58 2.5 2.5 0 0 1 1.32-4.24 2.5 2.5 0 0 1 1.98-3A2.5 2.5 0 0 1 9.5 2Z",key:"1mhkh5"}],["path",{d:"M14.5 2A2.5 2.5 0 0 0 12 4.5v15a2.5 2.5 0 0 0 4.96.44 2.5 2.5 0 0 0 2.96-3.08 3 3 0 0 0 .34-5.58 2.5 2.5 0 0 0-1.32-4.24 2.5 2.5 0 0 0-1.98-3A2.5 2.5 0 0 0 14.5 2Z",key:"1d6s00"}]]);/**
 * @license lucide-react v0.331.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _y=Ce("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.331.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wl=Ce("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.331.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yo=Ce("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.331.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M3=Ce("Clipboard",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}]]);/**
 * @license lucide-react v0.331.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F3=Ce("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.331.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V3=Ce("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);/**
 * @license lucide-react v0.331.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qn=Ce("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.331.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dm=Ce("FolderPlus",[["path",{d:"M12 10v6",key:"1bos4e"}],["path",{d:"M9 13h6",key:"1uhe8q"}],["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-react v0.331.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nh=Ce("HelpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.331.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z3=Ce("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.331.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U3=Ce("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.331.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $3=Ce("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]);/**
 * @license lucide-react v0.331.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jo=Ce("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.331.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B3=Ce("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.331.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pw=Ce("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.331.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gl=Ce("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.331.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rc=Ce("MoreVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.331.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H3=Ce("PenTool",[["path",{d:"m12 19 7-7 3 3-7 7-3-3z",key:"rklqx2"}],["path",{d:"m18 13-1.5-7.5L2 2l3.5 14.5L13 18l5-5z",key:"1et58u"}],["path",{d:"m2 2 7.586 7.586",key:"etlp93"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]]);/**
 * @license lucide-react v0.331.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q3=Ce("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.331.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W3=Ce("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.331.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G3=Ce("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.331.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fm=Ce("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.331.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K3=Ce("Shuffle",[["path",{d:"M2 18h1.4c1.3 0 2.5-.6 3.3-1.7l6.1-8.6c.7-1.1 2-1.7 3.3-1.7H22",key:"1wmou1"}],["path",{d:"m18 2 4 4-4 4",key:"pucp1d"}],["path",{d:"M2 6h1.9c1.5 0 2.9.9 3.6 2.2",key:"10bdb2"}],["path",{d:"M22 18h-5.9c-1.3 0-2.6-.7-3.3-1.8l-.5-.8",key:"vgxac0"}],["path",{d:"m18 14 4 4-4 4",key:"10pe0f"}]]);/**
 * @license lucide-react v0.331.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q3=Ce("Slash",[["path",{d:"M22 2 2 22",key:"y4kqgn"}]]);/**
 * @license lucide-react v0.331.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y3=Ce("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.331.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J3=Ce("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);/**
 * @license lucide-react v0.331.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rw=Ce("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.331.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X3=Ce("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.331.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yt=Ce("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.331.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z3=Ce("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),eM=`
  @keyframes slide-up {
    0% {
      opacity: 0;
      transform: translateY(20px);
    }
    100% {
      opacity: 1;
      transform: translateY(0);
    }
  }

  @keyframes fade-in {
    0% {
      opacity: 0;
    }
    100% {
      opacity: 1;
    }
  }

  @keyframes bounce-slow {
    0%, 100% {
      transform: translateY(0);
    }
    50% {
      transform: translateY(-10px);
    }
  }

  .animate-slide-up {
    animation: slide-up 0.8s ease-out forwards;
  }

  .animate-fade-in {
    animation: fade-in 1s ease-out forwards;
  }

  .animate-bounce-slow {
    animation: bounce-slow 2s infinite;
  }

  .animation-delay-200 {
    animation-delay: 200ms;
  }

  .animation-delay-400 {
    animation-delay: 400ms;
  }

  .animation-delay-600 {
    animation-delay: 600ms;
  }

  .animation-delay-2000 {
    animation-delay: 2000ms;
  }
`,KS=document.createElement("style");KS.innerText=eM;document.head.appendChild(KS);const tM=()=>{const t=Ms(),e=()=>d.jsxs("nav",{className:"w-full bg-[#0A0B14] border-b border-[#232336]/60 px-6 py-4 flex items-center justify-between fixed top-0 left-0 z-50 shadow-lg shadow-blue-900/10 backdrop-blur-md",children:[d.jsx("div",{className:"flex items-center gap-2",children:d.jsx("span",{className:"text-2xl font-bold text-white tracking-tight drop-shadow-glow",children:"Beeka AI"})}),d.jsxs("div",{className:"flex items-center gap-8",children:[d.jsx(ah,{to:"/",className:"text-white hover:text-blue-400 font-medium transition-colors",children:"Home"}),d.jsx("a",{href:"#features",className:"text-white hover:text-blue-400 font-medium transition-colors",children:"Features"}),d.jsx("a",{href:"#how-it-works",className:"text-white hover:text-blue-400 font-medium transition-colors",children:"How It Works"}),d.jsx(ah,{to:"/signin",className:"text-white hover:text-blue-400 font-medium transition-colors",children:"Sign In"}),d.jsx("button",{onClick:()=>t("/signup"),className:"ml-4 px-5 py-2 bg-white text-[#0A0B14] font-semibold rounded-lg shadow hover:bg-blue-600 hover:text-white transition-colors focus:ring-2 focus:ring-blue-500",children:"Get Started"})]})]}),n=()=>d.jsx("section",{className:"relative min-h-screen flex items-center pt-32 bg-[#0A0B14]",children:d.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 z-10",children:d.jsxs("div",{className:"text-center max-w-4xl mx-auto",children:[d.jsxs("h1",{className:"text-5xl md:text-7xl font-bold mb-6 text-white opacity-0 animate-fade-in-up animation-delay-200",children:["Level up your ",d.jsx("span",{className:"block text-transparent bg-clip-text bg-gradient-to-r from-blue-500 to-purple-500 mt-4",children:"Learning"})]}),d.jsx("p",{className:"text-gray-300 text-xl md:text-2xl mb-10 max-w-2xl mx-auto leading-relaxed opacity-0 animate-fade-in-up animation-delay-400",children:"Study smarter and faster. Ace your exams with Beeka AI. Our AI-powered platform helps you master any subject with personalized learning tools."}),d.jsxs("div",{className:"flex flex-col sm:flex-row justify-center gap-4 mb-12",children:[d.jsx("button",{onClick:()=>t("/signup"),className:"px-8 py-4 bg-blue-600 hover:bg-blue-700 text-white font-semibold rounded-lg transition-all shadow-lg scale-95 hover:scale-105 focus:ring-2 focus:ring-blue-500 opacity-0 animate-fade-in-up animation-delay-600",children:"Get Started For Free"}),d.jsx("button",{className:"px-8 py-4 bg-white/10 hover:bg-white/20 text-white font-semibold rounded-lg transition-all backdrop-blur-sm opacity-0 animate-fade-in-up animation-delay-800",children:"See How It Works"})]})]})})}),r=()=>{const l=[{icon:Gl,title:"AI Chat Assistant",description:"Get instant help and explanations from your AI study buddy on any subject or concept."},{icon:Qn,title:"Generate Study Notes",description:"Create AI-powered comprehensive study notes from any material in seconds."},{icon:Nh,title:"Interactive Quizzes",description:"Test your knowledge with smart quizzes that adapt to your learning needs."},{icon:Q3,title:"Smart Flashcards",description:"Review efficiently with flashcards that use spaced repetition technology."},{icon:H3,title:"Essay & Report Help",description:"Get assistance writing, editing, and improving your academic papers."},{icon:Z3,title:"Faster Learning",description:"Learn concepts up to 3x faster with personalized study techniques."},{icon:L3,title:"Organized Study Material",description:"Keep all your study materials neatly organized in custom folders."},{icon:wy,title:"Memory Techniques",description:"Apply proven memory techniques to retain information longer."}];return d.jsx("section",{id:"features",className:"py-24 bg-[#0A0B14]",children:d.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:[d.jsxs("div",{className:"text-center mb-16",children:[d.jsx("h2",{className:"text-4xl font-bold text-white mb-4 opacity-0 animate-fade-in-up animation-delay-200",children:"Cutting-Edge Features"}),d.jsx("p",{className:"text-xl text-gray-300 max-w-3xl mx-auto opacity-0 animate-fade-in-up animation-delay-400",children:"Discover how Beeka AI can transform your learning with our innovative technologies."})]}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:l.map((u,h)=>d.jsxs("div",{className:`bg-[#181825] border border-[#232336] rounded-xl p-8 shadow-lg flex flex-col gap-4 hover:shadow-2xl hover:scale-[1.03] transition-all duration-300 opacity-0 animate-fade-in-up animation-delay-${600+h*100}`,style:{animationFillMode:"forwards"},children:[d.jsxs("div",{className:"flex items-center mb-2",children:[d.jsx(u.icon,{className:"w-8 h-8 text-blue-400 mr-3"}),d.jsx("h3",{className:"text-white text-xl font-bold",children:u.title})]}),d.jsx("p",{className:"text-gray-300 text-lg leading-relaxed",children:u.description}),d.jsx("button",{className:"mt-4 px-6 py-2 bg-blue-600 hover:bg-blue-700 text-white font-semibold rounded-lg transition-all shadow scale-95 hover:scale-105 focus:ring-2 focus:ring-blue-500 opacity-0 animate-fade-in-up animation-delay-1000",children:"Learn More"})]},h))})]})})},i=()=>{const l=[{quote:"Study Buddy AI has completely transformed how I prepare for exams. I've improved my grades significantly with much less stress.",name:"Sarah Johnson",title:"Medical Student",rating:5,image:"https://images.pexels.com/photos/733872/pexels-photo-733872.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1",design:"gradient"},{quote:"The AI chat feature feels like having a tutor available 24/7. It explains complex concepts in ways that actually make sense.",name:"Michael Chen",title:"Computer Science Major",rating:5,image:"https://images.pexels.com/photos/220453/pexels-photo-220453.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1",design:"glass"},{quote:"The AI-powered quizzes are challenging but fair. They've helped me identify my weak areas and improve significantly.",name:"Alex Rodriguez",title:"Business Student",rating:5,image:"https://images.pexels.com/photos/220453/pexels-photo-220453.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1",design:"neon"},{quote:"The flashcard system uses spaced repetition which helped me retain information long-term. Ace my finals thanks to Study Buddy!",name:"Jessica Patel",title:"Law Student",rating:5,image:"https://images.pexels.com/photos/415829/pexels-photo-415829.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1",design:"neon"},{quote:"I love how Study Buddy adapts to my learning style. The personalized approach makes studying so much more effective.",name:"Emma Wilson",title:"Psychology Major",rating:5,image:"https://images.pexels.com/photos/1239291/pexels-photo-1239291.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1",design:"glass"},{quote:"The note generation feature is incredible! It helped me organize my thoughts and create comprehensive study materials in minutes.",name:"David Kim",title:"Engineering Student",rating:5,image:"https://images.pexels.com/photos/2379005/pexels-photo-2379005.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1",design:"gradient"}];return d.jsxs("section",{className:"py-20 bg-[#0A0B14] relative",children:[d.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-[#1e1433] via-[#13111c] to-[#1e1433] z-0"}),d.jsx("div",{className:"absolute opacity-30 z-0 right-0 w-1/2 h-full",children:d.jsx("div",{className:"absolute top-1/3 right-1/4 w-64 h-64 bg-indigo-600 rounded-full filter blur-[120px]"})}),d.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 relative z-10",children:[d.jsxs("div",{className:"text-center mb-16",children:[d.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-white mb-4",children:"What Our Students Say"}),d.jsx("p",{className:"text-xl text-gray-300 max-w-3xl mx-auto",children:"Join thousands of students who have transformed their learning experience"})]}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:l.map((u,h)=>d.jsxs("div",{className:`transform transition-all duration-500 hover:scale-105 ${u.design==="gradient"?"bg-gradient-to-br from-blue-600/20 to-purple-600/20 backdrop-blur-sm p-6 rounded-xl shadow-lg border border-blue-500/20":u.design==="glass"?"bg-[#1a1625]/40 backdrop-blur-md p-6 rounded-xl shadow-lg border border-white/10":"bg-[#1a1625] p-6 rounded-xl shadow-lg border-2 border-blue-500/50 shadow-blue-500/20"}`,children:[d.jsx("div",{className:"flex mb-4",children:Array.from({length:5}).map((f,p)=>d.jsx(Y3,{className:`w-5 h-5 ${p<u.rating?"text-yellow-400 fill-yellow-400":"text-gray-400"}`},p))}),d.jsxs("p",{className:"text-gray-300 italic mb-6 flex-grow text-lg leading-relaxed",children:["“",u.quote,"”"]}),d.jsxs("div",{className:"flex items-center mt-auto",children:[d.jsx("img",{src:u.image,alt:u.name,className:"w-14 h-14 rounded-full object-cover mr-4 ring-2 ring-blue-500/50"}),d.jsxs("div",{children:[d.jsx("p",{className:"font-semibold text-white text-lg",children:u.name}),d.jsx("p",{className:"text-sm text-blue-400",children:u.title})]})]})]},h))}),d.jsx("div",{className:"text-center mt-16",children:d.jsxs("div",{className:"flex flex-wrap justify-center items-center gap-8 md:gap-12",children:[d.jsx("div",{className:"text-white text-opacity-70 font-semibold",children:"Trusted by students from:"}),d.jsx("div",{className:"text-white text-opacity-70 font-semibold",children:"Harvard University"}),d.jsx("div",{className:"text-white text-opacity-70 font-semibold",children:"Stanford University"}),d.jsx("div",{className:"text-white text-opacity-70 font-semibold",children:"MIT"}),d.jsx("div",{className:"text-white text-opacity-70 font-semibold",children:"Oxford University"})]})})]})]})},s=()=>d.jsx("section",{id:"how-it-works",className:"py-20 bg-[#0A0B14]",children:d.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:d.jsxs("div",{className:"max-w-4xl mx-auto",children:[d.jsxs("div",{className:"text-center mb-16",children:[d.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-white mb-4",children:"How Study Buddy Works"}),d.jsx("p",{className:"text-xl text-gray-300",children:"Watch this quick guide to see how Study Buddy can transform your learning experience"})]}),d.jsx("div",{className:"aspect-video bg-[#1a1625] rounded-xl overflow-hidden shadow-2xl border border-[#322c45]/40",children:d.jsx("iframe",{className:"w-full h-full",src:"https://www.youtube.com/embed/FMU0j_ly4kk?autoplay=1&modestbranding=1&rel=0&controls=1",title:"How Study Buddy Works",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",allowFullScreen:!0})}),d.jsx("div",{className:"text-center mt-12",children:d.jsx("button",{onClick:()=>t("/signup"),className:"bg-blue-600 hover:bg-blue-700 text-white font-semibold px-8 py-3 rounded-full transition-all transform hover:scale-105 hover:shadow-lg hover:shadow-blue-500/50 opacity-0 animate-fade-in-up animation-delay-600",children:"Start Your Learning Journey"})})]})})}),o=()=>d.jsxs("section",{className:"py-24 bg-[#0A0B14] relative overflow-hidden",children:[d.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-600/20 via-purple-600/20 to-pink-600/20 z-0"}),d.jsx("div",{className:"absolute inset-0 bg-[url('/grid.svg')] bg-center [mask-image:linear-gradient(180deg,white,rgba(255,255,255,0))]"}),d.jsx("div",{className:"absolute top-0 -left-4 w-72 h-72 bg-purple-500 rounded-full mix-blend-multiply filter blur-xl opacity-70 animate-blob"}),d.jsx("div",{className:"absolute top-0 -right-4 w-72 h-72 bg-yellow-500 rounded-full mix-blend-multiply filter blur-xl opacity-70 animate-blob animation-delay-2000"}),d.jsx("div",{className:"absolute -bottom-8 left-20 w-72 h-72 bg-pink-500 rounded-full mix-blend-multiply filter blur-xl opacity-70 animate-blob animation-delay-4000"}),d.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 relative z-10",children:d.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[d.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-white mb-6",children:"Ready to Transform Your Study Habits?"}),d.jsx("p",{className:"text-xl md:text-2xl text-gray-300 mb-10 max-w-2xl mx-auto",children:"Join thousands of students who are already learning smarter with Study Buddy."}),d.jsxs("div",{className:"flex flex-col sm:flex-row justify-center gap-4",children:[d.jsxs("button",{onClick:()=>t("/signup"),className:"group relative px-8 py-4 bg-blue-600 hover:bg-blue-700 text-white font-semibold rounded-full text-lg transition-all transform hover:scale-105 hover:shadow-lg hover:shadow-blue-500/50",children:[d.jsx("span",{className:"relative z-10",children:"Start Your Free Trial"}),d.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-600 to-purple-600 rounded-full opacity-0 group-hover:opacity-100 transition-opacity"})]}),d.jsx("button",{onClick:()=>t("/signin"),className:"px-8 py-4 bg-white/10 hover:bg-white/20 text-white font-semibold rounded-full text-lg transition-all transform hover:scale-105 backdrop-blur-sm",children:"Sign In"})]}),d.jsx("p",{className:"mt-6 text-gray-400",children:"No credit card required • 14-day free trial • Cancel anytime"})]})})]}),a=()=>d.jsx("footer",{className:"bg-[#0A0B14] py-10",children:d.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 text-center text-gray-400",children:[d.jsxs("div",{className:"flex justify-center space-x-6 mb-6",children:[d.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:d.jsx(J3,{size:20})}),d.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:d.jsx(V3,{size:20})}),d.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:d.jsx(U3,{size:20})}),d.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:d.jsx($3,{size:20})}),d.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:d.jsx(B3,{size:20})})]}),d.jsxs("div",{className:"mb-6",children:[d.jsx("a",{href:"#features",className:"mx-3 hover:text-white transition-colors",children:"Features"}),d.jsx("a",{href:"#how-it-works",className:"mx-3 hover:text-white transition-colors",children:"How It Works"})]}),d.jsx("p",{children:"© 2023 Study Buddy. All rights reserved."})]})});return d.jsxs("div",{className:"bg-[#0A0B14] text-white min-h-screen",children:[d.jsx(e,{}),d.jsx(n,{}),d.jsx(r,{}),d.jsx(s,{}),d.jsx(i,{}),d.jsx(o,{}),d.jsx(a,{}),d.jsx("style",{children:`
        @keyframes fade-in-up {
          0% { opacity: 0; transform: translateY(32px); }
          100% { opacity: 1; transform: translateY(0); }
        }
        .animate-fade-in-up {
          animation: fade-in-up 0.8s cubic-bezier(0.4,0,0.2,1) both;
        }
        .animation-delay-200 { animation-delay: 0.2s; }
        .animation-delay-400 { animation-delay: 0.4s; }
        .animation-delay-600 { animation-delay: 0.6s; }
        .animation-delay-800 { animation-delay: 0.8s; }
        .animation-delay-900 { animation-delay: 0.9s; }
        .animation-delay-1000 { animation-delay: 1s; }
        .animation-delay-1100 { animation-delay: 1.1s; }
        .animation-delay-1200 { animation-delay: 1.2s; }
        .animation-delay-1300 { animation-delay: 1.3s; }
        .animation-delay-1400 { animation-delay: 1.4s; }
        .animation-delay-1500 { animation-delay: 1.5s; }
        .animation-delay-1600 { animation-delay: 1.6s; }
        .animation-delay-1700 { animation-delay: 1.7s; }
        .animation-delay-1800 { animation-delay: 1.8s; }
        .animation-delay-1900 { animation-delay: 1.9s; }
        .animation-delay-2000 { animation-delay: 2s; }
        .drop-shadow-glow { text-shadow: 0 0 8px #3B82F6, 0 0 2px #fff; }
        @keyframes pulse-slow {
          0%, 100% { opacity: 0.4; }
          50% { opacity: 0.7; }
        }
        .animate-pulse-slow { animation: pulse-slow 6s infinite; }
      `})]})},nM=()=>{const[t,e]=M.useState(""),[n,r]=M.useState(""),[i,s]=M.useState(!1),[o,a]=M.useState(!1),{signInWithMagicLink:l,signInWithGoogle:u,user:h,loading:f}=Qo(),p=Ms();M.useEffect(()=>{h&&!f&&p("/dashboard")},[h,f,p]);const g=async T=>{T.preventDefault(),r(""),a(!1),s(!0);const I=await l(t);s(!1),I?(a(!0),r("Error sending confirmation link: "+I.message)):(a(!1),r("Check your email for the confirmation link!"))},w=async()=>{const T=await u();T&&_b.error("Google sign-in failed: "+T.message)};return f?d.jsx("div",{className:"min-h-screen flex items-center justify-center",children:d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}):h&&!f?d.jsx(ii,{to:"/dashboard",replace:!0}):d.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-b from-[#0a0814] to-[#1a1625] p-4",children:d.jsxs("div",{className:"w-full max-w-md space-y-8",children:[d.jsx("div",{className:"text-center mb-8",children:d.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Beeka AI"})}),d.jsxs("button",{onClick:w,className:"w-full bg-white text-gray-800 font-medium py-3 px-4 rounded-lg flex items-center justify-center hover:bg-gray-100 transition-colors",children:[d.jsx("img",{src:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg",alt:"Google",className:"w-5 h-5 mr-2"}),"Continue with Google"]}),d.jsxs("div",{className:"relative",children:[d.jsx("div",{className:"absolute inset-0 flex items-center",children:d.jsx("div",{className:"w-full border-t border-gray-600"})}),d.jsx("div",{className:"relative flex justify-center text-sm",children:d.jsx("span",{className:"px-2 bg-[#1a1625] text-gray-400",children:"or"})})]}),d.jsxs("form",{onSubmit:g,className:"space-y-6",children:[n&&d.jsx("div",{className:`rounded-lg px-4 py-3 text-center font-medium mb-2 transition-all duration-300 ${o?"bg-red-100 text-red-700 border border-red-300":"bg-green-100 text-green-700 border border-green-300"}`,children:n}),d.jsx("div",{children:d.jsx("input",{type:"email",id:"email",value:t,onChange:T=>e(T.target.value),className:"w-full bg-[#1a1625] rounded-lg py-3 px-4 text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter your email",required:!0})}),d.jsx("button",{type:"submit",className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-medium py-3 px-4 rounded-lg transition-colors flex items-center justify-center",disabled:i,children:i?d.jsxs(d.Fragment,{children:[d.jsxs("svg",{className:"animate-spin h-5 w-5 mr-2 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[d.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),d.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v8z"})]}),"Sending..."]}):"Continue with Email"})]}),d.jsxs("p",{className:"text-center text-gray-400",children:["Already have an account?"," ",d.jsx(ah,{to:"/signin",className:"text-blue-500 hover:text-blue-400",children:"Sign in"})]})]})})},rM=()=>{const[t,e]=M.useState(""),[n,r]=M.useState(""),[i,s]=M.useState(!1),[o,a]=M.useState(!1),{signInWithMagicLink:l,signInWithGoogle:u,user:h,loading:f}=Qo(),p=Ms();M.useEffect(()=>{h&&!f&&p("/dashboard")},[h,f,p]),M.useEffect(()=>{if(X4(Eo,window.location.href)){let T=window.localStorage.getItem("emailForSignIn");T||(T=window.prompt("Please provide your email for confirmation")),T&&Z4(Eo,T,window.location.href).then(()=>{window.localStorage.removeItem("emailForSignIn")}).catch(I=>{r("Error signing in: "+I.message),a(!0)})}},[]);const g=async T=>{T.preventDefault(),r(""),a(!1),s(!0);const I=await l(t);s(!1),I?(a(!0),r("Error sending confirmation link: "+I.message)):(a(!1),r("Check your email for confirmation link!"))},w=async()=>{const T=await u();T&&_b.error("Google sign-in failed: "+T.message)};return f?d.jsx("div",{className:"min-h-screen flex items-center justify-center",children:d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}):h&&!f?d.jsx(ii,{to:"/dashboard",replace:!0}):d.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-b from-[#0a0814] to-[#1a1625] p-4",children:d.jsxs("div",{className:"w-full max-w-md space-y-8",children:[d.jsxs("div",{className:"text-center mb-8",children:[d.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Beeka AI"}),d.jsx("p",{className:"text-gray-400",children:"Welcome Back!"})]}),d.jsxs("button",{onClick:w,className:"w-full bg-white text-gray-800 font-medium py-3 px-4 rounded-lg flex items-center justify-center hover:bg-gray-100 transition-colors",children:[d.jsx("img",{src:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg",alt:"Google",className:"w-5 h-5 mr-2"}),"Continue with Google"]}),d.jsxs("div",{className:"relative",children:[d.jsx("div",{className:"absolute inset-0 flex items-center",children:d.jsx("div",{className:"w-full border-t border-gray-600"})}),d.jsx("div",{className:"relative flex justify-center text-sm",children:d.jsx("span",{className:"px-2 bg-[#1a1625] text-gray-400",children:"or"})})]}),d.jsxs("form",{onSubmit:g,className:"space-y-6",children:[n&&d.jsx("div",{className:`rounded-lg px-4 py-3 text-center font-medium mb-2 transition-all duration-300 ${o?"bg-red-100 text-red-700 border border-red-300":"bg-green-100 text-green-700 border border-green-300"}`,children:n}),d.jsx("div",{children:d.jsx("input",{type:"email",id:"email",value:t,onChange:T=>e(T.target.value),className:"w-full bg-[#1a1625] rounded-lg py-3 px-4 text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter your email",required:!0})}),d.jsx("button",{type:"submit",className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-medium py-3 px-4 rounded-lg transition-colors flex items-center justify-center",disabled:i,children:i?d.jsxs(d.Fragment,{children:[d.jsxs("svg",{className:"animate-spin h-5 w-5 mr-2 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[d.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),d.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v8z"})]}),"Sending..."]}):"Sign In"})]}),d.jsxs("p",{className:"text-center text-gray-400",children:["Don't have an account?"," ",d.jsx(ah,{to:"/signup",className:"text-blue-500 hover:text-blue-400",children:"Sign up"})]})]})})},Je="https://beeka-backend.onrender.com";function iM({isOpen:t,onClose:e,resources:n,onSelect:r}){const[i,s]=M.useState([]),[o,a]=M.useState(""),l=n.filter(h=>h.name.toLowerCase().includes(o.toLowerCase())),u=h=>{s(f=>f.includes(h)?f.filter(p=>p!==h):[...f,h])};return t?d.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50",children:d.jsxs("div",{className:"bg-[#12141F] rounded-xl p-6 w-full max-w-2xl",children:[d.jsxs("div",{className:"flex justify-between items-center mb-4",children:[d.jsx("h3",{className:"text-xl font-bold text-white",children:"Select Files"}),d.jsx("button",{onClick:e,className:"text-gray-400 hover:text-white",children:d.jsx(Yt,{size:24})})]}),d.jsx("input",{type:"text",placeholder:"Search files...",value:o,onChange:h=>a(h.target.value),className:"w-full p-2 mb-4 bg-[#1A1D2E] border border-gray-700 rounded text-white"}),d.jsx("div",{className:"max-h-[60vh] overflow-y-auto mb-4",children:l.map(h=>d.jsxs("div",{onClick:()=>u(h.id),className:`p-4 mb-2 rounded-lg cursor-pointer flex items-center justify-between ${i.includes(h.id)?"bg-blue-600":"bg-[#1A1D2E] hover:bg-[#2A2D3E]"}`,children:[d.jsx("span",{className:"text-white",children:h.name}),i.includes(h.id)&&d.jsx(_y,{size:20,className:"text-white"})]},h.id))}),d.jsxs("div",{className:"flex justify-end gap-2",children:[d.jsx("button",{onClick:e,className:"px-4 py-2 bg-gray-600 rounded-lg text-white",children:"Cancel"}),d.jsxs("button",{onClick:()=>{r(i),e()},className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 rounded-lg text-white",children:["Add Files (",i.length,")"]})]})]})}):null}function sM({spaceId:t,pdfText:e,messages:n,message:r,setMessage:i,setMessages:s,setPdfText:o,resources:a,onSendMessage:l,onMessageSent:u}){const[h,f]=M.useState(!1),[p,g]=M.useState(!1),w=M.useRef(null);M.useEffect(()=>{w.current&&w.current.scrollIntoView({behavior:"smooth"})},[n]),M.useEffect(()=>{(async()=>{try{const v=await fetch(`${Je}/spaces/${t}/messages`);if(v.ok){const x=await v.json();s(x)}}catch(v){console.error("Error loading messages:",v)}})()},[t,s]);const T=async _=>{try{const x=(await Promise.all(_.map(async b=>{const S=await fetch(`${Je}/file-content/${b}`);if(!S.ok)throw new Error(`Failed to fetch content for file ID: ${b}`);return(await S.json()).content}))).join(`

---

`),A={role:"system",content:`Selected files for context: ${a.filter(b=>_.includes(b.id)).map(b=>b.name).join(", ")}`},k=await fetch(`${Je}/spaces/${t}/messages`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(A)});if(k.ok){const b=await k.json();s(S=>[...S,b])}o(x)}catch(v){console.error("Error loading file contents:",v);const x={role:"system",content:"Failed to load file contents. Please try again."},N=await fetch(`${Je}/spaces/${t}/messages`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(x)});if(N.ok){const O=await N.json();s(A=>[...A,O])}}},I=async()=>{if(!r.trim())return;f(!0);const _={space_id:t,role:"user",content:r,timestamp:new Date().toISOString()};try{const v=await fetch(`${Je}/spaces/${t}/messages`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(_)});if(!v.ok)throw new Error("Failed to save user message");const x=await v.json();s(S=>[...S,x]),i("");const O=await l(r,e||"");if(!O)throw new Error("No response received from the server");const A={space_id:t,role:"ai",content:O,timestamp:new Date().toISOString()},k=await fetch(`${Je}/spaces/${t}/messages`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(A)});if(!k.ok)throw new Error("Failed to save AI message");const b=await k.json();s(S=>[...S,b]),u(r)}catch(v){console.error("Error sending message:",v);let x="Sorry, I encountered an error. Please try again.";v instanceof Error&&(v.message.includes("Failed to connect")?x="Unable to connect to the server. Please check your internet connection and try again.":v.message.includes("No response")&&(x="The server did not respond. Please try again in a moment."));const N={space_id:t,role:"ai",content:x,timestamp:new Date().toISOString()},O=await fetch(`${Je}/spaces/${t}/messages`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(N)});if(O.ok){const A=await O.json();s(k=>[...k,A])}}finally{f(!1)}};return d.jsxs("div",{className:"flex flex-col h-full bg-[#12141F]",children:[n.length===0?d.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center p-4",children:[d.jsx("h1",{className:"text-2xl font-bold text-white mb-8",children:"How can I help you today?"}),d.jsx("div",{className:"w-full max-w-2xl px-4",children:d.jsxs("div",{className:"relative bg-[#1A1D2E] rounded-lg p-1",children:[d.jsx("div",{className:"absolute left-2 top-1/2 transform -translate-y-1/2",children:d.jsx("button",{onClick:()=>g(!0),className:"p-2 hover:bg-[#2A2D3E] rounded-lg transition-colors",children:d.jsx(Rw,{size:20,className:"text-gray-400"})})}),d.jsx("input",{type:"text",value:r,onChange:_=>i(_.target.value),placeholder:"Ask anything...",className:"w-full bg-transparent text-white py-3 px-12 focus:outline-none",onKeyPress:_=>_.key==="Enter"&&I()}),d.jsx("button",{onClick:I,disabled:h||!r.trim(),className:"absolute right-2 top-1/2 transform -translate-y-1/2 text-blue-400 hover:text-blue-300 disabled:text-gray-500 p-2 hover:bg-[#2A2D3E] rounded-lg transition-colors",children:d.jsx(fm,{size:20})})]})})]}):d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"flex-1 overflow-y-auto",children:d.jsxs("div",{className:"max-w-4xl mx-auto p-4 space-y-4",children:[n.map(_=>d.jsx("div",{className:`flex ${_.role==="user"?"justify-end":"justify-start"}`,children:d.jsx("div",{className:`max-w-[80%] p-3 rounded-xl group relative ${_.role==="user"?"bg-blue-600 text-white ml-auto mr-3":"bg-[#1A1D2E] text-white mr-auto ml-3"}`,children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("p",{className:"whitespace-pre-wrap mr-2",children:_.content}),_.role!=="system"&&d.jsx("button",{onClick:()=>navigator.clipboard.writeText(_.content),className:"opacity-0 group-hover:opacity-100 transition-opacity text-gray-300 hover:text-white p-1 rounded",title:"Copy message",children:d.jsx(M3,{size:16})})]})})},_.id)),h&&d.jsx("div",{className:"flex justify-start",children:d.jsx("div",{className:"bg-[#1A1D2E] text-white p-3 rounded-xl",children:d.jsxs("div",{className:"flex space-x-2",children:[d.jsx("div",{className:"w-2 h-2 bg-gray-500 rounded-full animate-bounce"}),d.jsx("div",{className:"w-2 h-2 bg-gray-500 rounded-full animate-bounce [animation-delay:0.2s]"}),d.jsx("div",{className:"w-2 h-2 bg-gray-500 rounded-full animate-bounce [animation-delay:0.4s]"})]})})}),d.jsx("div",{ref:w})]})}),d.jsx("div",{className:"p-4 border-t border-gray-700",children:d.jsxs("div",{className:"relative max-w-4xl mx-auto bg-[#1A1D2E] rounded-md p-1",children:[d.jsx("div",{className:"absolute left-2 top-1/2 transform -translate-y-1/2",children:d.jsx("button",{onClick:()=>g(!0),className:"p-2 hover:bg-[#2A2D3E] rounded-lg transition-colors",children:d.jsx(Rw,{size:20,className:"text-gray-400"})})}),d.jsx("input",{type:"text",value:r,onChange:_=>i(_.target.value),placeholder:"Type your message...",className:"w-full bg-transparent text-white py-3 px-12 focus:outline-none",onKeyPress:_=>_.key==="Enter"&&I()}),d.jsx("button",{onClick:I,disabled:h||!r.trim(),className:"absolute right-2 top-1/2 transform -translate-y-1/2 text-blue-400 hover:text-blue-300 disabled:text-gray-500 p-2 hover:bg-[#2A2D3E] rounded-lg transition-colors",children:d.jsx(fm,{size:20})})]})})]}),d.jsx(iM,{isOpen:p,onClose:()=>g(!1),resources:a,onSelect:T})]})}function oM({resources:t}){const[e,n]=M.useState(null);return d.jsx("div",{className:"p-4 text-white",children:d.jsxs("div",{className:"space-y-2",children:[d.jsx("h3",{className:"font-bold mb-2",children:"Your Resources:"}),t.map(r=>d.jsxs("div",{className:"flex items-center justify-between p-2 hover:bg-[#1A1D2E] rounded group",onMouseEnter:()=>n(r.id),onMouseLeave:()=>n(null),children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(ql,{size:16}),d.jsx("span",{children:r.name})]}),e===r.id&&d.jsxs("div",{className:"relative",children:[d.jsx("button",{className:"p-1 hover:bg-[#2A2D3E] rounded",onClick:i=>{i.stopPropagation();const s=i.currentTarget.nextElementSibling;s&&s.classList.toggle("hidden")},children:d.jsx(Rc,{size:16})}),d.jsxs("div",{className:"absolute right-0 mt-1 bg-[#2A2D3E] rounded-lg shadow-lg py-1 w-32 hidden",children:[d.jsx("button",{className:"w-full px-4 py-2 text-left hover:bg-[#353849] text-sm",children:"Rename"}),d.jsx("button",{className:"w-full px-4 py-2 text-left hover:bg-[#353849] text-sm text-red-400",children:"Remove"})]})]})]},r.id))]})})}function aM(t,e){const n={};return(t[t.length-1]===""?[...t,""]:t).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const lM=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,uM=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,cM={};function jw(t,e){return(cM.jsx?uM:lM).test(t)}const hM=/[ \t\n\f\r]/g;function dM(t){return typeof t=="object"?t.type==="text"?Dw(t.value):!1:Dw(t)}function Dw(t){return t.replace(hM,"")===""}let pu=class{constructor(e,n,r){this.normal=n,this.property=e,r&&(this.space=r)}};pu.prototype.normal={};pu.prototype.property={};pu.prototype.space=void 0;function QS(t,e){const n={},r={};for(const i of t)Object.assign(n,i.property),Object.assign(r,i.normal);return new pu(n,r,e)}function pm(t){return t.toLowerCase()}let fn=class{constructor(e,n){this.attribute=n,this.property=e}};fn.prototype.attribute="";fn.prototype.booleanish=!1;fn.prototype.boolean=!1;fn.prototype.commaOrSpaceSeparated=!1;fn.prototype.commaSeparated=!1;fn.prototype.defined=!1;fn.prototype.mustUseProperty=!1;fn.prototype.number=!1;fn.prototype.overloadedBoolean=!1;fn.prototype.property="";fn.prototype.spaceSeparated=!1;fn.prototype.space=void 0;let fM=0;const we=$s(),ct=$s(),mm=$s(),Q=$s(),Be=$s(),Do=$s(),gn=$s();function $s(){return 2**++fM}const gm=Object.freeze(Object.defineProperty({__proto__:null,boolean:we,booleanish:ct,commaOrSpaceSeparated:gn,commaSeparated:Do,number:Q,overloadedBoolean:mm,spaceSeparated:Be},Symbol.toStringTag,{value:"Module"})),If=Object.keys(gm);let Ey=class extends fn{constructor(e,n,r,i){let s=-1;if(super(e,n),Ow(this,"space",i),typeof r=="number")for(;++s<If.length;){const o=If[s];Ow(this,If[s],(r&gm[o])===gm[o])}}};Ey.prototype.defined=!0;function Ow(t,e,n){n&&(t[e]=n)}function ha(t){const e={},n={};for(const[r,i]of Object.entries(t.properties)){const s=new Ey(r,t.transform(t.attributes||{},r),i,t.space);t.mustUseProperty&&t.mustUseProperty.includes(r)&&(s.mustUseProperty=!0),e[r]=s,n[pm(r)]=r,n[pm(s.attribute)]=r}return new pu(e,n,t.space)}const YS=ha({properties:{ariaActiveDescendant:null,ariaAtomic:ct,ariaAutoComplete:null,ariaBusy:ct,ariaChecked:ct,ariaColCount:Q,ariaColIndex:Q,ariaColSpan:Q,ariaControls:Be,ariaCurrent:null,ariaDescribedBy:Be,ariaDetails:null,ariaDisabled:ct,ariaDropEffect:Be,ariaErrorMessage:null,ariaExpanded:ct,ariaFlowTo:Be,ariaGrabbed:ct,ariaHasPopup:null,ariaHidden:ct,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Be,ariaLevel:Q,ariaLive:null,ariaModal:ct,ariaMultiLine:ct,ariaMultiSelectable:ct,ariaOrientation:null,ariaOwns:Be,ariaPlaceholder:null,ariaPosInSet:Q,ariaPressed:ct,ariaReadOnly:ct,ariaRelevant:null,ariaRequired:ct,ariaRoleDescription:Be,ariaRowCount:Q,ariaRowIndex:Q,ariaRowSpan:Q,ariaSelected:ct,ariaSetSize:Q,ariaSort:null,ariaValueMax:Q,ariaValueMin:Q,ariaValueNow:Q,ariaValueText:null,role:null},transform(t,e){return e==="role"?e:"aria-"+e.slice(4).toLowerCase()}});function JS(t,e){return e in t?t[e]:e}function XS(t,e){return JS(t,e.toLowerCase())}const pM=ha({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Do,acceptCharset:Be,accessKey:Be,action:null,allow:null,allowFullScreen:we,allowPaymentRequest:we,allowUserMedia:we,alt:null,as:null,async:we,autoCapitalize:null,autoComplete:Be,autoFocus:we,autoPlay:we,blocking:Be,capture:null,charSet:null,checked:we,cite:null,className:Be,cols:Q,colSpan:null,content:null,contentEditable:ct,controls:we,controlsList:Be,coords:Q|Do,crossOrigin:null,data:null,dateTime:null,decoding:null,default:we,defer:we,dir:null,dirName:null,disabled:we,download:mm,draggable:ct,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:we,formTarget:null,headers:Be,height:Q,hidden:mm,high:Q,href:null,hrefLang:null,htmlFor:Be,httpEquiv:Be,id:null,imageSizes:null,imageSrcSet:null,inert:we,inputMode:null,integrity:null,is:null,isMap:we,itemId:null,itemProp:Be,itemRef:Be,itemScope:we,itemType:Be,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:we,low:Q,manifest:null,max:null,maxLength:Q,media:null,method:null,min:null,minLength:Q,multiple:we,muted:we,name:null,nonce:null,noModule:we,noValidate:we,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:we,optimum:Q,pattern:null,ping:Be,placeholder:null,playsInline:we,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:we,referrerPolicy:null,rel:Be,required:we,reversed:we,rows:Q,rowSpan:Q,sandbox:Be,scope:null,scoped:we,seamless:we,selected:we,shadowRootClonable:we,shadowRootDelegatesFocus:we,shadowRootMode:null,shape:null,size:Q,sizes:null,slot:null,span:Q,spellCheck:ct,src:null,srcDoc:null,srcLang:null,srcSet:null,start:Q,step:null,style:null,tabIndex:Q,target:null,title:null,translate:null,type:null,typeMustMatch:we,useMap:null,value:ct,width:Q,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:Be,axis:null,background:null,bgColor:null,border:Q,borderColor:null,bottomMargin:Q,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:we,declare:we,event:null,face:null,frame:null,frameBorder:null,hSpace:Q,leftMargin:Q,link:null,longDesc:null,lowSrc:null,marginHeight:Q,marginWidth:Q,noResize:we,noHref:we,noShade:we,noWrap:we,object:null,profile:null,prompt:null,rev:null,rightMargin:Q,rules:null,scheme:null,scrolling:ct,standby:null,summary:null,text:null,topMargin:Q,valueType:null,version:null,vAlign:null,vLink:null,vSpace:Q,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:we,disableRemotePlayback:we,prefix:null,property:null,results:Q,security:null,unselectable:null},space:"html",transform:XS}),mM=ha({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:gn,accentHeight:Q,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:Q,amplitude:Q,arabicForm:null,ascent:Q,attributeName:null,attributeType:null,azimuth:Q,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:Q,by:null,calcMode:null,capHeight:Q,className:Be,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:Q,diffuseConstant:Q,direction:null,display:null,dur:null,divisor:Q,dominantBaseline:null,download:we,dx:null,dy:null,edgeMode:null,editable:null,elevation:Q,enableBackground:null,end:null,event:null,exponent:Q,externalResourcesRequired:null,fill:null,fillOpacity:Q,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Do,g2:Do,glyphName:Do,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:Q,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:Q,horizOriginX:Q,horizOriginY:Q,id:null,ideographic:Q,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:Q,k:Q,k1:Q,k2:Q,k3:Q,k4:Q,kernelMatrix:gn,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:Q,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:Q,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:Q,overlineThickness:Q,paintOrder:null,panose1:null,path:null,pathLength:Q,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Be,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:Q,pointsAtY:Q,pointsAtZ:Q,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:gn,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:gn,rev:gn,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:gn,requiredFeatures:gn,requiredFonts:gn,requiredFormats:gn,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:Q,specularExponent:Q,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:Q,strikethroughThickness:Q,string:null,stroke:null,strokeDashArray:gn,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:Q,strokeOpacity:Q,strokeWidth:null,style:null,surfaceScale:Q,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:gn,tabIndex:Q,tableValues:null,target:null,targetX:Q,targetY:Q,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:gn,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:Q,underlineThickness:Q,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:Q,values:null,vAlphabetic:Q,vMathematical:Q,vectorEffect:null,vHanging:Q,vIdeographic:Q,version:null,vertAdvY:Q,vertOriginX:Q,vertOriginY:Q,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:Q,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:JS}),ZS=ha({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(t,e){return"xlink:"+e.slice(5).toLowerCase()}}),eT=ha({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:XS}),tT=ha({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(t,e){return"xml:"+e.slice(3).toLowerCase()}}),gM={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},yM=/[A-Z]/g,Lw=/-[a-z]/g,vM=/^data[-\w.:]+$/i;function xM(t,e){const n=pm(e);let r=e,i=fn;if(n in t.normal)return t.property[t.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&vM.test(e)){if(e.charAt(4)==="-"){const s=e.slice(5).replace(Lw,_M);r="data"+s.charAt(0).toUpperCase()+s.slice(1)}else{const s=e.slice(4);if(!Lw.test(s)){let o=s.replace(yM,wM);o.charAt(0)!=="-"&&(o="-"+o),e="data"+o}}i=Ey}return new i(r,e)}function wM(t){return"-"+t.toLowerCase()}function _M(t){return t.charAt(1).toUpperCase()}const EM=QS([YS,pM,ZS,eT,tT],"html"),by=QS([YS,mM,ZS,eT,tT],"svg");function bM(t){return t.join(" ").trim()}var ky={},Mw=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,kM=/\n/g,SM=/^\s*/,TM=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,IM=/^:\s*/,CM=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,AM=/^[;\s]*/,NM=/^\s+|\s+$/g,PM=`
`,Fw="/",Vw="*",fs="",RM="comment",jM="declaration",DM=function(t,e){if(typeof t!="string")throw new TypeError("First argument must be a string");if(!t)return[];e=e||{};var n=1,r=1;function i(w){var T=w.match(kM);T&&(n+=T.length);var I=w.lastIndexOf(PM);r=~I?w.length-I:r+w.length}function s(){var w={line:n,column:r};return function(T){return T.position=new o(w),u(),T}}function o(w){this.start=w,this.end={line:n,column:r},this.source=e.source}o.prototype.content=t;function a(w){var T=new Error(e.source+":"+n+":"+r+": "+w);if(T.reason=w,T.filename=e.source,T.line=n,T.column=r,T.source=t,!e.silent)throw T}function l(w){var T=w.exec(t);if(T){var I=T[0];return i(I),t=t.slice(I.length),T}}function u(){l(SM)}function h(w){var T;for(w=w||[];T=f();)T!==!1&&w.push(T);return w}function f(){var w=s();if(!(Fw!=t.charAt(0)||Vw!=t.charAt(1))){for(var T=2;fs!=t.charAt(T)&&(Vw!=t.charAt(T)||Fw!=t.charAt(T+1));)++T;if(T+=2,fs===t.charAt(T-1))return a("End of comment missing");var I=t.slice(2,T-2);return r+=2,i(I),t=t.slice(T),r+=2,w({type:RM,comment:I})}}function p(){var w=s(),T=l(TM);if(T){if(f(),!l(IM))return a("property missing ':'");var I=l(CM),_=w({type:jM,property:zw(T[0].replace(Mw,fs)),value:I?zw(I[0].replace(Mw,fs)):fs});return l(AM),_}}function g(){var w=[];h(w);for(var T;T=p();)T!==!1&&(w.push(T),h(w));return w}return u(),g()};function zw(t){return t?t.replace(NM,fs):fs}var OM=Pi&&Pi.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ky,"__esModule",{value:!0});ky.default=MM;var LM=OM(DM);function MM(t,e){var n=null;if(!t||typeof t!="string")return n;var r=(0,LM.default)(t),i=typeof e=="function";return r.forEach(function(s){if(s.type==="declaration"){var o=s.property,a=s.value;i?e(o,a,s):a&&(n=n||{},n[o]=a)}}),n}var kd={};Object.defineProperty(kd,"__esModule",{value:!0});kd.camelCase=void 0;var FM=/^--[a-zA-Z0-9_-]+$/,VM=/-([a-z])/g,zM=/^[^-]+$/,UM=/^-(webkit|moz|ms|o|khtml)-/,$M=/^-(ms)-/,BM=function(t){return!t||zM.test(t)||FM.test(t)},HM=function(t,e){return e.toUpperCase()},Uw=function(t,e){return"".concat(e,"-")},qM=function(t,e){return e===void 0&&(e={}),BM(t)?t:(t=t.toLowerCase(),e.reactCompat?t=t.replace($M,Uw):t=t.replace(UM,Uw),t.replace(VM,HM))};kd.camelCase=qM;var WM=Pi&&Pi.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},GM=WM(ky),KM=kd;function ym(t,e){var n={};return!t||typeof t!="string"||(0,GM.default)(t,function(r,i){r&&i&&(n[(0,KM.camelCase)(r,e)]=i)}),n}ym.default=ym;var QM=ym;const YM=Mh(QM),nT=rT("end"),Sy=rT("start");function rT(t){return e;function e(n){const r=n&&n.position&&n.position[t]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function JM(t){const e=Sy(t),n=nT(t);if(e&&n)return{start:e,end:n}}function fl(t){return!t||typeof t!="object"?"":"position"in t||"type"in t?$w(t.position):"start"in t||"end"in t?$w(t):"line"in t||"column"in t?vm(t):""}function vm(t){return Bw(t&&t.line)+":"+Bw(t&&t.column)}function $w(t){return vm(t&&t.start)+"-"+vm(t&&t.end)}function Bw(t){return t&&typeof t=="number"?t:1}class qt extends Error{constructor(e,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let i="",s={},o=!1;if(n&&("line"in n&&"column"in n?s={place:n}:"start"in n&&"end"in n?s={place:n}:"type"in n?s={ancestors:[n],place:n.position}:s={...n}),typeof e=="string"?i=e:!s.cause&&e&&(o=!0,i=e.message,s.cause=e),!s.ruleId&&!s.source&&typeof r=="string"){const l=r.indexOf(":");l===-1?s.ruleId=r:(s.source=r.slice(0,l),s.ruleId=r.slice(l+1))}if(!s.place&&s.ancestors&&s.ancestors){const l=s.ancestors[s.ancestors.length-1];l&&(s.place=l.position)}const a=s.place&&"start"in s.place?s.place.start:s.place;this.ancestors=s.ancestors||void 0,this.cause=s.cause||void 0,this.column=a?a.column:void 0,this.fatal=void 0,this.file,this.message=i,this.line=a?a.line:void 0,this.name=fl(s.place)||"1:1",this.place=s.place||void 0,this.reason=this.message,this.ruleId=s.ruleId||void 0,this.source=s.source||void 0,this.stack=o&&s.cause&&typeof s.cause.stack=="string"?s.cause.stack:"",this.actual,this.expected,this.note,this.url}}qt.prototype.file="";qt.prototype.name="";qt.prototype.reason="";qt.prototype.message="";qt.prototype.stack="";qt.prototype.column=void 0;qt.prototype.line=void 0;qt.prototype.ancestors=void 0;qt.prototype.cause=void 0;qt.prototype.fatal=void 0;qt.prototype.place=void 0;qt.prototype.ruleId=void 0;qt.prototype.source=void 0;const Ty={}.hasOwnProperty,XM=new Map,ZM=/[A-Z]/g,eF=new Set(["table","tbody","thead","tfoot","tr"]),tF=new Set(["td","th"]),iT="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function nF(t,e){if(!e||e.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=e.filePath||void 0;let r;if(e.development){if(typeof e.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=cF(n,e.jsxDEV)}else{if(typeof e.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof e.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=uF(n,e.jsx,e.jsxs)}const i={Fragment:e.Fragment,ancestors:[],components:e.components||{},create:r,elementAttributeNameCase:e.elementAttributeNameCase||"react",evaluater:e.createEvaluater?e.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:e.ignoreInvalidStyle||!1,passKeys:e.passKeys!==!1,passNode:e.passNode||!1,schema:e.space==="svg"?by:EM,stylePropertyNameCase:e.stylePropertyNameCase||"dom",tableCellAlignToStyle:e.tableCellAlignToStyle!==!1},s=sT(i,t,void 0);return s&&typeof s!="string"?s:i.create(t,i.Fragment,{children:s||void 0},void 0)}function sT(t,e,n){if(e.type==="element")return rF(t,e,n);if(e.type==="mdxFlowExpression"||e.type==="mdxTextExpression")return iF(t,e);if(e.type==="mdxJsxFlowElement"||e.type==="mdxJsxTextElement")return oF(t,e,n);if(e.type==="mdxjsEsm")return sF(t,e);if(e.type==="root")return aF(t,e,n);if(e.type==="text")return lF(t,e)}function rF(t,e,n){const r=t.schema;let i=r;e.tagName.toLowerCase()==="svg"&&r.space==="html"&&(i=by,t.schema=i),t.ancestors.push(e);const s=aT(t,e.tagName,!1),o=hF(t,e);let a=Cy(t,e);return eF.has(e.tagName)&&(a=a.filter(function(l){return typeof l=="string"?!dM(l):!0})),oT(t,o,s,e),Iy(o,a),t.ancestors.pop(),t.schema=r,t.create(e,s,o,n)}function iF(t,e){if(e.data&&e.data.estree&&t.evaluater){const r=e.data.estree.body[0];return r.type,t.evaluater.evaluateExpression(r.expression)}Kl(t,e.position)}function sF(t,e){if(e.data&&e.data.estree&&t.evaluater)return t.evaluater.evaluateProgram(e.data.estree);Kl(t,e.position)}function oF(t,e,n){const r=t.schema;let i=r;e.name==="svg"&&r.space==="html"&&(i=by,t.schema=i),t.ancestors.push(e);const s=e.name===null?t.Fragment:aT(t,e.name,!0),o=dF(t,e),a=Cy(t,e);return oT(t,o,s,e),Iy(o,a),t.ancestors.pop(),t.schema=r,t.create(e,s,o,n)}function aF(t,e,n){const r={};return Iy(r,Cy(t,e)),t.create(e,t.Fragment,r,n)}function lF(t,e){return e.value}function oT(t,e,n,r){typeof n!="string"&&n!==t.Fragment&&t.passNode&&(e.node=r)}function Iy(t,e){if(e.length>0){const n=e.length>1?e:e[0];n&&(t.children=n)}}function uF(t,e,n){return r;function r(i,s,o,a){const u=Array.isArray(o.children)?n:e;return a?u(s,o,a):u(s,o)}}function cF(t,e){return n;function n(r,i,s,o){const a=Array.isArray(s.children),l=Sy(r);return e(i,s,o,a,{columnNumber:l?l.column-1:void 0,fileName:t,lineNumber:l?l.line:void 0},void 0)}}function hF(t,e){const n={};let r,i;for(i in e.properties)if(i!=="children"&&Ty.call(e.properties,i)){const s=fF(t,i,e.properties[i]);if(s){const[o,a]=s;t.tableCellAlignToStyle&&o==="align"&&typeof a=="string"&&tF.has(e.tagName)?r=a:n[o]=a}}if(r){const s=n.style||(n.style={});s[t.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function dF(t,e){const n={};for(const r of e.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&t.evaluater){const s=r.data.estree.body[0];s.type;const o=s.expression;o.type;const a=o.properties[0];a.type,Object.assign(n,t.evaluater.evaluateExpression(a.argument))}else Kl(t,e.position);else{const i=r.name;let s;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&t.evaluater){const a=r.value.data.estree.body[0];a.type,s=t.evaluater.evaluateExpression(a.expression)}else Kl(t,e.position);else s=r.value===null?!0:r.value;n[i]=s}return n}function Cy(t,e){const n=[];let r=-1;const i=t.passKeys?new Map:XM;for(;++r<e.children.length;){const s=e.children[r];let o;if(t.passKeys){const l=s.type==="element"?s.tagName:s.type==="mdxJsxFlowElement"||s.type==="mdxJsxTextElement"?s.name:void 0;if(l){const u=i.get(l)||0;o=l+"-"+u,i.set(l,u+1)}}const a=sT(t,s,o);a!==void 0&&n.push(a)}return n}function fF(t,e,n){const r=xM(t.schema,e);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?aM(n):bM(n)),r.property==="style"){let i=typeof n=="object"?n:pF(t,String(n));return t.stylePropertyNameCase==="css"&&(i=mF(i)),["style",i]}return[t.elementAttributeNameCase==="react"&&r.space?gM[r.property]||r.property:r.attribute,n]}}function pF(t,e){try{return YM(e,{reactCompat:!0})}catch(n){if(t.ignoreInvalidStyle)return{};const r=n,i=new qt("Cannot parse `style` attribute",{ancestors:t.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw i.file=t.filePath||void 0,i.url=iT+"#cannot-parse-style-attribute",i}}function aT(t,e,n){let r;if(!n)r={type:"Literal",value:e};else if(e.includes(".")){const i=e.split(".");let s=-1,o;for(;++s<i.length;){const a=jw(i[s])?{type:"Identifier",name:i[s]}:{type:"Literal",value:i[s]};o=o?{type:"MemberExpression",object:o,property:a,computed:!!(s&&a.type==="Literal"),optional:!1}:a}r=o}else r=jw(e)&&!/^[a-z]/.test(e)?{type:"Identifier",name:e}:{type:"Literal",value:e};if(r.type==="Literal"){const i=r.value;return Ty.call(t.components,i)?t.components[i]:i}if(t.evaluater)return t.evaluater.evaluateExpression(r);Kl(t)}function Kl(t,e){const n=new qt("Cannot handle MDX estrees without `createEvaluater`",{ancestors:t.ancestors,place:e,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=t.filePath||void 0,n.url=iT+"#cannot-handle-mdx-estrees-without-createevaluater",n}function mF(t){const e={};let n;for(n in t)Ty.call(t,n)&&(e[gF(n)]=t[n]);return e}function gF(t){let e=t.replace(ZM,yF);return e.slice(0,3)==="ms-"&&(e="-"+e),e}function yF(t){return"-"+t.toLowerCase()}const Cf={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},vF={};function Ay(t,e){const n=vF,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return lT(t,r,i)}function lT(t,e,n){if(xF(t)){if("value"in t)return t.type==="html"&&!n?"":t.value;if(e&&"alt"in t&&t.alt)return t.alt;if("children"in t)return Hw(t.children,e,n)}return Array.isArray(t)?Hw(t,e,n):""}function Hw(t,e,n){const r=[];let i=-1;for(;++i<t.length;)r[i]=lT(t[i],e,n);return r.join("")}function xF(t){return!!(t&&typeof t=="object")}const qw=document.createElement("i");function Ny(t){const e="&"+t+";";qw.innerHTML=e;const n=qw.textContent;return n.charCodeAt(n.length-1)===59&&t!=="semi"||n===e?!1:n}function _n(t,e,n,r){const i=t.length;let s=0,o;if(e<0?e=-e>i?0:i+e:e=e>i?i:e,n=n>0?n:0,r.length<1e4)o=Array.from(r),o.unshift(e,n),t.splice(...o);else for(n&&t.splice(e,n);s<r.length;)o=r.slice(s,s+1e4),o.unshift(e,0),t.splice(...o),s+=1e4,e+=1e4}function Rn(t,e){return t.length>0?(_n(t,t.length,0,e),t):e}const Ww={}.hasOwnProperty;function uT(t){const e={};let n=-1;for(;++n<t.length;)wF(e,t[n]);return e}function wF(t,e){let n;for(n in e){const i=(Ww.call(t,n)?t[n]:void 0)||(t[n]={}),s=e[n];let o;if(s)for(o in s){Ww.call(i,o)||(i[o]=[]);const a=s[o];_F(i[o],Array.isArray(a)?a:a?[a]:[])}}}function _F(t,e){let n=-1;const r=[];for(;++n<e.length;)(e[n].add==="after"?t:r).push(e[n]);_n(t,0,0,r)}function cT(t,e){const n=Number.parseInt(t,e);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"�":String.fromCodePoint(n)}function Zn(t){return t.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Zt=Yi(/[A-Za-z]/),Ut=Yi(/[\dA-Za-z]/),EF=Yi(/[#-'*+\--9=?A-Z^-~]/);function Ph(t){return t!==null&&(t<32||t===127)}const xm=Yi(/\d/),bF=Yi(/[\dA-Fa-f]/),kF=Yi(/[!-/:-@[-`{-~]/);function ue(t){return t!==null&&t<-2}function Ue(t){return t!==null&&(t<0||t===32)}function ke(t){return t===-2||t===-1||t===32}const Sd=Yi(new RegExp("\\p{P}|\\p{S}","u")),Ds=Yi(/\s/);function Yi(t){return e;function e(n){return n!==null&&n>-1&&t.test(String.fromCharCode(n))}}function da(t){const e=[];let n=-1,r=0,i=0;for(;++n<t.length;){const s=t.charCodeAt(n);let o="";if(s===37&&Ut(t.charCodeAt(n+1))&&Ut(t.charCodeAt(n+2)))i=2;else if(s<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(s))||(o=String.fromCharCode(s));else if(s>55295&&s<57344){const a=t.charCodeAt(n+1);s<56320&&a>56319&&a<57344?(o=String.fromCharCode(s,a),i=1):o="�"}else o=String.fromCharCode(s);o&&(e.push(t.slice(r,n),encodeURIComponent(o)),r=n+i+1,o=""),i&&(n+=i,i=0)}return e.join("")+t.slice(r)}function Pe(t,e,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let s=0;return o;function o(l){return ke(l)?(t.enter(n),a(l)):e(l)}function a(l){return ke(l)&&s++<i?(t.consume(l),a):(t.exit(n),e(l))}}const SF={tokenize:TF};function TF(t){const e=t.attempt(this.parser.constructs.contentInitial,r,i);let n;return e;function r(a){if(a===null){t.consume(a);return}return t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),Pe(t,e,"linePrefix")}function i(a){return t.enter("paragraph"),s(a)}function s(a){const l=t.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=l),n=l,o(a)}function o(a){if(a===null){t.exit("chunkText"),t.exit("paragraph"),t.consume(a);return}return ue(a)?(t.consume(a),t.exit("chunkText"),s):(t.consume(a),o)}}const IF={tokenize:CF},Gw={tokenize:AF};function CF(t){const e=this,n=[];let r=0,i,s,o;return a;function a(x){if(r<n.length){const N=n[r];return e.containerState=N[1],t.attempt(N[0].continuation,l,u)(x)}return u(x)}function l(x){if(r++,e.containerState._closeFlow){e.containerState._closeFlow=void 0,i&&v();const N=e.events.length;let O=N,A;for(;O--;)if(e.events[O][0]==="exit"&&e.events[O][1].type==="chunkFlow"){A=e.events[O][1].end;break}_(r);let k=N;for(;k<e.events.length;)e.events[k][1].end={...A},k++;return _n(e.events,O+1,0,e.events.slice(N)),e.events.length=k,u(x)}return a(x)}function u(x){if(r===n.length){if(!i)return p(x);if(i.currentConstruct&&i.currentConstruct.concrete)return w(x);e.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return e.containerState={},t.check(Gw,h,f)(x)}function h(x){return i&&v(),_(r),p(x)}function f(x){return e.parser.lazy[e.now().line]=r!==n.length,o=e.now().offset,w(x)}function p(x){return e.containerState={},t.attempt(Gw,g,w)(x)}function g(x){return r++,n.push([e.currentConstruct,e.containerState]),p(x)}function w(x){if(x===null){i&&v(),_(0),t.consume(x);return}return i=i||e.parser.flow(e.now()),t.enter("chunkFlow",{_tokenizer:i,contentType:"flow",previous:s}),T(x)}function T(x){if(x===null){I(t.exit("chunkFlow"),!0),_(0),t.consume(x);return}return ue(x)?(t.consume(x),I(t.exit("chunkFlow")),r=0,e.interrupt=void 0,a):(t.consume(x),T)}function I(x,N){const O=e.sliceStream(x);if(N&&O.push(null),x.previous=s,s&&(s.next=x),s=x,i.defineSkip(x.start),i.write(O),e.parser.lazy[x.start.line]){let A=i.events.length;for(;A--;)if(i.events[A][1].start.offset<o&&(!i.events[A][1].end||i.events[A][1].end.offset>o))return;const k=e.events.length;let b=k,S,E;for(;b--;)if(e.events[b][0]==="exit"&&e.events[b][1].type==="chunkFlow"){if(S){E=e.events[b][1].end;break}S=!0}for(_(r),A=k;A<e.events.length;)e.events[A][1].end={...E},A++;_n(e.events,b+1,0,e.events.slice(k)),e.events.length=A}}function _(x){let N=n.length;for(;N-- >x;){const O=n[N];e.containerState=O[1],O[0].exit.call(e,t)}n.length=x}function v(){i.write([null]),s=void 0,i=void 0,e.containerState._closeFlow=void 0}}function AF(t,e,n){return Pe(t,t.attempt(this.parser.constructs.document,e,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function Xo(t){if(t===null||Ue(t)||Ds(t))return 1;if(Sd(t))return 2}function Td(t,e,n){const r=[];let i=-1;for(;++i<t.length;){const s=t[i].resolveAll;s&&!r.includes(s)&&(e=s(e,n),r.push(s))}return e}const wm={name:"attention",resolveAll:NF,tokenize:PF};function NF(t,e){let n=-1,r,i,s,o,a,l,u,h;for(;++n<t.length;)if(t[n][0]==="enter"&&t[n][1].type==="attentionSequence"&&t[n][1]._close){for(r=n;r--;)if(t[r][0]==="exit"&&t[r][1].type==="attentionSequence"&&t[r][1]._open&&e.sliceSerialize(t[r][1]).charCodeAt(0)===e.sliceSerialize(t[n][1]).charCodeAt(0)){if((t[r][1]._close||t[n][1]._open)&&(t[n][1].end.offset-t[n][1].start.offset)%3&&!((t[r][1].end.offset-t[r][1].start.offset+t[n][1].end.offset-t[n][1].start.offset)%3))continue;l=t[r][1].end.offset-t[r][1].start.offset>1&&t[n][1].end.offset-t[n][1].start.offset>1?2:1;const f={...t[r][1].end},p={...t[n][1].start};Kw(f,-l),Kw(p,l),o={type:l>1?"strongSequence":"emphasisSequence",start:f,end:{...t[r][1].end}},a={type:l>1?"strongSequence":"emphasisSequence",start:{...t[n][1].start},end:p},s={type:l>1?"strongText":"emphasisText",start:{...t[r][1].end},end:{...t[n][1].start}},i={type:l>1?"strong":"emphasis",start:{...o.start},end:{...a.end}},t[r][1].end={...o.start},t[n][1].start={...a.end},u=[],t[r][1].end.offset-t[r][1].start.offset&&(u=Rn(u,[["enter",t[r][1],e],["exit",t[r][1],e]])),u=Rn(u,[["enter",i,e],["enter",o,e],["exit",o,e],["enter",s,e]]),u=Rn(u,Td(e.parser.constructs.insideSpan.null,t.slice(r+1,n),e)),u=Rn(u,[["exit",s,e],["enter",a,e],["exit",a,e],["exit",i,e]]),t[n][1].end.offset-t[n][1].start.offset?(h=2,u=Rn(u,[["enter",t[n][1],e],["exit",t[n][1],e]])):h=0,_n(t,r-1,n-r+3,u),n=r+u.length-h-2;break}}for(n=-1;++n<t.length;)t[n][1].type==="attentionSequence"&&(t[n][1].type="data");return t}function PF(t,e){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=Xo(r);let s;return o;function o(l){return s=l,t.enter("attentionSequence"),a(l)}function a(l){if(l===s)return t.consume(l),a;const u=t.exit("attentionSequence"),h=Xo(l),f=!h||h===2&&i||n.includes(l),p=!i||i===2&&h||n.includes(r);return u._open=!!(s===42?f:f&&(i||!p)),u._close=!!(s===42?p:p&&(h||!f)),e(l)}}function Kw(t,e){t.column+=e,t.offset+=e,t._bufferIndex+=e}const RF={name:"autolink",tokenize:jF};function jF(t,e,n){let r=0;return i;function i(g){return t.enter("autolink"),t.enter("autolinkMarker"),t.consume(g),t.exit("autolinkMarker"),t.enter("autolinkProtocol"),s}function s(g){return Zt(g)?(t.consume(g),o):g===64?n(g):u(g)}function o(g){return g===43||g===45||g===46||Ut(g)?(r=1,a(g)):u(g)}function a(g){return g===58?(t.consume(g),r=0,l):(g===43||g===45||g===46||Ut(g))&&r++<32?(t.consume(g),a):(r=0,u(g))}function l(g){return g===62?(t.exit("autolinkProtocol"),t.enter("autolinkMarker"),t.consume(g),t.exit("autolinkMarker"),t.exit("autolink"),e):g===null||g===32||g===60||Ph(g)?n(g):(t.consume(g),l)}function u(g){return g===64?(t.consume(g),h):EF(g)?(t.consume(g),u):n(g)}function h(g){return Ut(g)?f(g):n(g)}function f(g){return g===46?(t.consume(g),r=0,h):g===62?(t.exit("autolinkProtocol").type="autolinkEmail",t.enter("autolinkMarker"),t.consume(g),t.exit("autolinkMarker"),t.exit("autolink"),e):p(g)}function p(g){if((g===45||Ut(g))&&r++<63){const w=g===45?p:f;return t.consume(g),w}return n(g)}}const mu={partial:!0,tokenize:DF};function DF(t,e,n){return r;function r(s){return ke(s)?Pe(t,i,"linePrefix")(s):i(s)}function i(s){return s===null||ue(s)?e(s):n(s)}}const hT={continuation:{tokenize:LF},exit:MF,name:"blockQuote",tokenize:OF};function OF(t,e,n){const r=this;return i;function i(o){if(o===62){const a=r.containerState;return a.open||(t.enter("blockQuote",{_container:!0}),a.open=!0),t.enter("blockQuotePrefix"),t.enter("blockQuoteMarker"),t.consume(o),t.exit("blockQuoteMarker"),s}return n(o)}function s(o){return ke(o)?(t.enter("blockQuotePrefixWhitespace"),t.consume(o),t.exit("blockQuotePrefixWhitespace"),t.exit("blockQuotePrefix"),e):(t.exit("blockQuotePrefix"),e(o))}}function LF(t,e,n){const r=this;return i;function i(o){return ke(o)?Pe(t,s,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o):s(o)}function s(o){return t.attempt(hT,e,n)(o)}}function MF(t){t.exit("blockQuote")}const dT={name:"characterEscape",tokenize:FF};function FF(t,e,n){return r;function r(s){return t.enter("characterEscape"),t.enter("escapeMarker"),t.consume(s),t.exit("escapeMarker"),i}function i(s){return kF(s)?(t.enter("characterEscapeValue"),t.consume(s),t.exit("characterEscapeValue"),t.exit("characterEscape"),e):n(s)}}const fT={name:"characterReference",tokenize:VF};function VF(t,e,n){const r=this;let i=0,s,o;return a;function a(f){return t.enter("characterReference"),t.enter("characterReferenceMarker"),t.consume(f),t.exit("characterReferenceMarker"),l}function l(f){return f===35?(t.enter("characterReferenceMarkerNumeric"),t.consume(f),t.exit("characterReferenceMarkerNumeric"),u):(t.enter("characterReferenceValue"),s=31,o=Ut,h(f))}function u(f){return f===88||f===120?(t.enter("characterReferenceMarkerHexadecimal"),t.consume(f),t.exit("characterReferenceMarkerHexadecimal"),t.enter("characterReferenceValue"),s=6,o=bF,h):(t.enter("characterReferenceValue"),s=7,o=xm,h(f))}function h(f){if(f===59&&i){const p=t.exit("characterReferenceValue");return o===Ut&&!Ny(r.sliceSerialize(p))?n(f):(t.enter("characterReferenceMarker"),t.consume(f),t.exit("characterReferenceMarker"),t.exit("characterReference"),e)}return o(f)&&i++<s?(t.consume(f),h):n(f)}}const Qw={partial:!0,tokenize:UF},Yw={concrete:!0,name:"codeFenced",tokenize:zF};function zF(t,e,n){const r=this,i={partial:!0,tokenize:O};let s=0,o=0,a;return l;function l(A){return u(A)}function u(A){const k=r.events[r.events.length-1];return s=k&&k[1].type==="linePrefix"?k[2].sliceSerialize(k[1],!0).length:0,a=A,t.enter("codeFenced"),t.enter("codeFencedFence"),t.enter("codeFencedFenceSequence"),h(A)}function h(A){return A===a?(o++,t.consume(A),h):o<3?n(A):(t.exit("codeFencedFenceSequence"),ke(A)?Pe(t,f,"whitespace")(A):f(A))}function f(A){return A===null||ue(A)?(t.exit("codeFencedFence"),r.interrupt?e(A):t.check(Qw,T,N)(A)):(t.enter("codeFencedFenceInfo"),t.enter("chunkString",{contentType:"string"}),p(A))}function p(A){return A===null||ue(A)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),f(A)):ke(A)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),Pe(t,g,"whitespace")(A)):A===96&&A===a?n(A):(t.consume(A),p)}function g(A){return A===null||ue(A)?f(A):(t.enter("codeFencedFenceMeta"),t.enter("chunkString",{contentType:"string"}),w(A))}function w(A){return A===null||ue(A)?(t.exit("chunkString"),t.exit("codeFencedFenceMeta"),f(A)):A===96&&A===a?n(A):(t.consume(A),w)}function T(A){return t.attempt(i,N,I)(A)}function I(A){return t.enter("lineEnding"),t.consume(A),t.exit("lineEnding"),_}function _(A){return s>0&&ke(A)?Pe(t,v,"linePrefix",s+1)(A):v(A)}function v(A){return A===null||ue(A)?t.check(Qw,T,N)(A):(t.enter("codeFlowValue"),x(A))}function x(A){return A===null||ue(A)?(t.exit("codeFlowValue"),v(A)):(t.consume(A),x)}function N(A){return t.exit("codeFenced"),e(A)}function O(A,k,b){let S=0;return E;function E(G){return A.enter("lineEnding"),A.consume(G),A.exit("lineEnding"),j}function j(G){return A.enter("codeFencedFence"),ke(G)?Pe(A,D,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(G):D(G)}function D(G){return G===a?(A.enter("codeFencedFenceSequence"),P(G)):b(G)}function P(G){return G===a?(S++,A.consume(G),P):S>=o?(A.exit("codeFencedFenceSequence"),ke(G)?Pe(A,q,"whitespace")(G):q(G)):b(G)}function q(G){return G===null||ue(G)?(A.exit("codeFencedFence"),k(G)):b(G)}}}function UF(t,e,n){const r=this;return i;function i(o){return o===null?n(o):(t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),s)}function s(o){return r.parser.lazy[r.now().line]?n(o):e(o)}}const Af={name:"codeIndented",tokenize:BF},$F={partial:!0,tokenize:HF};function BF(t,e,n){const r=this;return i;function i(u){return t.enter("codeIndented"),Pe(t,s,"linePrefix",5)(u)}function s(u){const h=r.events[r.events.length-1];return h&&h[1].type==="linePrefix"&&h[2].sliceSerialize(h[1],!0).length>=4?o(u):n(u)}function o(u){return u===null?l(u):ue(u)?t.attempt($F,o,l)(u):(t.enter("codeFlowValue"),a(u))}function a(u){return u===null||ue(u)?(t.exit("codeFlowValue"),o(u)):(t.consume(u),a)}function l(u){return t.exit("codeIndented"),e(u)}}function HF(t,e,n){const r=this;return i;function i(o){return r.parser.lazy[r.now().line]?n(o):ue(o)?(t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),i):Pe(t,s,"linePrefix",5)(o)}function s(o){const a=r.events[r.events.length-1];return a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?e(o):ue(o)?i(o):n(o)}}const qF={name:"codeText",previous:GF,resolve:WF,tokenize:KF};function WF(t){let e=t.length-4,n=3,r,i;if((t[n][1].type==="lineEnding"||t[n][1].type==="space")&&(t[e][1].type==="lineEnding"||t[e][1].type==="space")){for(r=n;++r<e;)if(t[r][1].type==="codeTextData"){t[n][1].type="codeTextPadding",t[e][1].type="codeTextPadding",n+=2,e-=2;break}}for(r=n-1,e++;++r<=e;)i===void 0?r!==e&&t[r][1].type!=="lineEnding"&&(i=r):(r===e||t[r][1].type==="lineEnding")&&(t[i][1].type="codeTextData",r!==i+2&&(t[i][1].end=t[r-1][1].end,t.splice(i+2,r-i-2),e-=r-i-2,r=i+2),i=void 0);return t}function GF(t){return t!==96||this.events[this.events.length-1][1].type==="characterEscape"}function KF(t,e,n){let r=0,i,s;return o;function o(f){return t.enter("codeText"),t.enter("codeTextSequence"),a(f)}function a(f){return f===96?(t.consume(f),r++,a):(t.exit("codeTextSequence"),l(f))}function l(f){return f===null?n(f):f===32?(t.enter("space"),t.consume(f),t.exit("space"),l):f===96?(s=t.enter("codeTextSequence"),i=0,h(f)):ue(f)?(t.enter("lineEnding"),t.consume(f),t.exit("lineEnding"),l):(t.enter("codeTextData"),u(f))}function u(f){return f===null||f===32||f===96||ue(f)?(t.exit("codeTextData"),l(f)):(t.consume(f),u)}function h(f){return f===96?(t.consume(f),i++,h):i===r?(t.exit("codeTextSequence"),t.exit("codeText"),e(f)):(s.type="codeTextData",u(f))}}class QF{constructor(e){this.left=e?[...e]:[],this.right=[]}get(e){if(e<0||e>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+e+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return e<this.left.length?this.left[e]:this.right[this.right.length-e+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(e,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(e,r):e>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-e+this.left.length).reverse():this.left.slice(e).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(e,n,r){const i=n||0;this.setCursor(Math.trunc(e));const s=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return r&&Oa(this.left,r),s.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(e){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(e)}pushMany(e){this.setCursor(Number.POSITIVE_INFINITY),Oa(this.left,e)}unshift(e){this.setCursor(0),this.right.push(e)}unshiftMany(e){this.setCursor(0),Oa(this.right,e.reverse())}setCursor(e){if(!(e===this.left.length||e>this.left.length&&this.right.length===0||e<0&&this.left.length===0))if(e<this.left.length){const n=this.left.splice(e,Number.POSITIVE_INFINITY);Oa(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-e,Number.POSITIVE_INFINITY);Oa(this.left,n.reverse())}}}function Oa(t,e){let n=0;if(e.length<1e4)t.push(...e);else for(;n<e.length;)t.push(...e.slice(n,n+1e4)),n+=1e4}function pT(t){const e={};let n=-1,r,i,s,o,a,l,u;const h=new QF(t);for(;++n<h.length;){for(;n in e;)n=e[n];if(r=h.get(n),n&&r[1].type==="chunkFlow"&&h.get(n-1)[1].type==="listItemPrefix"&&(l=r[1]._tokenizer.events,s=0,s<l.length&&l[s][1].type==="lineEndingBlank"&&(s+=2),s<l.length&&l[s][1].type==="content"))for(;++s<l.length&&l[s][1].type!=="content";)l[s][1].type==="chunkText"&&(l[s][1]._isInFirstContentOfListItem=!0,s++);if(r[0]==="enter")r[1].contentType&&(Object.assign(e,YF(h,n)),n=e[n],u=!0);else if(r[1]._container){for(s=n,i=void 0;s--;)if(o=h.get(s),o[1].type==="lineEnding"||o[1].type==="lineEndingBlank")o[0]==="enter"&&(i&&(h.get(i)[1].type="lineEndingBlank"),o[1].type="lineEnding",i=s);else if(!(o[1].type==="linePrefix"||o[1].type==="listItemIndent"))break;i&&(r[1].end={...h.get(i)[1].start},a=h.slice(i,n),a.unshift(r),h.splice(i,n-i+1,a))}}return _n(t,0,Number.POSITIVE_INFINITY,h.slice(0)),!u}function YF(t,e){const n=t.get(e)[1],r=t.get(e)[2];let i=e-1;const s=[];let o=n._tokenizer;o||(o=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(o._contentTypeTextTrailing=!0));const a=o.events,l=[],u={};let h,f,p=-1,g=n,w=0,T=0;const I=[T];for(;g;){for(;t.get(++i)[1]!==g;);s.push(i),g._tokenizer||(h=r.sliceStream(g),g.next||h.push(null),f&&o.defineSkip(g.start),g._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=!0),o.write(h),g._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=void 0)),f=g,g=g.next}for(g=n;++p<a.length;)a[p][0]==="exit"&&a[p-1][0]==="enter"&&a[p][1].type===a[p-1][1].type&&a[p][1].start.line!==a[p][1].end.line&&(T=p+1,I.push(T),g._tokenizer=void 0,g.previous=void 0,g=g.next);for(o.events=[],g?(g._tokenizer=void 0,g.previous=void 0):I.pop(),p=I.length;p--;){const _=a.slice(I[p],I[p+1]),v=s.pop();l.push([v,v+_.length-1]),t.splice(v,2,_)}for(l.reverse(),p=-1;++p<l.length;)u[w+l[p][0]]=w+l[p][1],w+=l[p][1]-l[p][0]-1;return u}const JF={resolve:ZF,tokenize:e6},XF={partial:!0,tokenize:t6};function ZF(t){return pT(t),t}function e6(t,e){let n;return r;function r(a){return t.enter("content"),n=t.enter("chunkContent",{contentType:"content"}),i(a)}function i(a){return a===null?s(a):ue(a)?t.check(XF,o,s)(a):(t.consume(a),i)}function s(a){return t.exit("chunkContent"),t.exit("content"),e(a)}function o(a){return t.consume(a),t.exit("chunkContent"),n.next=t.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function t6(t,e,n){const r=this;return i;function i(o){return t.exit("chunkContent"),t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),Pe(t,s,"linePrefix")}function s(o){if(o===null||ue(o))return n(o);const a=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?e(o):t.interrupt(r.parser.constructs.flow,n,e)(o)}}function mT(t,e,n,r,i,s,o,a,l){const u=l||Number.POSITIVE_INFINITY;let h=0;return f;function f(_){return _===60?(t.enter(r),t.enter(i),t.enter(s),t.consume(_),t.exit(s),p):_===null||_===32||_===41||Ph(_)?n(_):(t.enter(r),t.enter(o),t.enter(a),t.enter("chunkString",{contentType:"string"}),T(_))}function p(_){return _===62?(t.enter(s),t.consume(_),t.exit(s),t.exit(i),t.exit(r),e):(t.enter(a),t.enter("chunkString",{contentType:"string"}),g(_))}function g(_){return _===62?(t.exit("chunkString"),t.exit(a),p(_)):_===null||_===60||ue(_)?n(_):(t.consume(_),_===92?w:g)}function w(_){return _===60||_===62||_===92?(t.consume(_),g):g(_)}function T(_){return!h&&(_===null||_===41||Ue(_))?(t.exit("chunkString"),t.exit(a),t.exit(o),t.exit(r),e(_)):h<u&&_===40?(t.consume(_),h++,T):_===41?(t.consume(_),h--,T):_===null||_===32||_===40||Ph(_)?n(_):(t.consume(_),_===92?I:T)}function I(_){return _===40||_===41||_===92?(t.consume(_),T):T(_)}}function gT(t,e,n,r,i,s){const o=this;let a=0,l;return u;function u(g){return t.enter(r),t.enter(i),t.consume(g),t.exit(i),t.enter(s),h}function h(g){return a>999||g===null||g===91||g===93&&!l||g===94&&!a&&"_hiddenFootnoteSupport"in o.parser.constructs?n(g):g===93?(t.exit(s),t.enter(i),t.consume(g),t.exit(i),t.exit(r),e):ue(g)?(t.enter("lineEnding"),t.consume(g),t.exit("lineEnding"),h):(t.enter("chunkString",{contentType:"string"}),f(g))}function f(g){return g===null||g===91||g===93||ue(g)||a++>999?(t.exit("chunkString"),h(g)):(t.consume(g),l||(l=!ke(g)),g===92?p:f)}function p(g){return g===91||g===92||g===93?(t.consume(g),a++,f):f(g)}}function yT(t,e,n,r,i,s){let o;return a;function a(p){return p===34||p===39||p===40?(t.enter(r),t.enter(i),t.consume(p),t.exit(i),o=p===40?41:p,l):n(p)}function l(p){return p===o?(t.enter(i),t.consume(p),t.exit(i),t.exit(r),e):(t.enter(s),u(p))}function u(p){return p===o?(t.exit(s),l(o)):p===null?n(p):ue(p)?(t.enter("lineEnding"),t.consume(p),t.exit("lineEnding"),Pe(t,u,"linePrefix")):(t.enter("chunkString",{contentType:"string"}),h(p))}function h(p){return p===o||p===null||ue(p)?(t.exit("chunkString"),u(p)):(t.consume(p),p===92?f:h)}function f(p){return p===o||p===92?(t.consume(p),h):h(p)}}function pl(t,e){let n;return r;function r(i){return ue(i)?(t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),n=!0,r):ke(i)?Pe(t,r,n?"linePrefix":"lineSuffix")(i):e(i)}}const n6={name:"definition",tokenize:i6},r6={partial:!0,tokenize:s6};function i6(t,e,n){const r=this;let i;return s;function s(g){return t.enter("definition"),o(g)}function o(g){return gT.call(r,t,a,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(g)}function a(g){return i=Zn(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),g===58?(t.enter("definitionMarker"),t.consume(g),t.exit("definitionMarker"),l):n(g)}function l(g){return Ue(g)?pl(t,u)(g):u(g)}function u(g){return mT(t,h,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(g)}function h(g){return t.attempt(r6,f,f)(g)}function f(g){return ke(g)?Pe(t,p,"whitespace")(g):p(g)}function p(g){return g===null||ue(g)?(t.exit("definition"),r.parser.defined.push(i),e(g)):n(g)}}function s6(t,e,n){return r;function r(a){return Ue(a)?pl(t,i)(a):n(a)}function i(a){return yT(t,s,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(a)}function s(a){return ke(a)?Pe(t,o,"whitespace")(a):o(a)}function o(a){return a===null||ue(a)?e(a):n(a)}}const o6={name:"hardBreakEscape",tokenize:a6};function a6(t,e,n){return r;function r(s){return t.enter("hardBreakEscape"),t.consume(s),i}function i(s){return ue(s)?(t.exit("hardBreakEscape"),e(s)):n(s)}}const l6={name:"headingAtx",resolve:u6,tokenize:c6};function u6(t,e){let n=t.length-2,r=3,i,s;return t[r][1].type==="whitespace"&&(r+=2),n-2>r&&t[n][1].type==="whitespace"&&(n-=2),t[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&t[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:t[r][1].start,end:t[n][1].end},s={type:"chunkText",start:t[r][1].start,end:t[n][1].end,contentType:"text"},_n(t,r,n-r+1,[["enter",i,e],["enter",s,e],["exit",s,e],["exit",i,e]])),t}function c6(t,e,n){let r=0;return i;function i(h){return t.enter("atxHeading"),s(h)}function s(h){return t.enter("atxHeadingSequence"),o(h)}function o(h){return h===35&&r++<6?(t.consume(h),o):h===null||Ue(h)?(t.exit("atxHeadingSequence"),a(h)):n(h)}function a(h){return h===35?(t.enter("atxHeadingSequence"),l(h)):h===null||ue(h)?(t.exit("atxHeading"),e(h)):ke(h)?Pe(t,a,"whitespace")(h):(t.enter("atxHeadingText"),u(h))}function l(h){return h===35?(t.consume(h),l):(t.exit("atxHeadingSequence"),a(h))}function u(h){return h===null||h===35||Ue(h)?(t.exit("atxHeadingText"),a(h)):(t.consume(h),u)}}const h6=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],Jw=["pre","script","style","textarea"],d6={concrete:!0,name:"htmlFlow",resolveTo:m6,tokenize:g6},f6={partial:!0,tokenize:v6},p6={partial:!0,tokenize:y6};function m6(t){let e=t.length;for(;e--&&!(t[e][0]==="enter"&&t[e][1].type==="htmlFlow"););return e>1&&t[e-2][1].type==="linePrefix"&&(t[e][1].start=t[e-2][1].start,t[e+1][1].start=t[e-2][1].start,t.splice(e-2,2)),t}function g6(t,e,n){const r=this;let i,s,o,a,l;return u;function u(L){return h(L)}function h(L){return t.enter("htmlFlow"),t.enter("htmlFlowData"),t.consume(L),f}function f(L){return L===33?(t.consume(L),p):L===47?(t.consume(L),s=!0,T):L===63?(t.consume(L),i=3,r.interrupt?e:R):Zt(L)?(t.consume(L),o=String.fromCharCode(L),I):n(L)}function p(L){return L===45?(t.consume(L),i=2,g):L===91?(t.consume(L),i=5,a=0,w):Zt(L)?(t.consume(L),i=4,r.interrupt?e:R):n(L)}function g(L){return L===45?(t.consume(L),r.interrupt?e:R):n(L)}function w(L){const ge="CDATA[";return L===ge.charCodeAt(a++)?(t.consume(L),a===ge.length?r.interrupt?e:D:w):n(L)}function T(L){return Zt(L)?(t.consume(L),o=String.fromCharCode(L),I):n(L)}function I(L){if(L===null||L===47||L===62||Ue(L)){const ge=L===47,Ae=o.toLowerCase();return!ge&&!s&&Jw.includes(Ae)?(i=1,r.interrupt?e(L):D(L)):h6.includes(o.toLowerCase())?(i=6,ge?(t.consume(L),_):r.interrupt?e(L):D(L)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(L):s?v(L):x(L))}return L===45||Ut(L)?(t.consume(L),o+=String.fromCharCode(L),I):n(L)}function _(L){return L===62?(t.consume(L),r.interrupt?e:D):n(L)}function v(L){return ke(L)?(t.consume(L),v):E(L)}function x(L){return L===47?(t.consume(L),E):L===58||L===95||Zt(L)?(t.consume(L),N):ke(L)?(t.consume(L),x):E(L)}function N(L){return L===45||L===46||L===58||L===95||Ut(L)?(t.consume(L),N):O(L)}function O(L){return L===61?(t.consume(L),A):ke(L)?(t.consume(L),O):x(L)}function A(L){return L===null||L===60||L===61||L===62||L===96?n(L):L===34||L===39?(t.consume(L),l=L,k):ke(L)?(t.consume(L),A):b(L)}function k(L){return L===l?(t.consume(L),l=null,S):L===null||ue(L)?n(L):(t.consume(L),k)}function b(L){return L===null||L===34||L===39||L===47||L===60||L===61||L===62||L===96||Ue(L)?O(L):(t.consume(L),b)}function S(L){return L===47||L===62||ke(L)?x(L):n(L)}function E(L){return L===62?(t.consume(L),j):n(L)}function j(L){return L===null||ue(L)?D(L):ke(L)?(t.consume(L),j):n(L)}function D(L){return L===45&&i===2?(t.consume(L),le):L===60&&i===1?(t.consume(L),se):L===62&&i===4?(t.consume(L),J):L===63&&i===3?(t.consume(L),R):L===93&&i===5?(t.consume(L),Y):ue(L)&&(i===6||i===7)?(t.exit("htmlFlowData"),t.check(f6,ne,P)(L)):L===null||ue(L)?(t.exit("htmlFlowData"),P(L)):(t.consume(L),D)}function P(L){return t.check(p6,q,ne)(L)}function q(L){return t.enter("lineEnding"),t.consume(L),t.exit("lineEnding"),G}function G(L){return L===null||ue(L)?P(L):(t.enter("htmlFlowData"),D(L))}function le(L){return L===45?(t.consume(L),R):D(L)}function se(L){return L===47?(t.consume(L),o="",U):D(L)}function U(L){if(L===62){const ge=o.toLowerCase();return Jw.includes(ge)?(t.consume(L),J):D(L)}return Zt(L)&&o.length<8?(t.consume(L),o+=String.fromCharCode(L),U):D(L)}function Y(L){return L===93?(t.consume(L),R):D(L)}function R(L){return L===62?(t.consume(L),J):L===45&&i===2?(t.consume(L),R):D(L)}function J(L){return L===null||ue(L)?(t.exit("htmlFlowData"),ne(L)):(t.consume(L),J)}function ne(L){return t.exit("htmlFlow"),e(L)}}function y6(t,e,n){const r=this;return i;function i(o){return ue(o)?(t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),s):n(o)}function s(o){return r.parser.lazy[r.now().line]?n(o):e(o)}}function v6(t,e,n){return r;function r(i){return t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),t.attempt(mu,e,n)}}const x6={name:"htmlText",tokenize:w6};function w6(t,e,n){const r=this;let i,s,o;return a;function a(R){return t.enter("htmlText"),t.enter("htmlTextData"),t.consume(R),l}function l(R){return R===33?(t.consume(R),u):R===47?(t.consume(R),O):R===63?(t.consume(R),x):Zt(R)?(t.consume(R),b):n(R)}function u(R){return R===45?(t.consume(R),h):R===91?(t.consume(R),s=0,w):Zt(R)?(t.consume(R),v):n(R)}function h(R){return R===45?(t.consume(R),g):n(R)}function f(R){return R===null?n(R):R===45?(t.consume(R),p):ue(R)?(o=f,se(R)):(t.consume(R),f)}function p(R){return R===45?(t.consume(R),g):f(R)}function g(R){return R===62?le(R):R===45?p(R):f(R)}function w(R){const J="CDATA[";return R===J.charCodeAt(s++)?(t.consume(R),s===J.length?T:w):n(R)}function T(R){return R===null?n(R):R===93?(t.consume(R),I):ue(R)?(o=T,se(R)):(t.consume(R),T)}function I(R){return R===93?(t.consume(R),_):T(R)}function _(R){return R===62?le(R):R===93?(t.consume(R),_):T(R)}function v(R){return R===null||R===62?le(R):ue(R)?(o=v,se(R)):(t.consume(R),v)}function x(R){return R===null?n(R):R===63?(t.consume(R),N):ue(R)?(o=x,se(R)):(t.consume(R),x)}function N(R){return R===62?le(R):x(R)}function O(R){return Zt(R)?(t.consume(R),A):n(R)}function A(R){return R===45||Ut(R)?(t.consume(R),A):k(R)}function k(R){return ue(R)?(o=k,se(R)):ke(R)?(t.consume(R),k):le(R)}function b(R){return R===45||Ut(R)?(t.consume(R),b):R===47||R===62||Ue(R)?S(R):n(R)}function S(R){return R===47?(t.consume(R),le):R===58||R===95||Zt(R)?(t.consume(R),E):ue(R)?(o=S,se(R)):ke(R)?(t.consume(R),S):le(R)}function E(R){return R===45||R===46||R===58||R===95||Ut(R)?(t.consume(R),E):j(R)}function j(R){return R===61?(t.consume(R),D):ue(R)?(o=j,se(R)):ke(R)?(t.consume(R),j):S(R)}function D(R){return R===null||R===60||R===61||R===62||R===96?n(R):R===34||R===39?(t.consume(R),i=R,P):ue(R)?(o=D,se(R)):ke(R)?(t.consume(R),D):(t.consume(R),q)}function P(R){return R===i?(t.consume(R),i=void 0,G):R===null?n(R):ue(R)?(o=P,se(R)):(t.consume(R),P)}function q(R){return R===null||R===34||R===39||R===60||R===61||R===96?n(R):R===47||R===62||Ue(R)?S(R):(t.consume(R),q)}function G(R){return R===47||R===62||Ue(R)?S(R):n(R)}function le(R){return R===62?(t.consume(R),t.exit("htmlTextData"),t.exit("htmlText"),e):n(R)}function se(R){return t.exit("htmlTextData"),t.enter("lineEnding"),t.consume(R),t.exit("lineEnding"),U}function U(R){return ke(R)?Pe(t,Y,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(R):Y(R)}function Y(R){return t.enter("htmlTextData"),o(R)}}const Py={name:"labelEnd",resolveAll:k6,resolveTo:S6,tokenize:T6},_6={tokenize:I6},E6={tokenize:C6},b6={tokenize:A6};function k6(t){let e=-1;const n=[];for(;++e<t.length;){const r=t[e][1];if(n.push(t[e]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const i=r.type==="labelImage"?4:2;r.type="data",e+=i}}return t.length!==n.length&&_n(t,0,t.length,n),t}function S6(t,e){let n=t.length,r=0,i,s,o,a;for(;n--;)if(i=t[n][1],s){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;t[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(o){if(t[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(s=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(o=n);const l={type:t[s][1].type==="labelLink"?"link":"image",start:{...t[s][1].start},end:{...t[t.length-1][1].end}},u={type:"label",start:{...t[s][1].start},end:{...t[o][1].end}},h={type:"labelText",start:{...t[s+r+2][1].end},end:{...t[o-2][1].start}};return a=[["enter",l,e],["enter",u,e]],a=Rn(a,t.slice(s+1,s+r+3)),a=Rn(a,[["enter",h,e]]),a=Rn(a,Td(e.parser.constructs.insideSpan.null,t.slice(s+r+4,o-3),e)),a=Rn(a,[["exit",h,e],t[o-2],t[o-1],["exit",u,e]]),a=Rn(a,t.slice(o+1)),a=Rn(a,[["exit",l,e]]),_n(t,s,t.length,a),t}function T6(t,e,n){const r=this;let i=r.events.length,s,o;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){s=r.events[i][1];break}return a;function a(p){return s?s._inactive?f(p):(o=r.parser.defined.includes(Zn(r.sliceSerialize({start:s.end,end:r.now()}))),t.enter("labelEnd"),t.enter("labelMarker"),t.consume(p),t.exit("labelMarker"),t.exit("labelEnd"),l):n(p)}function l(p){return p===40?t.attempt(_6,h,o?h:f)(p):p===91?t.attempt(E6,h,o?u:f)(p):o?h(p):f(p)}function u(p){return t.attempt(b6,h,f)(p)}function h(p){return e(p)}function f(p){return s._balanced=!0,n(p)}}function I6(t,e,n){return r;function r(f){return t.enter("resource"),t.enter("resourceMarker"),t.consume(f),t.exit("resourceMarker"),i}function i(f){return Ue(f)?pl(t,s)(f):s(f)}function s(f){return f===41?h(f):mT(t,o,a,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(f)}function o(f){return Ue(f)?pl(t,l)(f):h(f)}function a(f){return n(f)}function l(f){return f===34||f===39||f===40?yT(t,u,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(f):h(f)}function u(f){return Ue(f)?pl(t,h)(f):h(f)}function h(f){return f===41?(t.enter("resourceMarker"),t.consume(f),t.exit("resourceMarker"),t.exit("resource"),e):n(f)}}function C6(t,e,n){const r=this;return i;function i(a){return gT.call(r,t,s,o,"reference","referenceMarker","referenceString")(a)}function s(a){return r.parser.defined.includes(Zn(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?e(a):n(a)}function o(a){return n(a)}}function A6(t,e,n){return r;function r(s){return t.enter("reference"),t.enter("referenceMarker"),t.consume(s),t.exit("referenceMarker"),i}function i(s){return s===93?(t.enter("referenceMarker"),t.consume(s),t.exit("referenceMarker"),t.exit("reference"),e):n(s)}}const N6={name:"labelStartImage",resolveAll:Py.resolveAll,tokenize:P6};function P6(t,e,n){const r=this;return i;function i(a){return t.enter("labelImage"),t.enter("labelImageMarker"),t.consume(a),t.exit("labelImageMarker"),s}function s(a){return a===91?(t.enter("labelMarker"),t.consume(a),t.exit("labelMarker"),t.exit("labelImage"),o):n(a)}function o(a){return a===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(a):e(a)}}const R6={name:"labelStartLink",resolveAll:Py.resolveAll,tokenize:j6};function j6(t,e,n){const r=this;return i;function i(o){return t.enter("labelLink"),t.enter("labelMarker"),t.consume(o),t.exit("labelMarker"),t.exit("labelLink"),s}function s(o){return o===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(o):e(o)}}const Nf={name:"lineEnding",tokenize:D6};function D6(t,e){return n;function n(r){return t.enter("lineEnding"),t.consume(r),t.exit("lineEnding"),Pe(t,e,"linePrefix")}}const jc={name:"thematicBreak",tokenize:O6};function O6(t,e,n){let r=0,i;return s;function s(u){return t.enter("thematicBreak"),o(u)}function o(u){return i=u,a(u)}function a(u){return u===i?(t.enter("thematicBreakSequence"),l(u)):r>=3&&(u===null||ue(u))?(t.exit("thematicBreak"),e(u)):n(u)}function l(u){return u===i?(t.consume(u),r++,l):(t.exit("thematicBreakSequence"),ke(u)?Pe(t,a,"whitespace")(u):a(u))}}const sn={continuation:{tokenize:V6},exit:U6,name:"list",tokenize:F6},L6={partial:!0,tokenize:$6},M6={partial:!0,tokenize:z6};function F6(t,e,n){const r=this,i=r.events[r.events.length-1];let s=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,o=0;return a;function a(g){const w=r.containerState.type||(g===42||g===43||g===45?"listUnordered":"listOrdered");if(w==="listUnordered"?!r.containerState.marker||g===r.containerState.marker:xm(g)){if(r.containerState.type||(r.containerState.type=w,t.enter(w,{_container:!0})),w==="listUnordered")return t.enter("listItemPrefix"),g===42||g===45?t.check(jc,n,u)(g):u(g);if(!r.interrupt||g===49)return t.enter("listItemPrefix"),t.enter("listItemValue"),l(g)}return n(g)}function l(g){return xm(g)&&++o<10?(t.consume(g),l):(!r.interrupt||o<2)&&(r.containerState.marker?g===r.containerState.marker:g===41||g===46)?(t.exit("listItemValue"),u(g)):n(g)}function u(g){return t.enter("listItemMarker"),t.consume(g),t.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||g,t.check(mu,r.interrupt?n:h,t.attempt(L6,p,f))}function h(g){return r.containerState.initialBlankLine=!0,s++,p(g)}function f(g){return ke(g)?(t.enter("listItemPrefixWhitespace"),t.consume(g),t.exit("listItemPrefixWhitespace"),p):n(g)}function p(g){return r.containerState.size=s+r.sliceSerialize(t.exit("listItemPrefix"),!0).length,e(g)}}function V6(t,e,n){const r=this;return r.containerState._closeFlow=void 0,t.check(mu,i,s);function i(a){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,Pe(t,e,"listItemIndent",r.containerState.size+1)(a)}function s(a){return r.containerState.furtherBlankLines||!ke(a)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,o(a)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,t.attempt(M6,e,o)(a))}function o(a){return r.containerState._closeFlow=!0,r.interrupt=void 0,Pe(t,t.attempt(sn,e,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(a)}}function z6(t,e,n){const r=this;return Pe(t,i,"listItemIndent",r.containerState.size+1);function i(s){const o=r.events[r.events.length-1];return o&&o[1].type==="listItemIndent"&&o[2].sliceSerialize(o[1],!0).length===r.containerState.size?e(s):n(s)}}function U6(t){t.exit(this.containerState.type)}function $6(t,e,n){const r=this;return Pe(t,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(s){const o=r.events[r.events.length-1];return!ke(s)&&o&&o[1].type==="listItemPrefixWhitespace"?e(s):n(s)}}const Xw={name:"setextUnderline",resolveTo:B6,tokenize:H6};function B6(t,e){let n=t.length,r,i,s;for(;n--;)if(t[n][0]==="enter"){if(t[n][1].type==="content"){r=n;break}t[n][1].type==="paragraph"&&(i=n)}else t[n][1].type==="content"&&t.splice(n,1),!s&&t[n][1].type==="definition"&&(s=n);const o={type:"setextHeading",start:{...t[r][1].start},end:{...t[t.length-1][1].end}};return t[i][1].type="setextHeadingText",s?(t.splice(i,0,["enter",o,e]),t.splice(s+1,0,["exit",t[r][1],e]),t[r][1].end={...t[s][1].end}):t[r][1]=o,t.push(["exit",o,e]),t}function H6(t,e,n){const r=this;let i;return s;function s(u){let h=r.events.length,f;for(;h--;)if(r.events[h][1].type!=="lineEnding"&&r.events[h][1].type!=="linePrefix"&&r.events[h][1].type!=="content"){f=r.events[h][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||f)?(t.enter("setextHeadingLine"),i=u,o(u)):n(u)}function o(u){return t.enter("setextHeadingLineSequence"),a(u)}function a(u){return u===i?(t.consume(u),a):(t.exit("setextHeadingLineSequence"),ke(u)?Pe(t,l,"lineSuffix")(u):l(u))}function l(u){return u===null||ue(u)?(t.exit("setextHeadingLine"),e(u)):n(u)}}const q6={tokenize:W6};function W6(t){const e=this,n=t.attempt(mu,r,t.attempt(this.parser.constructs.flowInitial,i,Pe(t,t.attempt(this.parser.constructs.flow,i,t.attempt(JF,i)),"linePrefix")));return n;function r(s){if(s===null){t.consume(s);return}return t.enter("lineEndingBlank"),t.consume(s),t.exit("lineEndingBlank"),e.currentConstruct=void 0,n}function i(s){if(s===null){t.consume(s);return}return t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),e.currentConstruct=void 0,n}}const G6={resolveAll:xT()},K6=vT("string"),Q6=vT("text");function vT(t){return{resolveAll:xT(t==="text"?Y6:void 0),tokenize:e};function e(n){const r=this,i=this.parser.constructs[t],s=n.attempt(i,o,a);return o;function o(h){return u(h)?s(h):a(h)}function a(h){if(h===null){n.consume(h);return}return n.enter("data"),n.consume(h),l}function l(h){return u(h)?(n.exit("data"),s(h)):(n.consume(h),l)}function u(h){if(h===null)return!0;const f=i[h];let p=-1;if(f)for(;++p<f.length;){const g=f[p];if(!g.previous||g.previous.call(r,r.previous))return!0}return!1}}}function xT(t){return e;function e(n,r){let i=-1,s;for(;++i<=n.length;)s===void 0?n[i]&&n[i][1].type==="data"&&(s=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==s+2&&(n[s][1].end=n[i-1][1].end,n.splice(s+2,i-s-2),i=s+2),s=void 0);return t?t(n,r):n}}function Y6(t,e){let n=0;for(;++n<=t.length;)if((n===t.length||t[n][1].type==="lineEnding")&&t[n-1][1].type==="data"){const r=t[n-1][1],i=e.sliceStream(r);let s=i.length,o=-1,a=0,l;for(;s--;){const u=i[s];if(typeof u=="string"){for(o=u.length;u.charCodeAt(o-1)===32;)a++,o--;if(o)break;o=-1}else if(u===-2)l=!0,a++;else if(u!==-1){s++;break}}if(e._contentTypeTextTrailing&&n===t.length&&(a=0),a){const u={type:n===t.length||l||a<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:s?o:r.start._bufferIndex+o,_index:r.start._index+s,line:r.end.line,column:r.end.column-a,offset:r.end.offset-a},end:{...r.end}};r.end={...u.start},r.start.offset===r.end.offset?Object.assign(r,u):(t.splice(n,0,["enter",u,e],["exit",u,e]),n+=2)}n++}return t}const J6={42:sn,43:sn,45:sn,48:sn,49:sn,50:sn,51:sn,52:sn,53:sn,54:sn,55:sn,56:sn,57:sn,62:hT},X6={91:n6},Z6={[-2]:Af,[-1]:Af,32:Af},eV={35:l6,42:jc,45:[Xw,jc],60:d6,61:Xw,95:jc,96:Yw,126:Yw},tV={38:fT,92:dT},nV={[-5]:Nf,[-4]:Nf,[-3]:Nf,33:N6,38:fT,42:wm,60:[RF,x6],91:R6,92:[o6,dT],93:Py,95:wm,96:qF},rV={null:[wm,G6]},iV={null:[42,95]},sV={null:[]},oV=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:iV,contentInitial:X6,disable:sV,document:J6,flow:eV,flowInitial:Z6,insideSpan:rV,string:tV,text:nV},Symbol.toStringTag,{value:"Module"}));function aV(t,e,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const i={},s=[];let o=[],a=[];const l={attempt:k(O),check:k(A),consume:v,enter:x,exit:N,interrupt:k(A,{interrupt:!0})},u={code:null,containerState:{},defineSkip:T,events:[],now:w,parser:t,previous:null,sliceSerialize:p,sliceStream:g,write:f};let h=e.tokenize.call(u,l);return e.resolveAll&&s.push(e),u;function f(j){return o=Rn(o,j),I(),o[o.length-1]!==null?[]:(b(e,0),u.events=Td(s,u.events,u),u.events)}function p(j,D){return uV(g(j),D)}function g(j){return lV(o,j)}function w(){const{_bufferIndex:j,_index:D,line:P,column:q,offset:G}=r;return{_bufferIndex:j,_index:D,line:P,column:q,offset:G}}function T(j){i[j.line]=j.column,E()}function I(){let j;for(;r._index<o.length;){const D=o[r._index];if(typeof D=="string")for(j=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===j&&r._bufferIndex<D.length;)_(D.charCodeAt(r._bufferIndex));else _(D)}}function _(j){h=h(j)}function v(j){ue(j)?(r.line++,r.column=1,r.offset+=j===-3?2:1,E()):j!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===o[r._index].length&&(r._bufferIndex=-1,r._index++)),u.previous=j}function x(j,D){const P=D||{};return P.type=j,P.start=w(),u.events.push(["enter",P,u]),a.push(P),P}function N(j){const D=a.pop();return D.end=w(),u.events.push(["exit",D,u]),D}function O(j,D){b(j,D.from)}function A(j,D){D.restore()}function k(j,D){return P;function P(q,G,le){let se,U,Y,R;return Array.isArray(q)?ne(q):"tokenize"in q?ne([q]):J(q);function J(he){return X;function X(pe){const ve=pe!==null&&he[pe],be=pe!==null&&he.null,Me=[...Array.isArray(ve)?ve:ve?[ve]:[],...Array.isArray(be)?be:be?[be]:[]];return ne(Me)(pe)}}function ne(he){return se=he,U=0,he.length===0?le:L(he[U])}function L(he){return X;function X(pe){return R=S(),Y=he,he.partial||(u.currentConstruct=he),he.name&&u.parser.constructs.disable.null.includes(he.name)?Ae():he.tokenize.call(D?Object.assign(Object.create(u),D):u,l,ge,Ae)(pe)}}function ge(he){return j(Y,R),G}function Ae(he){return R.restore(),++U<se.length?L(se[U]):le}}}function b(j,D){j.resolveAll&&!s.includes(j)&&s.push(j),j.resolve&&_n(u.events,D,u.events.length-D,j.resolve(u.events.slice(D),u)),j.resolveTo&&(u.events=j.resolveTo(u.events,u))}function S(){const j=w(),D=u.previous,P=u.currentConstruct,q=u.events.length,G=Array.from(a);return{from:q,restore:le};function le(){r=j,u.previous=D,u.currentConstruct=P,u.events.length=q,a=G,E()}}function E(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function lV(t,e){const n=e.start._index,r=e.start._bufferIndex,i=e.end._index,s=e.end._bufferIndex;let o;if(n===i)o=[t[n].slice(r,s)];else{if(o=t.slice(n,i),r>-1){const a=o[0];typeof a=="string"?o[0]=a.slice(r):o.shift()}s>0&&o.push(t[i].slice(0,s))}return o}function uV(t,e){let n=-1;const r=[];let i;for(;++n<t.length;){const s=t[n];let o;if(typeof s=="string")o=s;else switch(s){case-5:{o="\r";break}case-4:{o=`
`;break}case-3:{o=`\r
`;break}case-2:{o=e?" ":"	";break}case-1:{if(!e&&i)continue;o=" ";break}default:o=String.fromCharCode(s)}i=s===-2,r.push(o)}return r.join("")}function cV(t){const r={constructs:uT([oV,...(t||{}).extensions||[]]),content:i(SF),defined:[],document:i(IF),flow:i(q6),lazy:{},string:i(K6),text:i(Q6)};return r;function i(s){return o;function o(a){return aV(r,s,a)}}}function hV(t){for(;!pT(t););return t}const Zw=/[\0\t\n\r]/g;function dV(){let t=1,e="",n=!0,r;return i;function i(s,o,a){const l=[];let u,h,f,p,g;for(s=e+(typeof s=="string"?s.toString():new TextDecoder(o||void 0).decode(s)),f=0,e="",n&&(s.charCodeAt(0)===65279&&f++,n=void 0);f<s.length;){if(Zw.lastIndex=f,u=Zw.exec(s),p=u&&u.index!==void 0?u.index:s.length,g=s.charCodeAt(p),!u){e=s.slice(f);break}if(g===10&&f===p&&r)l.push(-3),r=void 0;else switch(r&&(l.push(-5),r=void 0),f<p&&(l.push(s.slice(f,p)),t+=p-f),g){case 0:{l.push(65533),t++;break}case 9:{for(h=Math.ceil(t/4)*4,l.push(-2);t++<h;)l.push(-1);break}case 10:{l.push(-4),t=1;break}default:r=!0,t=1}f=p+1}return a&&(r&&l.push(-5),e&&l.push(e),l.push(null)),l}}const fV=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function pV(t){return t.replace(fV,mV)}function mV(t,e,n){if(e)return e;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),s=i===120||i===88;return cT(n.slice(s?2:1),s?16:10)}return Ny(n)||t}const wT={}.hasOwnProperty;function gV(t,e,n){return typeof e!="string"&&(n=e,e=void 0),yV(n)(hV(cV(n).document().write(dV()(t,e,!0))))}function yV(t){const e={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:s(Zi),autolinkProtocol:S,autolinkEmail:S,atxHeading:s(Gr),blockQuote:s(be),characterEscape:S,characterReference:S,codeFenced:s(Me),codeFencedFenceInfo:o,codeFencedFenceMeta:o,codeIndented:s(Me,o),codeText:s(pn,o),codeTextData:S,data:S,codeFlowValue:S,definition:s(Un),definitionDestinationString:o,definitionLabelString:o,definitionTitleString:o,emphasis:s(_r),hardBreakEscape:s(Kr),hardBreakTrailing:s(Kr),htmlFlow:s(Hs,o),htmlFlowData:S,htmlText:s(Hs,o),htmlTextData:S,image:s(Xi),label:o,link:s(Zi),listItem:s(qs),listItemValue:p,listOrdered:s($n,f),listUnordered:s($n),paragraph:s(pa),reference:L,referenceString:o,resourceDestinationString:o,resourceTitleString:o,setextHeading:s(Gr),strong:s(Qr),thematicBreak:s(Sn)},exit:{atxHeading:l(),atxHeadingSequence:O,autolink:l(),autolinkEmail:ve,autolinkProtocol:pe,blockQuote:l(),characterEscapeValue:E,characterReferenceMarkerHexadecimal:Ae,characterReferenceMarkerNumeric:Ae,characterReferenceValue:he,characterReference:X,codeFenced:l(I),codeFencedFence:T,codeFencedFenceInfo:g,codeFencedFenceMeta:w,codeFlowValue:E,codeIndented:l(_),codeText:l(G),codeTextData:E,data:E,definition:l(),definitionDestinationString:N,definitionLabelString:v,definitionTitleString:x,emphasis:l(),hardBreakEscape:l(D),hardBreakTrailing:l(D),htmlFlow:l(P),htmlFlowData:E,htmlText:l(q),htmlTextData:E,image:l(se),label:Y,labelText:U,lineEnding:j,link:l(le),listItem:l(),listOrdered:l(),listUnordered:l(),paragraph:l(),referenceString:ge,resourceDestinationString:R,resourceTitleString:J,resource:ne,setextHeading:l(b),setextHeadingLineSequence:k,setextHeadingText:A,strong:l(),thematicBreak:l()}};_T(e,(t||{}).mdastExtensions||[]);const n={};return r;function r(V){let W={type:"root",children:[]};const de={stack:[W],tokenStack:[],config:e,enter:a,exit:u,buffer:o,resume:h,data:n},xe=[];let De=-1;for(;++De<V.length;)if(V[De][1].type==="listOrdered"||V[De][1].type==="listUnordered")if(V[De][0]==="enter")xe.push(De);else{const Wt=xe.pop();De=i(V,Wt,De)}for(De=-1;++De<V.length;){const Wt=e[V[De][0]];wT.call(Wt,V[De][1].type)&&Wt[V[De][1].type].call(Object.assign({sliceSerialize:V[De][2].sliceSerialize},de),V[De][1])}if(de.tokenStack.length>0){const Wt=de.tokenStack[de.tokenStack.length-1];(Wt[1]||e1).call(de,void 0,Wt[0])}for(W.position={start:ti(V.length>0?V[0][1].start:{line:1,column:1,offset:0}),end:ti(V.length>0?V[V.length-2][1].end:{line:1,column:1,offset:0})},De=-1;++De<e.transforms.length;)W=e.transforms[De](W)||W;return W}function i(V,W,de){let xe=W-1,De=-1,Wt=!1,Gt,pt,tr,Tn;for(;++xe<=de;){const St=V[xe];switch(St[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{St[0]==="enter"?De++:De--,Tn=void 0;break}case"lineEndingBlank":{St[0]==="enter"&&(Gt&&!Tn&&!De&&!tr&&(tr=xe),Tn=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:Tn=void 0}if(!De&&St[0]==="enter"&&St[1].type==="listItemPrefix"||De===-1&&St[0]==="exit"&&(St[1].type==="listUnordered"||St[1].type==="listOrdered")){if(Gt){let In=xe;for(pt=void 0;In--;){const Kt=V[In];if(Kt[1].type==="lineEnding"||Kt[1].type==="lineEndingBlank"){if(Kt[0]==="exit")continue;pt&&(V[pt][1].type="lineEndingBlank",Wt=!0),Kt[1].type="lineEnding",pt=In}else if(!(Kt[1].type==="linePrefix"||Kt[1].type==="blockQuotePrefix"||Kt[1].type==="blockQuotePrefixWhitespace"||Kt[1].type==="blockQuoteMarker"||Kt[1].type==="listItemIndent"))break}tr&&(!pt||tr<pt)&&(Gt._spread=!0),Gt.end=Object.assign({},pt?V[pt][1].start:St[1].end),V.splice(pt||xe,0,["exit",Gt,St[2]]),xe++,de++}if(St[1].type==="listItemPrefix"){const In={type:"listItem",_spread:!1,start:Object.assign({},St[1].start),end:void 0};Gt=In,V.splice(xe,0,["enter",In,St[2]]),xe++,de++,tr=void 0,Tn=!0}}}return V[W][1]._spread=Wt,de}function s(V,W){return de;function de(xe){a.call(this,V(xe),xe),W&&W.call(this,xe)}}function o(){this.stack.push({type:"fragment",children:[]})}function a(V,W,de){this.stack[this.stack.length-1].children.push(V),this.stack.push(V),this.tokenStack.push([W,de||void 0]),V.position={start:ti(W.start),end:void 0}}function l(V){return W;function W(de){V&&V.call(this,de),u.call(this,de)}}function u(V,W){const de=this.stack.pop(),xe=this.tokenStack.pop();if(xe)xe[0].type!==V.type&&(W?W.call(this,V,xe[0]):(xe[1]||e1).call(this,V,xe[0]));else throw new Error("Cannot close `"+V.type+"` ("+fl({start:V.start,end:V.end})+"): it’s not open");de.position.end=ti(V.end)}function h(){return Ay(this.stack.pop())}function f(){this.data.expectingFirstListItemValue=!0}function p(V){if(this.data.expectingFirstListItemValue){const W=this.stack[this.stack.length-2];W.start=Number.parseInt(this.sliceSerialize(V),10),this.data.expectingFirstListItemValue=void 0}}function g(){const V=this.resume(),W=this.stack[this.stack.length-1];W.lang=V}function w(){const V=this.resume(),W=this.stack[this.stack.length-1];W.meta=V}function T(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function I(){const V=this.resume(),W=this.stack[this.stack.length-1];W.value=V.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function _(){const V=this.resume(),W=this.stack[this.stack.length-1];W.value=V.replace(/(\r?\n|\r)$/g,"")}function v(V){const W=this.resume(),de=this.stack[this.stack.length-1];de.label=W,de.identifier=Zn(this.sliceSerialize(V)).toLowerCase()}function x(){const V=this.resume(),W=this.stack[this.stack.length-1];W.title=V}function N(){const V=this.resume(),W=this.stack[this.stack.length-1];W.url=V}function O(V){const W=this.stack[this.stack.length-1];if(!W.depth){const de=this.sliceSerialize(V).length;W.depth=de}}function A(){this.data.setextHeadingSlurpLineEnding=!0}function k(V){const W=this.stack[this.stack.length-1];W.depth=this.sliceSerialize(V).codePointAt(0)===61?1:2}function b(){this.data.setextHeadingSlurpLineEnding=void 0}function S(V){const de=this.stack[this.stack.length-1].children;let xe=de[de.length-1];(!xe||xe.type!=="text")&&(xe=Yr(),xe.position={start:ti(V.start),end:void 0},de.push(xe)),this.stack.push(xe)}function E(V){const W=this.stack.pop();W.value+=this.sliceSerialize(V),W.position.end=ti(V.end)}function j(V){const W=this.stack[this.stack.length-1];if(this.data.atHardBreak){const de=W.children[W.children.length-1];de.position.end=ti(V.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&e.canContainEols.includes(W.type)&&(S.call(this,V),E.call(this,V))}function D(){this.data.atHardBreak=!0}function P(){const V=this.resume(),W=this.stack[this.stack.length-1];W.value=V}function q(){const V=this.resume(),W=this.stack[this.stack.length-1];W.value=V}function G(){const V=this.resume(),W=this.stack[this.stack.length-1];W.value=V}function le(){const V=this.stack[this.stack.length-1];if(this.data.inReference){const W=this.data.referenceType||"shortcut";V.type+="Reference",V.referenceType=W,delete V.url,delete V.title}else delete V.identifier,delete V.label;this.data.referenceType=void 0}function se(){const V=this.stack[this.stack.length-1];if(this.data.inReference){const W=this.data.referenceType||"shortcut";V.type+="Reference",V.referenceType=W,delete V.url,delete V.title}else delete V.identifier,delete V.label;this.data.referenceType=void 0}function U(V){const W=this.sliceSerialize(V),de=this.stack[this.stack.length-2];de.label=pV(W),de.identifier=Zn(W).toLowerCase()}function Y(){const V=this.stack[this.stack.length-1],W=this.resume(),de=this.stack[this.stack.length-1];if(this.data.inReference=!0,de.type==="link"){const xe=V.children;de.children=xe}else de.alt=W}function R(){const V=this.resume(),W=this.stack[this.stack.length-1];W.url=V}function J(){const V=this.resume(),W=this.stack[this.stack.length-1];W.title=V}function ne(){this.data.inReference=void 0}function L(){this.data.referenceType="collapsed"}function ge(V){const W=this.resume(),de=this.stack[this.stack.length-1];de.label=W,de.identifier=Zn(this.sliceSerialize(V)).toLowerCase(),this.data.referenceType="full"}function Ae(V){this.data.characterReferenceType=V.type}function he(V){const W=this.sliceSerialize(V),de=this.data.characterReferenceType;let xe;de?(xe=cT(W,de==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):xe=Ny(W);const De=this.stack[this.stack.length-1];De.value+=xe}function X(V){const W=this.stack.pop();W.position.end=ti(V.end)}function pe(V){E.call(this,V);const W=this.stack[this.stack.length-1];W.url=this.sliceSerialize(V)}function ve(V){E.call(this,V);const W=this.stack[this.stack.length-1];W.url="mailto:"+this.sliceSerialize(V)}function be(){return{type:"blockquote",children:[]}}function Me(){return{type:"code",lang:null,meta:null,value:""}}function pn(){return{type:"inlineCode",value:""}}function Un(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function _r(){return{type:"emphasis",children:[]}}function Gr(){return{type:"heading",depth:0,children:[]}}function Kr(){return{type:"break"}}function Hs(){return{type:"html",value:""}}function Xi(){return{type:"image",title:null,url:"",alt:null}}function Zi(){return{type:"link",title:null,url:"",children:[]}}function $n(V){return{type:"list",ordered:V.type==="listOrdered",start:null,spread:V._spread,children:[]}}function qs(V){return{type:"listItem",spread:V._spread,checked:null,children:[]}}function pa(){return{type:"paragraph",children:[]}}function Qr(){return{type:"strong",children:[]}}function Yr(){return{type:"text",value:""}}function Sn(){return{type:"thematicBreak"}}}function ti(t){return{line:t.line,column:t.column,offset:t.offset}}function _T(t,e){let n=-1;for(;++n<e.length;){const r=e[n];Array.isArray(r)?_T(t,r):vV(t,r)}}function vV(t,e){let n;for(n in e)if(wT.call(e,n))switch(n){case"canContainEols":{const r=e[n];r&&t[n].push(...r);break}case"transforms":{const r=e[n];r&&t[n].push(...r);break}case"enter":case"exit":{const r=e[n];r&&Object.assign(t[n],r);break}}}function e1(t,e){throw t?new Error("Cannot close `"+t.type+"` ("+fl({start:t.start,end:t.end})+"): a different token (`"+e.type+"`, "+fl({start:e.start,end:e.end})+") is open"):new Error("Cannot close document, a token (`"+e.type+"`, "+fl({start:e.start,end:e.end})+") is still open")}function xV(t){const e=this;e.parser=n;function n(r){return gV(r,{...e.data("settings"),...t,extensions:e.data("micromarkExtensions")||[],mdastExtensions:e.data("fromMarkdownExtensions")||[]})}}function wV(t,e){const n={type:"element",tagName:"blockquote",properties:{},children:t.wrap(t.all(e),!0)};return t.patch(e,n),t.applyData(e,n)}function _V(t,e){const n={type:"element",tagName:"br",properties:{},children:[]};return t.patch(e,n),[t.applyData(e,n),{type:"text",value:`
`}]}function EV(t,e){const n=e.value?e.value+`
`:"",r={};e.lang&&(r.className=["language-"+e.lang]);let i={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return e.meta&&(i.data={meta:e.meta}),t.patch(e,i),i=t.applyData(e,i),i={type:"element",tagName:"pre",properties:{},children:[i]},t.patch(e,i),i}function bV(t,e){const n={type:"element",tagName:"del",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function kV(t,e){const n={type:"element",tagName:"em",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function SV(t,e){const n=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",r=String(e.identifier).toUpperCase(),i=da(r.toLowerCase()),s=t.footnoteOrder.indexOf(r);let o,a=t.footnoteCounts.get(r);a===void 0?(a=0,t.footnoteOrder.push(r),o=t.footnoteOrder.length):o=s+1,a+=1,t.footnoteCounts.set(r,a);const l={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+i,id:n+"fnref-"+i+(a>1?"-"+a:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(o)}]};t.patch(e,l);const u={type:"element",tagName:"sup",properties:{},children:[l]};return t.patch(e,u),t.applyData(e,u)}function TV(t,e){const n={type:"element",tagName:"h"+e.depth,properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function IV(t,e){if(t.options.allowDangerousHtml){const n={type:"raw",value:e.value};return t.patch(e,n),t.applyData(e,n)}}function ET(t,e){const n=e.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(e.label||e.identifier)+"]"),e.type==="imageReference")return[{type:"text",value:"!["+e.alt+r}];const i=t.all(e),s=i[0];s&&s.type==="text"?s.value="["+s.value:i.unshift({type:"text",value:"["});const o=i[i.length-1];return o&&o.type==="text"?o.value+=r:i.push({type:"text",value:r}),i}function CV(t,e){const n=String(e.identifier).toUpperCase(),r=t.definitionById.get(n);if(!r)return ET(t,e);const i={src:da(r.url||""),alt:e.alt};r.title!==null&&r.title!==void 0&&(i.title=r.title);const s={type:"element",tagName:"img",properties:i,children:[]};return t.patch(e,s),t.applyData(e,s)}function AV(t,e){const n={src:da(e.url)};e.alt!==null&&e.alt!==void 0&&(n.alt=e.alt),e.title!==null&&e.title!==void 0&&(n.title=e.title);const r={type:"element",tagName:"img",properties:n,children:[]};return t.patch(e,r),t.applyData(e,r)}function NV(t,e){const n={type:"text",value:e.value.replace(/\r?\n|\r/g," ")};t.patch(e,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return t.patch(e,r),t.applyData(e,r)}function PV(t,e){const n=String(e.identifier).toUpperCase(),r=t.definitionById.get(n);if(!r)return ET(t,e);const i={href:da(r.url||"")};r.title!==null&&r.title!==void 0&&(i.title=r.title);const s={type:"element",tagName:"a",properties:i,children:t.all(e)};return t.patch(e,s),t.applyData(e,s)}function RV(t,e){const n={href:da(e.url)};e.title!==null&&e.title!==void 0&&(n.title=e.title);const r={type:"element",tagName:"a",properties:n,children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function jV(t,e,n){const r=t.all(e),i=n?DV(n):bT(e),s={},o=[];if(typeof e.checked=="boolean"){const h=r[0];let f;h&&h.type==="element"&&h.tagName==="p"?f=h:(f={type:"element",tagName:"p",properties:{},children:[]},r.unshift(f)),f.children.length>0&&f.children.unshift({type:"text",value:" "}),f.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:e.checked,disabled:!0},children:[]}),s.className=["task-list-item"]}let a=-1;for(;++a<r.length;){const h=r[a];(i||a!==0||h.type!=="element"||h.tagName!=="p")&&o.push({type:"text",value:`
`}),h.type==="element"&&h.tagName==="p"&&!i?o.push(...h.children):o.push(h)}const l=r[r.length-1];l&&(i||l.type!=="element"||l.tagName!=="p")&&o.push({type:"text",value:`
`});const u={type:"element",tagName:"li",properties:s,children:o};return t.patch(e,u),t.applyData(e,u)}function DV(t){let e=!1;if(t.type==="list"){e=t.spread||!1;const n=t.children;let r=-1;for(;!e&&++r<n.length;)e=bT(n[r])}return e}function bT(t){const e=t.spread;return e??t.children.length>1}function OV(t,e){const n={},r=t.all(e);let i=-1;for(typeof e.start=="number"&&e.start!==1&&(n.start=e.start);++i<r.length;){const o=r[i];if(o.type==="element"&&o.tagName==="li"&&o.properties&&Array.isArray(o.properties.className)&&o.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const s={type:"element",tagName:e.ordered?"ol":"ul",properties:n,children:t.wrap(r,!0)};return t.patch(e,s),t.applyData(e,s)}function LV(t,e){const n={type:"element",tagName:"p",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function MV(t,e){const n={type:"root",children:t.wrap(t.all(e))};return t.patch(e,n),t.applyData(e,n)}function FV(t,e){const n={type:"element",tagName:"strong",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function VV(t,e){const n=t.all(e),r=n.shift(),i=[];if(r){const o={type:"element",tagName:"thead",properties:{},children:t.wrap([r],!0)};t.patch(e.children[0],o),i.push(o)}if(n.length>0){const o={type:"element",tagName:"tbody",properties:{},children:t.wrap(n,!0)},a=Sy(e.children[1]),l=nT(e.children[e.children.length-1]);a&&l&&(o.position={start:a,end:l}),i.push(o)}const s={type:"element",tagName:"table",properties:{},children:t.wrap(i,!0)};return t.patch(e,s),t.applyData(e,s)}function zV(t,e,n){const r=n?n.children:void 0,s=(r?r.indexOf(e):1)===0?"th":"td",o=n&&n.type==="table"?n.align:void 0,a=o?o.length:e.children.length;let l=-1;const u=[];for(;++l<a;){const f=e.children[l],p={},g=o?o[l]:void 0;g&&(p.align=g);let w={type:"element",tagName:s,properties:p,children:[]};f&&(w.children=t.all(f),t.patch(f,w),w=t.applyData(f,w)),u.push(w)}const h={type:"element",tagName:"tr",properties:{},children:t.wrap(u,!0)};return t.patch(e,h),t.applyData(e,h)}function UV(t,e){const n={type:"element",tagName:"td",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}const t1=9,n1=32;function $V(t){const e=String(t),n=/\r?\n|\r/g;let r=n.exec(e),i=0;const s=[];for(;r;)s.push(r1(e.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(e);return s.push(r1(e.slice(i),i>0,!1)),s.join("")}function r1(t,e,n){let r=0,i=t.length;if(e){let s=t.codePointAt(r);for(;s===t1||s===n1;)r++,s=t.codePointAt(r)}if(n){let s=t.codePointAt(i-1);for(;s===t1||s===n1;)i--,s=t.codePointAt(i-1)}return i>r?t.slice(r,i):""}function BV(t,e){const n={type:"text",value:$V(String(e.value))};return t.patch(e,n),t.applyData(e,n)}function HV(t,e){const n={type:"element",tagName:"hr",properties:{},children:[]};return t.patch(e,n),t.applyData(e,n)}const qV={blockquote:wV,break:_V,code:EV,delete:bV,emphasis:kV,footnoteReference:SV,heading:TV,html:IV,imageReference:CV,image:AV,inlineCode:NV,linkReference:PV,link:RV,listItem:jV,list:OV,paragraph:LV,root:MV,strong:FV,table:VV,tableCell:UV,tableRow:zV,text:BV,thematicBreak:HV,toml:rc,yaml:rc,definition:rc,footnoteDefinition:rc};function rc(){}const kT=-1,Id=0,ml=1,Rh=2,Ry=3,jy=4,Dy=5,Oy=6,ST=7,TT=8,i1=typeof self=="object"?self:globalThis,WV=(t,e)=>{const n=(i,s)=>(t.set(s,i),i),r=i=>{if(t.has(i))return t.get(i);const[s,o]=e[i];switch(s){case Id:case kT:return n(o,i);case ml:{const a=n([],i);for(const l of o)a.push(r(l));return a}case Rh:{const a=n({},i);for(const[l,u]of o)a[r(l)]=r(u);return a}case Ry:return n(new Date(o),i);case jy:{const{source:a,flags:l}=o;return n(new RegExp(a,l),i)}case Dy:{const a=n(new Map,i);for(const[l,u]of o)a.set(r(l),r(u));return a}case Oy:{const a=n(new Set,i);for(const l of o)a.add(r(l));return a}case ST:{const{name:a,message:l}=o;return n(new i1[a](l),i)}case TT:return n(BigInt(o),i);case"BigInt":return n(Object(BigInt(o)),i);case"ArrayBuffer":return n(new Uint8Array(o).buffer,o);case"DataView":{const{buffer:a}=new Uint8Array(o);return n(new DataView(a),o)}}return n(new i1[s](o),i)};return r},s1=t=>WV(new Map,t)(0),to="",{toString:GV}={},{keys:KV}=Object,La=t=>{const e=typeof t;if(e!=="object"||!t)return[Id,e];const n=GV.call(t).slice(8,-1);switch(n){case"Array":return[ml,to];case"Object":return[Rh,to];case"Date":return[Ry,to];case"RegExp":return[jy,to];case"Map":return[Dy,to];case"Set":return[Oy,to];case"DataView":return[ml,n]}return n.includes("Array")?[ml,n]:n.includes("Error")?[ST,n]:[Rh,n]},ic=([t,e])=>t===Id&&(e==="function"||e==="symbol"),QV=(t,e,n,r)=>{const i=(o,a)=>{const l=r.push(o)-1;return n.set(a,l),l},s=o=>{if(n.has(o))return n.get(o);let[a,l]=La(o);switch(a){case Id:{let h=o;switch(l){case"bigint":a=TT,h=o.toString();break;case"function":case"symbol":if(t)throw new TypeError("unable to serialize "+l);h=null;break;case"undefined":return i([kT],o)}return i([a,h],o)}case ml:{if(l){let p=o;return l==="DataView"?p=new Uint8Array(o.buffer):l==="ArrayBuffer"&&(p=new Uint8Array(o)),i([l,[...p]],o)}const h=[],f=i([a,h],o);for(const p of o)h.push(s(p));return f}case Rh:{if(l)switch(l){case"BigInt":return i([l,o.toString()],o);case"Boolean":case"Number":case"String":return i([l,o.valueOf()],o)}if(e&&"toJSON"in o)return s(o.toJSON());const h=[],f=i([a,h],o);for(const p of KV(o))(t||!ic(La(o[p])))&&h.push([s(p),s(o[p])]);return f}case Ry:return i([a,o.toISOString()],o);case jy:{const{source:h,flags:f}=o;return i([a,{source:h,flags:f}],o)}case Dy:{const h=[],f=i([a,h],o);for(const[p,g]of o)(t||!(ic(La(p))||ic(La(g))))&&h.push([s(p),s(g)]);return f}case Oy:{const h=[],f=i([a,h],o);for(const p of o)(t||!ic(La(p)))&&h.push(s(p));return f}}const{message:u}=o;return i([a,{name:l,message:u}],o)};return s},o1=(t,{json:e,lossy:n}={})=>{const r=[];return QV(!(e||n),!!e,new Map,r)(t),r},jh=typeof structuredClone=="function"?(t,e)=>e&&("json"in e||"lossy"in e)?s1(o1(t,e)):structuredClone(t):(t,e)=>s1(o1(t,e));function YV(t,e){const n=[{type:"text",value:"↩"}];return e>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(e)}]}),n}function JV(t,e){return"Back to reference "+(t+1)+(e>1?"-"+e:"")}function XV(t){const e=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",n=t.options.footnoteBackContent||YV,r=t.options.footnoteBackLabel||JV,i=t.options.footnoteLabel||"Footnotes",s=t.options.footnoteLabelTagName||"h2",o=t.options.footnoteLabelProperties||{className:["sr-only"]},a=[];let l=-1;for(;++l<t.footnoteOrder.length;){const u=t.footnoteById.get(t.footnoteOrder[l]);if(!u)continue;const h=t.all(u),f=String(u.identifier).toUpperCase(),p=da(f.toLowerCase());let g=0;const w=[],T=t.footnoteCounts.get(f);for(;T!==void 0&&++g<=T;){w.length>0&&w.push({type:"text",value:" "});let v=typeof n=="string"?n:n(l,g);typeof v=="string"&&(v={type:"text",value:v}),w.push({type:"element",tagName:"a",properties:{href:"#"+e+"fnref-"+p+(g>1?"-"+g:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(l,g),className:["data-footnote-backref"]},children:Array.isArray(v)?v:[v]})}const I=h[h.length-1];if(I&&I.type==="element"&&I.tagName==="p"){const v=I.children[I.children.length-1];v&&v.type==="text"?v.value+=" ":I.children.push({type:"text",value:" "}),I.children.push(...w)}else h.push(...w);const _={type:"element",tagName:"li",properties:{id:e+"fn-"+p},children:t.wrap(h,!0)};t.patch(u,_),a.push(_)}if(a.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:s,properties:{...jh(o),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:t.wrap(a,!0)},{type:"text",value:`
`}]}}const Cd=function(t){if(t==null)return n5;if(typeof t=="function")return Ad(t);if(typeof t=="object")return Array.isArray(t)?ZV(t):e5(t);if(typeof t=="string")return t5(t);throw new Error("Expected function, string, or object as test")};function ZV(t){const e=[];let n=-1;for(;++n<t.length;)e[n]=Cd(t[n]);return Ad(r);function r(...i){let s=-1;for(;++s<e.length;)if(e[s].apply(this,i))return!0;return!1}}function e5(t){const e=t;return Ad(n);function n(r){const i=r;let s;for(s in t)if(i[s]!==e[s])return!1;return!0}}function t5(t){return Ad(e);function e(n){return n&&n.type===t}}function Ad(t){return e;function e(n,r,i){return!!(r5(n)&&t.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function n5(){return!0}function r5(t){return t!==null&&typeof t=="object"&&"type"in t}const IT=[],i5=!0,_m=!1,s5="skip";function CT(t,e,n,r){let i;typeof e=="function"&&typeof n!="function"?(r=n,n=e):i=e;const s=Cd(i),o=r?-1:1;a(t,void 0,[])();function a(l,u,h){const f=l&&typeof l=="object"?l:{};if(typeof f.type=="string"){const g=typeof f.tagName=="string"?f.tagName:typeof f.name=="string"?f.name:void 0;Object.defineProperty(p,"name",{value:"node ("+(l.type+(g?"<"+g+">":""))+")"})}return p;function p(){let g=IT,w,T,I;if((!e||s(l,u,h[h.length-1]||void 0))&&(g=o5(n(l,h)),g[0]===_m))return g;if("children"in l&&l.children){const _=l;if(_.children&&g[0]!==s5)for(T=(r?_.children.length:-1)+o,I=h.concat(_);T>-1&&T<_.children.length;){const v=_.children[T];if(w=a(v,T,I)(),w[0]===_m)return w;T=typeof w[1]=="number"?w[1]:T+o}}return g}}}function o5(t){return Array.isArray(t)?t:typeof t=="number"?[i5,t]:t==null?IT:[t]}function Ly(t,e,n,r){let i,s,o;typeof e=="function"?(s=void 0,o=e,i=n):(s=e,o=n,i=r),CT(t,s,a,i);function a(l,u){const h=u[u.length-1],f=h?h.children.indexOf(l):void 0;return o(l,f,h)}}const Em={}.hasOwnProperty,a5={};function l5(t,e){const n=e||a5,r=new Map,i=new Map,s=new Map,o={...qV,...n.handlers},a={all:u,applyData:c5,definitionById:r,footnoteById:i,footnoteCounts:s,footnoteOrder:[],handlers:o,one:l,options:n,patch:u5,wrap:d5};return Ly(t,function(h){if(h.type==="definition"||h.type==="footnoteDefinition"){const f=h.type==="definition"?r:i,p=String(h.identifier).toUpperCase();f.has(p)||f.set(p,h)}}),a;function l(h,f){const p=h.type,g=a.handlers[p];if(Em.call(a.handlers,p)&&g)return g(a,h,f);if(a.options.passThrough&&a.options.passThrough.includes(p)){if("children"in h){const{children:T,...I}=h,_=jh(I);return _.children=a.all(h),_}return jh(h)}return(a.options.unknownHandler||h5)(a,h,f)}function u(h){const f=[];if("children"in h){const p=h.children;let g=-1;for(;++g<p.length;){const w=a.one(p[g],h);if(w){if(g&&p[g-1].type==="break"&&(!Array.isArray(w)&&w.type==="text"&&(w.value=a1(w.value)),!Array.isArray(w)&&w.type==="element")){const T=w.children[0];T&&T.type==="text"&&(T.value=a1(T.value))}Array.isArray(w)?f.push(...w):f.push(w)}}}return f}}function u5(t,e){t.position&&(e.position=JM(t))}function c5(t,e){let n=e;if(t&&t.data){const r=t.data.hName,i=t.data.hChildren,s=t.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const o="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:o}}n.type==="element"&&s&&Object.assign(n.properties,jh(s)),"children"in n&&n.children&&i!==null&&i!==void 0&&(n.children=i)}return n}function h5(t,e){const n=e.data||{},r="value"in e&&!(Em.call(n,"hProperties")||Em.call(n,"hChildren"))?{type:"text",value:e.value}:{type:"element",tagName:"div",properties:{},children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function d5(t,e){const n=[];let r=-1;for(e&&n.push({type:"text",value:`
`});++r<t.length;)r&&n.push({type:"text",value:`
`}),n.push(t[r]);return e&&t.length>0&&n.push({type:"text",value:`
`}),n}function a1(t){let e=0,n=t.charCodeAt(e);for(;n===9||n===32;)e++,n=t.charCodeAt(e);return t.slice(e)}function l1(t,e){const n=l5(t,e),r=n.one(t,void 0),i=XV(n),s=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return i&&s.children.push({type:"text",value:`
`},i),s}function f5(t,e){return t&&"run"in t?async function(n,r){const i=l1(n,{file:r,...e});await t.run(i,r)}:function(n,r){return l1(n,{file:r,...t||e})}}function u1(t){if(t)throw t}var Dc=Object.prototype.hasOwnProperty,AT=Object.prototype.toString,c1=Object.defineProperty,h1=Object.getOwnPropertyDescriptor,d1=function(e){return typeof Array.isArray=="function"?Array.isArray(e):AT.call(e)==="[object Array]"},f1=function(e){if(!e||AT.call(e)!=="[object Object]")return!1;var n=Dc.call(e,"constructor"),r=e.constructor&&e.constructor.prototype&&Dc.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!n&&!r)return!1;var i;for(i in e);return typeof i>"u"||Dc.call(e,i)},p1=function(e,n){c1&&n.name==="__proto__"?c1(e,n.name,{enumerable:!0,configurable:!0,value:n.newValue,writable:!0}):e[n.name]=n.newValue},m1=function(e,n){if(n==="__proto__")if(Dc.call(e,n)){if(h1)return h1(e,n).value}else return;return e[n]},p5=function t(){var e,n,r,i,s,o,a=arguments[0],l=1,u=arguments.length,h=!1;for(typeof a=="boolean"&&(h=a,a=arguments[1]||{},l=2),(a==null||typeof a!="object"&&typeof a!="function")&&(a={});l<u;++l)if(e=arguments[l],e!=null)for(n in e)r=m1(a,n),i=m1(e,n),a!==i&&(h&&i&&(f1(i)||(s=d1(i)))?(s?(s=!1,o=r&&d1(r)?r:[]):o=r&&f1(r)?r:{},p1(a,{name:n,newValue:t(h,o,i)})):typeof i<"u"&&p1(a,{name:n,newValue:i}));return a};const Pf=Mh(p5);function bm(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function m5(){const t=[],e={run:n,use:r};return e;function n(...i){let s=-1;const o=i.pop();if(typeof o!="function")throw new TypeError("Expected function as last argument, not "+o);a(null,...i);function a(l,...u){const h=t[++s];let f=-1;if(l){o(l);return}for(;++f<i.length;)(u[f]===null||u[f]===void 0)&&(u[f]=i[f]);i=u,h?g5(h,a)(...u):o(null,...u)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return t.push(i),e}}function g5(t,e){let n;return r;function r(...o){const a=t.length>o.length;let l;a&&o.push(i);try{l=t.apply(this,o)}catch(u){const h=u;if(a&&n)throw h;return i(h)}a||(l&&l.then&&typeof l.then=="function"?l.then(s,i):l instanceof Error?i(l):s(l))}function i(o,...a){n||(n=!0,e(o,...a))}function s(o){i(null,o)}}const sr={basename:y5,dirname:v5,extname:x5,join:w5,sep:"/"};function y5(t,e){if(e!==void 0&&typeof e!="string")throw new TypeError('"ext" argument must be a string');gu(t);let n=0,r=-1,i=t.length,s;if(e===void 0||e.length===0||e.length>t.length){for(;i--;)if(t.codePointAt(i)===47){if(s){n=i+1;break}}else r<0&&(s=!0,r=i+1);return r<0?"":t.slice(n,r)}if(e===t)return"";let o=-1,a=e.length-1;for(;i--;)if(t.codePointAt(i)===47){if(s){n=i+1;break}}else o<0&&(s=!0,o=i+1),a>-1&&(t.codePointAt(i)===e.codePointAt(a--)?a<0&&(r=i):(a=-1,r=o));return n===r?r=o:r<0&&(r=t.length),t.slice(n,r)}function v5(t){if(gu(t),t.length===0)return".";let e=-1,n=t.length,r;for(;--n;)if(t.codePointAt(n)===47){if(r){e=n;break}}else r||(r=!0);return e<0?t.codePointAt(0)===47?"/":".":e===1&&t.codePointAt(0)===47?"//":t.slice(0,e)}function x5(t){gu(t);let e=t.length,n=-1,r=0,i=-1,s=0,o;for(;e--;){const a=t.codePointAt(e);if(a===47){if(o){r=e+1;break}continue}n<0&&(o=!0,n=e+1),a===46?i<0?i=e:s!==1&&(s=1):i>-1&&(s=-1)}return i<0||n<0||s===0||s===1&&i===n-1&&i===r+1?"":t.slice(i,n)}function w5(...t){let e=-1,n;for(;++e<t.length;)gu(t[e]),t[e]&&(n=n===void 0?t[e]:n+"/"+t[e]);return n===void 0?".":_5(n)}function _5(t){gu(t);const e=t.codePointAt(0)===47;let n=E5(t,!e);return n.length===0&&!e&&(n="."),n.length>0&&t.codePointAt(t.length-1)===47&&(n+="/"),e?"/"+n:n}function E5(t,e){let n="",r=0,i=-1,s=0,o=-1,a,l;for(;++o<=t.length;){if(o<t.length)a=t.codePointAt(o);else{if(a===47)break;a=47}if(a===47){if(!(i===o-1||s===1))if(i!==o-1&&s===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(l=n.lastIndexOf("/"),l!==n.length-1){l<0?(n="",r=0):(n=n.slice(0,l),r=n.length-1-n.lastIndexOf("/")),i=o,s=0;continue}}else if(n.length>0){n="",r=0,i=o,s=0;continue}}e&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+t.slice(i+1,o):n=t.slice(i+1,o),r=o-i-1;i=o,s=0}else a===46&&s>-1?s++:s=-1}return n}function gu(t){if(typeof t!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}const b5={cwd:k5};function k5(){return"/"}function km(t){return!!(t!==null&&typeof t=="object"&&"href"in t&&t.href&&"protocol"in t&&t.protocol&&t.auth===void 0)}function S5(t){if(typeof t=="string")t=new URL(t);else if(!km(t)){const e=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+t+"`");throw e.code="ERR_INVALID_ARG_TYPE",e}if(t.protocol!=="file:"){const e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return T5(t)}function T5(t){if(t.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const e=t.pathname;let n=-1;for(;++n<e.length;)if(e.codePointAt(n)===37&&e.codePointAt(n+1)===50){const r=e.codePointAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(e)}const Rf=["history","path","basename","stem","extname","dirname"];class NT{constructor(e){let n;e?km(e)?n={path:e}:typeof e=="string"||I5(e)?n={value:e}:n=e:n={},this.cwd="cwd"in n?"":b5.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<Rf.length;){const s=Rf[r];s in n&&n[s]!==void 0&&n[s]!==null&&(this[s]=s==="history"?[...n[s]]:n[s])}let i;for(i in n)Rf.includes(i)||(this[i]=n[i])}get basename(){return typeof this.path=="string"?sr.basename(this.path):void 0}set basename(e){Df(e,"basename"),jf(e,"basename"),this.path=sr.join(this.dirname||"",e)}get dirname(){return typeof this.path=="string"?sr.dirname(this.path):void 0}set dirname(e){g1(this.basename,"dirname"),this.path=sr.join(e||"",this.basename)}get extname(){return typeof this.path=="string"?sr.extname(this.path):void 0}set extname(e){if(jf(e,"extname"),g1(this.dirname,"extname"),e){if(e.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=sr.join(this.dirname,this.stem+(e||""))}get path(){return this.history[this.history.length-1]}set path(e){km(e)&&(e=S5(e)),Df(e,"path"),this.path!==e&&this.history.push(e)}get stem(){return typeof this.path=="string"?sr.basename(this.path,this.extname):void 0}set stem(e){Df(e,"stem"),jf(e,"stem"),this.path=sr.join(this.dirname||"",e+(this.extname||""))}fail(e,n,r){const i=this.message(e,n,r);throw i.fatal=!0,i}info(e,n,r){const i=this.message(e,n,r);return i.fatal=void 0,i}message(e,n,r){const i=new qt(e,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(e){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(e||void 0).decode(this.value)}}function jf(t,e){if(t&&t.includes(sr.sep))throw new Error("`"+e+"` cannot be a path: did not expect `"+sr.sep+"`")}function Df(t,e){if(!t)throw new Error("`"+e+"` cannot be empty")}function g1(t,e){if(!t)throw new Error("Setting `"+e+"` requires `path` to be set too")}function I5(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const C5=function(t){const r=this.constructor.prototype,i=r[t],s=function(){return i.apply(s,arguments)};return Object.setPrototypeOf(s,r),s},A5={}.hasOwnProperty;class My extends C5{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=m5()}copy(){const e=new My;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];e.use(...r)}return e.data(Pf(!0,{},this.namespace)),e}data(e,n){return typeof e=="string"?arguments.length===2?(Mf("data",this.frozen),this.namespace[e]=n,this):A5.call(this.namespace,e)&&this.namespace[e]||void 0:e?(Mf("data",this.frozen),this.namespace=e,this):this.namespace}freeze(){if(this.frozen)return this;const e=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const i=n.call(e,...r);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(e){this.freeze();const n=sc(e),r=this.parser||this.Parser;return Of("parse",r),r(String(n),n)}process(e,n){const r=this;return this.freeze(),Of("process",this.parser||this.Parser),Lf("process",this.compiler||this.Compiler),n?i(void 0,n):new Promise(i);function i(s,o){const a=sc(e),l=r.parse(a);r.run(l,a,function(h,f,p){if(h||!f||!p)return u(h);const g=f,w=r.stringify(g,p);R5(w)?p.value=w:p.result=w,u(h,p)});function u(h,f){h||!f?o(h):s?s(f):n(void 0,f)}}}processSync(e){let n=!1,r;return this.freeze(),Of("processSync",this.parser||this.Parser),Lf("processSync",this.compiler||this.Compiler),this.process(e,i),v1("processSync","process",n),r;function i(s,o){n=!0,u1(s),r=o}}run(e,n,r){y1(e),this.freeze();const i=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?s(void 0,r):new Promise(s);function s(o,a){const l=sc(n);i.run(e,l,u);function u(h,f,p){const g=f||e;h?a(h):o?o(g):r(void 0,g,p)}}}runSync(e,n){let r=!1,i;return this.run(e,n,s),v1("runSync","run",r),i;function s(o,a){u1(o),i=a,r=!0}}stringify(e,n){this.freeze();const r=sc(n),i=this.compiler||this.Compiler;return Lf("stringify",i),y1(e),i(e,r)}use(e,...n){const r=this.attachers,i=this.namespace;if(Mf("use",this.frozen),e!=null)if(typeof e=="function")l(e,n);else if(typeof e=="object")Array.isArray(e)?a(e):o(e);else throw new TypeError("Expected usable value, not `"+e+"`");return this;function s(u){if(typeof u=="function")l(u,[]);else if(typeof u=="object")if(Array.isArray(u)){const[h,...f]=u;l(h,f)}else o(u);else throw new TypeError("Expected usable value, not `"+u+"`")}function o(u){if(!("plugins"in u)&&!("settings"in u))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");a(u.plugins),u.settings&&(i.settings=Pf(!0,i.settings,u.settings))}function a(u){let h=-1;if(u!=null)if(Array.isArray(u))for(;++h<u.length;){const f=u[h];s(f)}else throw new TypeError("Expected a list of plugins, not `"+u+"`")}function l(u,h){let f=-1,p=-1;for(;++f<r.length;)if(r[f][0]===u){p=f;break}if(p===-1)r.push([u,...h]);else if(h.length>0){let[g,...w]=h;const T=r[p][1];bm(T)&&bm(g)&&(g=Pf(!0,T,g)),r[p]=[u,g,...w]}}}}const N5=new My().freeze();function Of(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `parser`")}function Lf(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `compiler`")}function Mf(t,e){if(e)throw new Error("Cannot call `"+t+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function y1(t){if(!bm(t)||typeof t.type!="string")throw new TypeError("Expected node, got `"+t+"`")}function v1(t,e,n){if(!n)throw new Error("`"+t+"` finished async. Use `"+e+"` instead")}function sc(t){return P5(t)?t:new NT(t)}function P5(t){return!!(t&&typeof t=="object"&&"message"in t&&"messages"in t)}function R5(t){return typeof t=="string"||j5(t)}function j5(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const D5="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",x1=[],w1={allowDangerousHtml:!0},O5=/^(https?|ircs?|mailto|xmpp)$/i,L5=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function Dh(t){const e=M5(t),n=F5(t);return V5(e.runSync(e.parse(n),n),t)}function M5(t){const e=t.rehypePlugins||x1,n=t.remarkPlugins||x1,r=t.remarkRehypeOptions?{...t.remarkRehypeOptions,...w1}:w1;return N5().use(xV).use(n).use(f5,r).use(e)}function F5(t){const e=t.children||"",n=new NT;return typeof e=="string"&&(n.value=e),n}function V5(t,e){const n=e.allowedElements,r=e.allowElement,i=e.components,s=e.disallowedElements,o=e.skipHtml,a=e.unwrapDisallowed,l=e.urlTransform||z5;for(const h of L5)Object.hasOwn(e,h.from)&&(""+h.from+(h.to?"use `"+h.to+"` instead":"remove it")+D5+h.id,void 0);return Ly(t,u),nF(t,{Fragment:d.Fragment,components:i,ignoreInvalidStyle:!0,jsx:d.jsx,jsxs:d.jsxs,passKeys:!0,passNode:!0});function u(h,f,p){if(h.type==="raw"&&p&&typeof f=="number")return o?p.children.splice(f,1):p.children[f]={type:"text",value:h.value},f;if(h.type==="element"){let g;for(g in Cf)if(Object.hasOwn(Cf,g)&&Object.hasOwn(h.properties,g)){const w=h.properties[g],T=Cf[g];(T===null||T.includes(h.tagName))&&(h.properties[g]=l(String(w||""),g,h))}}if(h.type==="element"){let g=n?!n.includes(h.tagName):s?s.includes(h.tagName):!1;if(!g&&r&&typeof f=="number"&&(g=!r(h,f,p)),g&&p&&typeof f=="number")return a&&h.children?p.children.splice(f,1,...h.children):p.children.splice(f,1),f}}}function z5(t){const e=t.indexOf(":"),n=t.indexOf("?"),r=t.indexOf("#"),i=t.indexOf("/");return e===-1||i!==-1&&e>i||n!==-1&&e>n||r!==-1&&e>r||O5.test(t.slice(0,e))?t:""}function U5(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function $5(t,e){if(t==null)return{};var n,r,i=U5(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Sm(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function B5(t){if(Array.isArray(t))return Sm(t)}function H5(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function q5(t,e){if(t){if(typeof t=="string")return Sm(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Sm(t,e):void 0}}function W5(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Tm(t){return B5(t)||H5(t)||q5(t)||W5()}function Ql(t){"@babel/helpers - typeof";return Ql=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ql(t)}function G5(t,e){if(Ql(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ql(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function K5(t){var e=G5(t,"string");return Ql(e)=="symbol"?e:e+""}function PT(t,e,n){return(e=K5(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Im(){return Im=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Im.apply(null,arguments)}function _1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function bo(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_1(Object(n),!0).forEach(function(r){PT(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Q5(t){var e=t.length;if(e===0||e===1)return t;if(e===2)return[t[0],t[1],"".concat(t[0],".").concat(t[1]),"".concat(t[1],".").concat(t[0])];if(e===3)return[t[0],t[1],t[2],"".concat(t[0],".").concat(t[1]),"".concat(t[0],".").concat(t[2]),"".concat(t[1],".").concat(t[0]),"".concat(t[1],".").concat(t[2]),"".concat(t[2],".").concat(t[0]),"".concat(t[2],".").concat(t[1]),"".concat(t[0],".").concat(t[1],".").concat(t[2]),"".concat(t[0],".").concat(t[2],".").concat(t[1]),"".concat(t[1],".").concat(t[0],".").concat(t[2]),"".concat(t[1],".").concat(t[2],".").concat(t[0]),"".concat(t[2],".").concat(t[0],".").concat(t[1]),"".concat(t[2],".").concat(t[1],".").concat(t[0])];if(e>=4)return[t[0],t[1],t[2],t[3],"".concat(t[0],".").concat(t[1]),"".concat(t[0],".").concat(t[2]),"".concat(t[0],".").concat(t[3]),"".concat(t[1],".").concat(t[0]),"".concat(t[1],".").concat(t[2]),"".concat(t[1],".").concat(t[3]),"".concat(t[2],".").concat(t[0]),"".concat(t[2],".").concat(t[1]),"".concat(t[2],".").concat(t[3]),"".concat(t[3],".").concat(t[0]),"".concat(t[3],".").concat(t[1]),"".concat(t[3],".").concat(t[2]),"".concat(t[0],".").concat(t[1],".").concat(t[2]),"".concat(t[0],".").concat(t[1],".").concat(t[3]),"".concat(t[0],".").concat(t[2],".").concat(t[1]),"".concat(t[0],".").concat(t[2],".").concat(t[3]),"".concat(t[0],".").concat(t[3],".").concat(t[1]),"".concat(t[0],".").concat(t[3],".").concat(t[2]),"".concat(t[1],".").concat(t[0],".").concat(t[2]),"".concat(t[1],".").concat(t[0],".").concat(t[3]),"".concat(t[1],".").concat(t[2],".").concat(t[0]),"".concat(t[1],".").concat(t[2],".").concat(t[3]),"".concat(t[1],".").concat(t[3],".").concat(t[0]),"".concat(t[1],".").concat(t[3],".").concat(t[2]),"".concat(t[2],".").concat(t[0],".").concat(t[1]),"".concat(t[2],".").concat(t[0],".").concat(t[3]),"".concat(t[2],".").concat(t[1],".").concat(t[0]),"".concat(t[2],".").concat(t[1],".").concat(t[3]),"".concat(t[2],".").concat(t[3],".").concat(t[0]),"".concat(t[2],".").concat(t[3],".").concat(t[1]),"".concat(t[3],".").concat(t[0],".").concat(t[1]),"".concat(t[3],".").concat(t[0],".").concat(t[2]),"".concat(t[3],".").concat(t[1],".").concat(t[0]),"".concat(t[3],".").concat(t[1],".").concat(t[2]),"".concat(t[3],".").concat(t[2],".").concat(t[0]),"".concat(t[3],".").concat(t[2],".").concat(t[1]),"".concat(t[0],".").concat(t[1],".").concat(t[2],".").concat(t[3]),"".concat(t[0],".").concat(t[1],".").concat(t[3],".").concat(t[2]),"".concat(t[0],".").concat(t[2],".").concat(t[1],".").concat(t[3]),"".concat(t[0],".").concat(t[2],".").concat(t[3],".").concat(t[1]),"".concat(t[0],".").concat(t[3],".").concat(t[1],".").concat(t[2]),"".concat(t[0],".").concat(t[3],".").concat(t[2],".").concat(t[1]),"".concat(t[1],".").concat(t[0],".").concat(t[2],".").concat(t[3]),"".concat(t[1],".").concat(t[0],".").concat(t[3],".").concat(t[2]),"".concat(t[1],".").concat(t[2],".").concat(t[0],".").concat(t[3]),"".concat(t[1],".").concat(t[2],".").concat(t[3],".").concat(t[0]),"".concat(t[1],".").concat(t[3],".").concat(t[0],".").concat(t[2]),"".concat(t[1],".").concat(t[3],".").concat(t[2],".").concat(t[0]),"".concat(t[2],".").concat(t[0],".").concat(t[1],".").concat(t[3]),"".concat(t[2],".").concat(t[0],".").concat(t[3],".").concat(t[1]),"".concat(t[2],".").concat(t[1],".").concat(t[0],".").concat(t[3]),"".concat(t[2],".").concat(t[1],".").concat(t[3],".").concat(t[0]),"".concat(t[2],".").concat(t[3],".").concat(t[0],".").concat(t[1]),"".concat(t[2],".").concat(t[3],".").concat(t[1],".").concat(t[0]),"".concat(t[3],".").concat(t[0],".").concat(t[1],".").concat(t[2]),"".concat(t[3],".").concat(t[0],".").concat(t[2],".").concat(t[1]),"".concat(t[3],".").concat(t[1],".").concat(t[0],".").concat(t[2]),"".concat(t[3],".").concat(t[1],".").concat(t[2],".").concat(t[0]),"".concat(t[3],".").concat(t[2],".").concat(t[0],".").concat(t[1]),"".concat(t[3],".").concat(t[2],".").concat(t[1],".").concat(t[0])]}var Ff={};function Y5(t){if(t.length===0||t.length===1)return t;var e=t.join(".");return Ff[e]||(Ff[e]=Q5(t)),Ff[e]}function J5(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,r=t.filter(function(s){return s!=="token"}),i=Y5(r);return i.reduce(function(s,o){return bo(bo({},s),n[o])},e)}function E1(t){return t.join(" ")}function X5(t,e){var n=0;return function(r){return n+=1,r.map(function(i,s){return RT({node:i,stylesheet:t,useInlineStyles:e,key:"code-segment-".concat(n,"-").concat(s)})})}}function RT(t){var e=t.node,n=t.stylesheet,r=t.style,i=r===void 0?{}:r,s=t.useInlineStyles,o=t.key,a=e.properties,l=e.type,u=e.tagName,h=e.value;if(l==="text")return h;if(u){var f=X5(n,s),p;if(!s)p=bo(bo({},a),{},{className:E1(a.className)});else{var g=Object.keys(n).reduce(function(_,v){return v.split(".").forEach(function(x){_.includes(x)||_.push(x)}),_},[]),w=a.className&&a.className.includes("token")?["token"]:[],T=a.className&&w.concat(a.className.filter(function(_){return!g.includes(_)}));p=bo(bo({},a),{},{className:E1(T)||void 0,style:J5(a.className,Object.assign({},a.style,i),n)})}var I=f(e.children);return ar.createElement(u,Im({key:o},p),I)}}const Z5=function(t,e){var n=t.listLanguages();return n.indexOf(e)!==-1};var ez=["language","children","style","customStyle","codeTagProps","useInlineStyles","showLineNumbers","showInlineLineNumbers","startingLineNumber","lineNumberContainerStyle","lineNumberStyle","wrapLines","wrapLongLines","lineProps","renderer","PreTag","CodeTag","code","astGenerator"];function b1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function mi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?b1(Object(n),!0).forEach(function(r){PT(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):b1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var tz=/\n/g;function nz(t){return t.match(tz)}function rz(t){var e=t.lines,n=t.startingLineNumber,r=t.style;return e.map(function(i,s){var o=s+n;return ar.createElement("span",{key:"line-".concat(s),className:"react-syntax-highlighter-line-number",style:typeof r=="function"?r(o):r},"".concat(o,`
`))})}function iz(t){var e=t.codeString,n=t.codeStyle,r=t.containerStyle,i=r===void 0?{float:"left",paddingRight:"10px"}:r,s=t.numberStyle,o=s===void 0?{}:s,a=t.startingLineNumber;return ar.createElement("code",{style:Object.assign({},n,i)},rz({lines:e.replace(/\n$/,"").split(`
`),style:o,startingLineNumber:a}))}function sz(t){return"".concat(t.toString().length,".25em")}function jT(t,e){return{type:"element",tagName:"span",properties:{key:"line-number--".concat(t),className:["comment","linenumber","react-syntax-highlighter-line-number"],style:e},children:[{type:"text",value:t}]}}function DT(t,e,n){var r={display:"inline-block",minWidth:sz(n),paddingRight:"1em",textAlign:"right",userSelect:"none"},i=typeof t=="function"?t(e):t,s=mi(mi({},r),i);return s}function Oc(t){var e=t.children,n=t.lineNumber,r=t.lineNumberStyle,i=t.largestLineNumber,s=t.showInlineLineNumbers,o=t.lineProps,a=o===void 0?{}:o,l=t.className,u=l===void 0?[]:l,h=t.showLineNumbers,f=t.wrapLongLines,p=t.wrapLines,g=p===void 0?!1:p,w=g?mi({},typeof a=="function"?a(n):a):{};if(w.className=w.className?[].concat(Tm(w.className.trim().split(/\s+/)),Tm(u)):u,n&&s){var T=DT(r,n,i);e.unshift(jT(n,T))}return f&h&&(w.style=mi({display:"flex"},w.style)),{type:"element",tagName:"span",properties:w,children:e}}function OT(t){for(var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],r=0;r<t.length;r++){var i=t[r];if(i.type==="text")n.push(Oc({children:[i],className:Tm(new Set(e))}));else if(i.children){var s=e.concat(i.properties.className);OT(i.children,s).forEach(function(o){return n.push(o)})}}return n}function oz(t,e,n,r,i,s,o,a,l){var u,h=OT(t.value),f=[],p=-1,g=0;function w(O,A){var k=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];return Oc({children:O,lineNumber:A,lineNumberStyle:a,largestLineNumber:o,showInlineLineNumbers:i,lineProps:n,className:k,showLineNumbers:r,wrapLongLines:l,wrapLines:e})}function T(O,A){if(r&&A&&i){var k=DT(a,A,o);O.unshift(jT(A,k))}return O}function I(O,A){var k=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];return e||k.length>0?w(O,A,k):T(O,A)}for(var _=function(){var A=h[g],k=A.children[0].value,b=nz(k);if(b){var S=k.split(`
`);S.forEach(function(E,j){var D=r&&f.length+s,P={type:"text",value:"".concat(E,`
`)};if(j===0){var q=h.slice(p+1,g).concat(Oc({children:[P],className:A.properties.className})),G=I(q,D);f.push(G)}else if(j===S.length-1){var le=h[g+1]&&h[g+1].children&&h[g+1].children[0],se={type:"text",value:"".concat(E)};if(le){var U=Oc({children:[se],className:A.properties.className});h.splice(g+1,0,U)}else{var Y=[se],R=I(Y,D,A.properties.className);f.push(R)}}else{var J=[P],ne=I(J,D,A.properties.className);f.push(ne)}}),p=g}g++};g<h.length;)_();if(p!==h.length-1){var v=h.slice(p+1,h.length);if(v&&v.length){var x=r&&f.length+s,N=I(v,x);f.push(N)}}return e?f:(u=[]).concat.apply(u,f)}function az(t){var e=t.rows,n=t.stylesheet,r=t.useInlineStyles;return e.map(function(i,s){return RT({node:i,stylesheet:n,useInlineStyles:r,key:"code-segement".concat(s)})})}function LT(t){return t&&typeof t.highlightAuto<"u"}function lz(t){var e=t.astGenerator,n=t.language,r=t.code,i=t.defaultCodeValue;if(LT(e)){var s=Z5(e,n);return n==="text"?{value:i,language:"text"}:s?e.highlight(n,r):e.highlightAuto(r)}try{return n&&n!=="text"?{value:e.highlight(r,n)}:{value:i}}catch{return{value:i}}}function uz(t,e){return function(r){var i=r.language,s=r.children,o=r.style,a=o===void 0?e:o,l=r.customStyle,u=l===void 0?{}:l,h=r.codeTagProps,f=h===void 0?{className:i?"language-".concat(i):void 0,style:mi(mi({},a['code[class*="language-"]']),a['code[class*="language-'.concat(i,'"]')])}:h,p=r.useInlineStyles,g=p===void 0?!0:p,w=r.showLineNumbers,T=w===void 0?!1:w,I=r.showInlineLineNumbers,_=I===void 0?!0:I,v=r.startingLineNumber,x=v===void 0?1:v,N=r.lineNumberContainerStyle,O=r.lineNumberStyle,A=O===void 0?{}:O,k=r.wrapLines,b=r.wrapLongLines,S=b===void 0?!1:b,E=r.lineProps,j=E===void 0?{}:E,D=r.renderer,P=r.PreTag,q=P===void 0?"pre":P,G=r.CodeTag,le=G===void 0?"code":G,se=r.code,U=se===void 0?(Array.isArray(s)?s[0]:s)||"":se,Y=r.astGenerator,R=$5(r,ez);Y=Y||t;var J=T?ar.createElement(iz,{containerStyle:N,codeStyle:f.style||{},numberStyle:A,startingLineNumber:x,codeString:U}):null,ne=a.hljs||a['pre[class*="language-"]']||{backgroundColor:"#fff"},L=LT(Y)?"hljs":"prismjs",ge=g?Object.assign({},R,{style:Object.assign({},ne,u)}):Object.assign({},R,{className:R.className?"".concat(L," ").concat(R.className):L,style:Object.assign({},u)});if(S?f.style=mi({whiteSpace:"pre-wrap"},f.style):f.style=mi({whiteSpace:"pre"},f.style),!Y)return ar.createElement(q,ge,J,ar.createElement(le,f,U));(k===void 0&&D||S)&&(k=!0),D=D||az;var Ae=[{type:"text",value:U}],he=lz({astGenerator:Y,language:i,code:U,defaultCodeValue:Ae});he.language===null&&(he.value=Ae);var X=he.value.length;X===1&&he.value[0].type==="text"&&(X=he.value[0].value.split(`
`).length);var pe=X+x,ve=oz(he,k,j,T,_,x,pe,A,S);return ar.createElement(q,ge,ar.createElement(le,f,!_&&J,D({rows:ve,stylesheet:a,useInlineStyles:g})))}}var cz=dz,hz=Object.prototype.hasOwnProperty;function dz(){for(var t={},e=0;e<arguments.length;e++){var n=arguments[e];for(var r in n)hz.call(n,r)&&(t[r]=n[r])}return t}var MT=FT,Fy=FT.prototype;Fy.space=null;Fy.normal={};Fy.property={};function FT(t,e,n){this.property=t,this.normal=e,n&&(this.space=n)}var k1=cz,fz=MT,pz=mz;function mz(t){for(var e=t.length,n=[],r=[],i=-1,s,o;++i<e;)s=t[i],n.push(s.property),r.push(s.normal),o=s.space;return new fz(k1.apply(null,n),k1.apply(null,r),o)}var Vy=gz;function gz(t){return t.toLowerCase()}var VT=zT,zn=zT.prototype;zn.space=null;zn.attribute=null;zn.property=null;zn.boolean=!1;zn.booleanish=!1;zn.overloadedBoolean=!1;zn.number=!1;zn.commaSeparated=!1;zn.spaceSeparated=!1;zn.commaOrSpaceSeparated=!1;zn.mustUseProperty=!1;zn.defined=!1;function zT(t,e){this.property=t,this.attribute=e}var xr={},yz=0;xr.boolean=Bs();xr.booleanish=Bs();xr.overloadedBoolean=Bs();xr.number=Bs();xr.spaceSeparated=Bs();xr.commaSeparated=Bs();xr.commaOrSpaceSeparated=Bs();function Bs(){return Math.pow(2,++yz)}var UT=VT,S1=xr,$T=zy;zy.prototype=new UT;zy.prototype.defined=!0;var BT=["boolean","booleanish","overloadedBoolean","number","commaSeparated","spaceSeparated","commaOrSpaceSeparated"],vz=BT.length;function zy(t,e,n,r){var i=-1,s;for(T1(this,"space",r),UT.call(this,t,e);++i<vz;)s=BT[i],T1(this,s,(n&S1[s])===S1[s])}function T1(t,e,n){n&&(t[e]=n)}var I1=Vy,xz=MT,wz=$T,yu=_z;function _z(t){var e=t.space,n=t.mustUseProperty||[],r=t.attributes||{},i=t.properties,s=t.transform,o={},a={},l,u;for(l in i)u=new wz(l,s(r,l),i[l],e),n.indexOf(l)!==-1&&(u.mustUseProperty=!0),o[l]=u,a[I1(l)]=l,a[I1(u.attribute)]=l;return new xz(o,a,e)}var Ez=yu,bz=Ez({space:"xlink",transform:kz,properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null}});function kz(t,e){return"xlink:"+e.slice(5).toLowerCase()}var Sz=yu,Tz=Sz({space:"xml",transform:Iz,properties:{xmlLang:null,xmlBase:null,xmlSpace:null}});function Iz(t,e){return"xml:"+e.slice(3).toLowerCase()}var Cz=Az;function Az(t,e){return e in t?t[e]:e}var Nz=Cz,HT=Pz;function Pz(t,e){return Nz(t,e.toLowerCase())}var Rz=yu,jz=HT,Dz=Rz({space:"xmlns",attributes:{xmlnsxlink:"xmlns:xlink"},transform:jz,properties:{xmlns:null,xmlnsXLink:null}}),Uy=xr,Oz=yu,rn=Uy.booleanish,An=Uy.number,as=Uy.spaceSeparated,Lz=Oz({transform:Mz,properties:{ariaActiveDescendant:null,ariaAtomic:rn,ariaAutoComplete:null,ariaBusy:rn,ariaChecked:rn,ariaColCount:An,ariaColIndex:An,ariaColSpan:An,ariaControls:as,ariaCurrent:null,ariaDescribedBy:as,ariaDetails:null,ariaDisabled:rn,ariaDropEffect:as,ariaErrorMessage:null,ariaExpanded:rn,ariaFlowTo:as,ariaGrabbed:rn,ariaHasPopup:null,ariaHidden:rn,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:as,ariaLevel:An,ariaLive:null,ariaModal:rn,ariaMultiLine:rn,ariaMultiSelectable:rn,ariaOrientation:null,ariaOwns:as,ariaPlaceholder:null,ariaPosInSet:An,ariaPressed:rn,ariaReadOnly:rn,ariaRelevant:null,ariaRequired:rn,ariaRoleDescription:as,ariaRowCount:An,ariaRowIndex:An,ariaRowSpan:An,ariaSelected:rn,ariaSetSize:An,ariaSort:null,ariaValueMax:An,ariaValueMin:An,ariaValueNow:An,ariaValueText:null,role:null}});function Mz(t,e){return e==="role"?e:"aria-"+e.slice(4).toLowerCase()}var fa=xr,Fz=yu,Vz=HT,Ee=fa.boolean,zz=fa.overloadedBoolean,Ma=fa.booleanish,We=fa.number,Qt=fa.spaceSeparated,oc=fa.commaSeparated,Uz=Fz({space:"html",attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},transform:Vz,mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:oc,acceptCharset:Qt,accessKey:Qt,action:null,allow:null,allowFullScreen:Ee,allowPaymentRequest:Ee,allowUserMedia:Ee,alt:null,as:null,async:Ee,autoCapitalize:null,autoComplete:Qt,autoFocus:Ee,autoPlay:Ee,capture:Ee,charSet:null,checked:Ee,cite:null,className:Qt,cols:We,colSpan:null,content:null,contentEditable:Ma,controls:Ee,controlsList:Qt,coords:We|oc,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Ee,defer:Ee,dir:null,dirName:null,disabled:Ee,download:zz,draggable:Ma,encType:null,enterKeyHint:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Ee,formTarget:null,headers:Qt,height:We,hidden:Ee,high:We,href:null,hrefLang:null,htmlFor:Qt,httpEquiv:Qt,id:null,imageSizes:null,imageSrcSet:oc,inputMode:null,integrity:null,is:null,isMap:Ee,itemId:null,itemProp:Qt,itemRef:Qt,itemScope:Ee,itemType:Qt,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Ee,low:We,manifest:null,max:null,maxLength:We,media:null,method:null,min:null,minLength:We,multiple:Ee,muted:Ee,name:null,nonce:null,noModule:Ee,noValidate:Ee,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforePrint:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextMenu:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Ee,optimum:We,pattern:null,ping:Qt,placeholder:null,playsInline:Ee,poster:null,preload:null,readOnly:Ee,referrerPolicy:null,rel:Qt,required:Ee,reversed:Ee,rows:We,rowSpan:We,sandbox:Qt,scope:null,scoped:Ee,seamless:Ee,selected:Ee,shape:null,size:We,sizes:null,slot:null,span:We,spellCheck:Ma,src:null,srcDoc:null,srcLang:null,srcSet:oc,start:We,step:null,style:null,tabIndex:We,target:null,title:null,translate:null,type:null,typeMustMatch:Ee,useMap:null,value:Ma,width:We,wrap:null,align:null,aLink:null,archive:Qt,axis:null,background:null,bgColor:null,border:We,borderColor:null,bottomMargin:We,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Ee,declare:Ee,event:null,face:null,frame:null,frameBorder:null,hSpace:We,leftMargin:We,link:null,longDesc:null,lowSrc:null,marginHeight:We,marginWidth:We,noResize:Ee,noHref:Ee,noShade:Ee,noWrap:Ee,object:null,profile:null,prompt:null,rev:null,rightMargin:We,rules:null,scheme:null,scrolling:Ma,standby:null,summary:null,text:null,topMargin:We,valueType:null,version:null,vAlign:null,vLink:null,vSpace:We,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Ee,disableRemotePlayback:Ee,prefix:null,property:null,results:We,security:null,unselectable:null}}),$z=pz,Bz=bz,Hz=Tz,qz=Dz,Wz=Lz,Gz=Uz,Kz=$z([Hz,Bz,qz,Wz,Gz]),Qz=Vy,Yz=$T,Jz=VT,$y="data",Xz=t9,Zz=/^data[-\w.:]+$/i,qT=/-[a-z]/g,e9=/[A-Z]/g;function t9(t,e){var n=Qz(e),r=e,i=Jz;return n in t.normal?t.property[t.normal[n]]:(n.length>4&&n.slice(0,4)===$y&&Zz.test(e)&&(e.charAt(4)==="-"?r=n9(e):e=r9(e),i=Yz),new i(r,e))}function n9(t){var e=t.slice(5).replace(qT,s9);return $y+e.charAt(0).toUpperCase()+e.slice(1)}function r9(t){var e=t.slice(4);return qT.test(e)?t:(e=e.replace(e9,i9),e.charAt(0)!=="-"&&(e="-"+e),$y+e)}function i9(t){return"-"+t.toLowerCase()}function s9(t){return t.charAt(1).toUpperCase()}var o9=a9,C1=/[#.]/g;function a9(t,e){for(var n=t||"",r=e||"div",i={},s=0,o,a,l;s<n.length;)C1.lastIndex=s,l=C1.exec(n),o=n.slice(s,l?l.index:n.length),o&&(a?a==="#"?i.id=o:i.className?i.className.push(o):i.className=[o]:r=o,s+=o.length),l&&(a=l[0],s++);return{type:"element",tagName:r,properties:i,children:[]}}var By={};By.parse=c9;By.stringify=h9;var A1="",l9=" ",u9=/[ \t\n\r\f]+/g;function c9(t){var e=String(t||A1).trim();return e===A1?[]:e.split(u9)}function h9(t){return t.join(l9).trim()}var Hy={};Hy.parse=d9;Hy.stringify=f9;var Cm=",",N1=" ",Ka="";function d9(t){for(var e=[],n=String(t||Ka),r=n.indexOf(Cm),i=0,s=!1,o;!s;)r===-1&&(r=n.length,s=!0),o=n.slice(i,r).trim(),(o||!s)&&e.push(o),i=r+1,r=n.indexOf(Cm,i);return e}function f9(t,e){var n=e||{},r=n.padLeft===!1?Ka:N1,i=n.padRight?N1:Ka;return t[t.length-1]===Ka&&(t=t.concat(Ka)),t.join(i+Cm+r).trim()}var p9=Xz,P1=Vy,m9=o9,R1=By.parse,j1=Hy.parse,g9=v9,y9={}.hasOwnProperty;function v9(t,e,n){var r=n?b9(n):null;return i;function i(o,a){var l=m9(o,e),u=Array.prototype.slice.call(arguments,2),h=l.tagName.toLowerCase(),f;if(l.tagName=r&&y9.call(r,h)?r[h]:h,a&&x9(a,l)&&(u.unshift(a),a=null),a)for(f in a)s(l.properties,f,a[f]);return WT(l.children,u),l.tagName==="template"&&(l.content={type:"root",children:l.children},l.children=[]),l}function s(o,a,l){var u,h,f;l==null||l!==l||(u=p9(t,a),h=u.property,f=l,typeof f=="string"&&(u.spaceSeparated?f=R1(f):u.commaSeparated?f=j1(f):u.commaOrSpaceSeparated&&(f=R1(j1(f).join(" ")))),h==="style"&&typeof l!="string"&&(f=E9(f)),h==="className"&&o.className&&(f=o.className.concat(f)),o[h]=_9(u,h,f))}}function x9(t,e){return typeof t=="string"||"length"in t||w9(e.tagName,t)}function w9(t,e){var n=e.type;return t==="input"||!n||typeof n!="string"?!1:typeof e.children=="object"&&"length"in e.children?!0:(n=n.toLowerCase(),t==="button"?n!=="menu"&&n!=="submit"&&n!=="reset"&&n!=="button":"value"in e)}function WT(t,e){var n,r;if(typeof e=="string"||typeof e=="number"){t.push({type:"text",value:String(e)});return}if(typeof e=="object"&&"length"in e){for(n=-1,r=e.length;++n<r;)WT(t,e[n]);return}if(typeof e!="object"||!("type"in e))throw new Error("Expected node, nodes, or string, got `"+e+"`");t.push(e)}function _9(t,e,n){var r,i,s;if(typeof n!="object"||!("length"in n))return D1(t,e,n);for(i=n.length,r=-1,s=[];++r<i;)s[r]=D1(t,e,n[r]);return s}function D1(t,e,n){var r=n;return t.number||t.positiveNumber?!isNaN(r)&&r!==""&&(r=Number(r)):(t.boolean||t.overloadedBoolean)&&typeof r=="string"&&(r===""||P1(n)===P1(e))&&(r=!0),r}function E9(t){var e=[],n;for(n in t)e.push([n,t[n]].join(": "));return e.join("; ")}function b9(t){for(var e=t.length,n=-1,r={},i;++n<e;)i=t[n],r[i.toLowerCase()]=i;return r}var k9=Kz,S9=g9,GT=S9(k9,"div");GT.displayName="html";var T9=GT,I9=T9;const C9="Æ",A9="&",N9="Á",P9="Â",R9="À",j9="Å",D9="Ã",O9="Ä",L9="©",M9="Ç",F9="Ð",V9="É",z9="Ê",U9="È",$9="Ë",B9=">",H9="Í",q9="Î",W9="Ì",G9="Ï",K9="<",Q9="Ñ",Y9="Ó",J9="Ô",X9="Ò",Z9="Ø",eU="Õ",tU="Ö",nU='"',rU="®",iU="Þ",sU="Ú",oU="Û",aU="Ù",lU="Ü",uU="Ý",cU="á",hU="â",dU="´",fU="æ",pU="à",mU="&",gU="å",yU="ã",vU="ä",xU="¦",wU="ç",_U="¸",EU="¢",bU="©",kU="¤",SU="°",TU="÷",IU="é",CU="ê",AU="è",NU="ð",PU="ë",RU="½",jU="¼",DU="¾",OU=">",LU="í",MU="î",FU="¡",VU="ì",zU="¿",UU="ï",$U="«",BU="<",HU="¯",qU="µ",WU="·",GU=" ",KU="¬",QU="ñ",YU="ó",JU="ô",XU="ò",ZU="ª",e$="º",t$="ø",n$="õ",r$="ö",i$="¶",s$="±",o$="£",a$='"',l$="»",u$="®",c$="§",h$="­",d$="¹",f$="²",p$="³",m$="ß",g$="þ",y$="×",v$="ú",x$="û",w$="ù",_$="¨",E$="ü",b$="ý",k$="¥",S$="ÿ",T$={AElig:C9,AMP:A9,Aacute:N9,Acirc:P9,Agrave:R9,Aring:j9,Atilde:D9,Auml:O9,COPY:L9,Ccedil:M9,ETH:F9,Eacute:V9,Ecirc:z9,Egrave:U9,Euml:$9,GT:B9,Iacute:H9,Icirc:q9,Igrave:W9,Iuml:G9,LT:K9,Ntilde:Q9,Oacute:Y9,Ocirc:J9,Ograve:X9,Oslash:Z9,Otilde:eU,Ouml:tU,QUOT:nU,REG:rU,THORN:iU,Uacute:sU,Ucirc:oU,Ugrave:aU,Uuml:lU,Yacute:uU,aacute:cU,acirc:hU,acute:dU,aelig:fU,agrave:pU,amp:mU,aring:gU,atilde:yU,auml:vU,brvbar:xU,ccedil:wU,cedil:_U,cent:EU,copy:bU,curren:kU,deg:SU,divide:TU,eacute:IU,ecirc:CU,egrave:AU,eth:NU,euml:PU,frac12:RU,frac14:jU,frac34:DU,gt:OU,iacute:LU,icirc:MU,iexcl:FU,igrave:VU,iquest:zU,iuml:UU,laquo:$U,lt:BU,macr:HU,micro:qU,middot:WU,nbsp:GU,not:KU,ntilde:QU,oacute:YU,ocirc:JU,ograve:XU,ordf:ZU,ordm:e$,oslash:t$,otilde:n$,ouml:r$,para:i$,plusmn:s$,pound:o$,quot:a$,raquo:l$,reg:u$,sect:c$,shy:h$,sup1:d$,sup2:f$,sup3:p$,szlig:m$,thorn:g$,times:y$,uacute:v$,ucirc:x$,ugrave:w$,uml:_$,uuml:E$,yacute:b$,yen:k$,yuml:S$},I$={0:"�",128:"€",130:"‚",131:"ƒ",132:"„",133:"…",134:"†",135:"‡",136:"ˆ",137:"‰",138:"Š",139:"‹",140:"Œ",142:"Ž",145:"‘",146:"’",147:"“",148:"”",149:"•",150:"–",151:"—",152:"˜",153:"™",154:"š",155:"›",156:"œ",158:"ž",159:"Ÿ"};var KT=C$;function C$(t){var e=typeof t=="string"?t.charCodeAt(0):t;return e>=48&&e<=57}var A$=N$;function N$(t){var e=typeof t=="string"?t.charCodeAt(0):t;return e>=97&&e<=102||e>=65&&e<=70||e>=48&&e<=57}var P$=R$;function R$(t){var e=typeof t=="string"?t.charCodeAt(0):t;return e>=97&&e<=122||e>=65&&e<=90}var j$=P$,D$=KT,O$=L$;function L$(t){return j$(t)||D$(t)}var ac,M$=59,F$=V$;function V$(t){var e="&"+t+";",n;return ac=ac||document.createElement("i"),ac.innerHTML=e,n=ac.textContent,n.charCodeAt(n.length-1)===M$&&t!=="semi"||n===e?!1:n}var O1=T$,L1=I$,z$=KT,U$=A$,QT=O$,$$=F$,B$=n8,H$={}.hasOwnProperty,no=String.fromCharCode,q$=Function.prototype,M1={warning:null,reference:null,text:null,warningContext:null,referenceContext:null,textContext:null,position:{},additional:null,attribute:!1,nonTerminated:!0},W$=9,F1=10,G$=12,K$=32,V1=38,Q$=59,Y$=60,J$=61,X$=35,Z$=88,e8=120,t8=65533,ao="named",qy="hexadecimal",Wy="decimal",Gy={};Gy[qy]=16;Gy[Wy]=10;var Nd={};Nd[ao]=QT;Nd[Wy]=z$;Nd[qy]=U$;var YT=1,JT=2,XT=3,ZT=4,e2=5,Am=6,t2=7,Ji={};Ji[YT]="Named character references must be terminated by a semicolon";Ji[JT]="Numeric character references must be terminated by a semicolon";Ji[XT]="Named character references cannot be empty";Ji[ZT]="Numeric character references cannot be empty";Ji[e2]="Named character references must be known";Ji[Am]="Numeric character references cannot be disallowed";Ji[t2]="Numeric character references cannot be outside the permissible Unicode range";function n8(t,e){var n={},r,i;e||(e={});for(i in M1)r=e[i],n[i]=r??M1[i];return(n.position.indent||n.position.start)&&(n.indent=n.position.indent||[],n.position=n.position.start),r8(t,n)}function r8(t,e){var n=e.additional,r=e.nonTerminated,i=e.text,s=e.reference,o=e.warning,a=e.textContext,l=e.referenceContext,u=e.warningContext,h=e.position,f=e.indent||[],p=t.length,g=0,w=-1,T=h.column||1,I=h.line||1,_="",v=[],x,N,O,A,k,b,S,E,j,D,P,q,G,le,se,U,Y,R,J;for(typeof n=="string"&&(n=n.charCodeAt(0)),U=ne(),E=o?L:q$,g--,p++;++g<p;)if(k===F1&&(T=f[w]||1),k=t.charCodeAt(g),k===V1){if(S=t.charCodeAt(g+1),S===W$||S===F1||S===G$||S===K$||S===V1||S===Y$||S!==S||n&&S===n){_+=no(k),T++;continue}for(G=g+1,q=G,J=G,S===X$?(J=++q,S=t.charCodeAt(J),S===Z$||S===e8?(le=qy,J=++q):le=Wy):le=ao,x="",P="",A="",se=Nd[le],J--;++J<p&&(S=t.charCodeAt(J),!!se(S));)A+=no(S),le===ao&&H$.call(O1,A)&&(x=A,P=O1[A]);O=t.charCodeAt(J)===Q$,O&&(J++,N=le===ao?$$(A):!1,N&&(x=A,P=N)),R=1+J-G,!O&&!r||(A?le===ao?(O&&!P?E(e2,1):(x!==A&&(J=q+x.length,R=1+J-q,O=!1),O||(j=x?YT:XT,e.attribute?(S=t.charCodeAt(J),S===J$?(E(j,R),P=null):QT(S)?P=null:E(j,R)):E(j,R))),b=P):(O||E(JT,R),b=parseInt(A,Gy[le]),i8(b)?(E(t2,R),b=no(t8)):b in L1?(E(Am,R),b=L1[b]):(D="",s8(b)&&E(Am,R),b>65535&&(b-=65536,D+=no(b>>>10|55296),b=56320|b&1023),b=D+no(b))):le!==ao&&E(ZT,R)),b?(ge(),U=ne(),g=J-1,T+=J-G+1,v.push(b),Y=ne(),Y.offset++,s&&s.call(l,b,{start:U,end:Y},t.slice(G-1,J)),U=Y):(A=t.slice(G-1,J),_+=A,T+=A.length,g=J-1)}else k===10&&(I++,w++,T=0),k===k?(_+=no(k),T++):ge();return v.join("");function ne(){return{line:I,column:T,offset:g+(h.offset||0)}}function L(Ae,he){var X=ne();X.column+=he,X.offset+=he,o.call(u,Ji[Ae],X,Ae)}function ge(){_&&(v.push(_),i&&i.call(a,_,{start:U,end:ne()}),_="")}}function i8(t){return t>=55296&&t<=57343||t>1114111}function s8(t){return t>=1&&t<=8||t===11||t>=13&&t<=31||t>=127&&t<=159||t>=64976&&t<=65007||(t&65535)===65535||(t&65535)===65534}var n2={exports:{}};(function(t){var e=typeof window<"u"?window:typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope?self:{};/**
 * Prism: Lightweight, robust, elegant syntax highlighting
 *
 * @license MIT <https://opensource.org/licenses/MIT>
 * @author Lea Verou <https://lea.verou.me>
 * @namespace
 * @public
 */var n=function(r){var i=/(?:^|\s)lang(?:uage)?-([\w-]+)(?=\s|$)/i,s=0,o={},a={manual:r.Prism&&r.Prism.manual,disableWorkerMessageHandler:r.Prism&&r.Prism.disableWorkerMessageHandler,util:{encode:function v(x){return x instanceof l?new l(x.type,v(x.content),x.alias):Array.isArray(x)?x.map(v):x.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(v){return Object.prototype.toString.call(v).slice(8,-1)},objId:function(v){return v.__id||Object.defineProperty(v,"__id",{value:++s}),v.__id},clone:function v(x,N){N=N||{};var O,A;switch(a.util.type(x)){case"Object":if(A=a.util.objId(x),N[A])return N[A];O={},N[A]=O;for(var k in x)x.hasOwnProperty(k)&&(O[k]=v(x[k],N));return O;case"Array":return A=a.util.objId(x),N[A]?N[A]:(O=[],N[A]=O,x.forEach(function(b,S){O[S]=v(b,N)}),O);default:return x}},getLanguage:function(v){for(;v;){var x=i.exec(v.className);if(x)return x[1].toLowerCase();v=v.parentElement}return"none"},setLanguage:function(v,x){v.className=v.className.replace(RegExp(i,"gi"),""),v.classList.add("language-"+x)},currentScript:function(){if(typeof document>"u")return null;if("currentScript"in document)return document.currentScript;try{throw new Error}catch(O){var v=(/at [^(\r\n]*\((.*):[^:]+:[^:]+\)$/i.exec(O.stack)||[])[1];if(v){var x=document.getElementsByTagName("script");for(var N in x)if(x[N].src==v)return x[N]}return null}},isActive:function(v,x,N){for(var O="no-"+x;v;){var A=v.classList;if(A.contains(x))return!0;if(A.contains(O))return!1;v=v.parentElement}return!!N}},languages:{plain:o,plaintext:o,text:o,txt:o,extend:function(v,x){var N=a.util.clone(a.languages[v]);for(var O in x)N[O]=x[O];return N},insertBefore:function(v,x,N,O){O=O||a.languages;var A=O[v],k={};for(var b in A)if(A.hasOwnProperty(b)){if(b==x)for(var S in N)N.hasOwnProperty(S)&&(k[S]=N[S]);N.hasOwnProperty(b)||(k[b]=A[b])}var E=O[v];return O[v]=k,a.languages.DFS(a.languages,function(j,D){D===E&&j!=v&&(this[j]=k)}),k},DFS:function v(x,N,O,A){A=A||{};var k=a.util.objId;for(var b in x)if(x.hasOwnProperty(b)){N.call(x,b,x[b],O||b);var S=x[b],E=a.util.type(S);E==="Object"&&!A[k(S)]?(A[k(S)]=!0,v(S,N,null,A)):E==="Array"&&!A[k(S)]&&(A[k(S)]=!0,v(S,N,b,A))}}},plugins:{},highlightAll:function(v,x){a.highlightAllUnder(document,v,x)},highlightAllUnder:function(v,x,N){var O={callback:N,container:v,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};a.hooks.run("before-highlightall",O),O.elements=Array.prototype.slice.apply(O.container.querySelectorAll(O.selector)),a.hooks.run("before-all-elements-highlight",O);for(var A=0,k;k=O.elements[A++];)a.highlightElement(k,x===!0,O.callback)},highlightElement:function(v,x,N){var O=a.util.getLanguage(v),A=a.languages[O];a.util.setLanguage(v,O);var k=v.parentElement;k&&k.nodeName.toLowerCase()==="pre"&&a.util.setLanguage(k,O);var b=v.textContent,S={element:v,language:O,grammar:A,code:b};function E(D){S.highlightedCode=D,a.hooks.run("before-insert",S),S.element.innerHTML=S.highlightedCode,a.hooks.run("after-highlight",S),a.hooks.run("complete",S),N&&N.call(S.element)}if(a.hooks.run("before-sanity-check",S),k=S.element.parentElement,k&&k.nodeName.toLowerCase()==="pre"&&!k.hasAttribute("tabindex")&&k.setAttribute("tabindex","0"),!S.code){a.hooks.run("complete",S),N&&N.call(S.element);return}if(a.hooks.run("before-highlight",S),!S.grammar){E(a.util.encode(S.code));return}if(x&&r.Worker){var j=new Worker(a.filename);j.onmessage=function(D){E(D.data)},j.postMessage(JSON.stringify({language:S.language,code:S.code,immediateClose:!0}))}else E(a.highlight(S.code,S.grammar,S.language))},highlight:function(v,x,N){var O={code:v,grammar:x,language:N};if(a.hooks.run("before-tokenize",O),!O.grammar)throw new Error('The language "'+O.language+'" has no grammar.');return O.tokens=a.tokenize(O.code,O.grammar),a.hooks.run("after-tokenize",O),l.stringify(a.util.encode(O.tokens),O.language)},tokenize:function(v,x){var N=x.rest;if(N){for(var O in N)x[O]=N[O];delete x.rest}var A=new f;return p(A,A.head,v),h(v,A,x,A.head,0),w(A)},hooks:{all:{},add:function(v,x){var N=a.hooks.all;N[v]=N[v]||[],N[v].push(x)},run:function(v,x){var N=a.hooks.all[v];if(!(!N||!N.length))for(var O=0,A;A=N[O++];)A(x)}},Token:l};r.Prism=a;function l(v,x,N,O){this.type=v,this.content=x,this.alias=N,this.length=(O||"").length|0}l.stringify=function v(x,N){if(typeof x=="string")return x;if(Array.isArray(x)){var O="";return x.forEach(function(E){O+=v(E,N)}),O}var A={type:x.type,content:v(x.content,N),tag:"span",classes:["token",x.type],attributes:{},language:N},k=x.alias;k&&(Array.isArray(k)?Array.prototype.push.apply(A.classes,k):A.classes.push(k)),a.hooks.run("wrap",A);var b="";for(var S in A.attributes)b+=" "+S+'="'+(A.attributes[S]||"").replace(/"/g,"&quot;")+'"';return"<"+A.tag+' class="'+A.classes.join(" ")+'"'+b+">"+A.content+"</"+A.tag+">"};function u(v,x,N,O){v.lastIndex=x;var A=v.exec(N);if(A&&O&&A[1]){var k=A[1].length;A.index+=k,A[0]=A[0].slice(k)}return A}function h(v,x,N,O,A,k){for(var b in N)if(!(!N.hasOwnProperty(b)||!N[b])){var S=N[b];S=Array.isArray(S)?S:[S];for(var E=0;E<S.length;++E){if(k&&k.cause==b+","+E)return;var j=S[E],D=j.inside,P=!!j.lookbehind,q=!!j.greedy,G=j.alias;if(q&&!j.pattern.global){var le=j.pattern.toString().match(/[imsuy]*$/)[0];j.pattern=RegExp(j.pattern.source,le+"g")}for(var se=j.pattern||j,U=O.next,Y=A;U!==x.tail&&!(k&&Y>=k.reach);Y+=U.value.length,U=U.next){var R=U.value;if(x.length>v.length)return;if(!(R instanceof l)){var J=1,ne;if(q){if(ne=u(se,Y,v,P),!ne||ne.index>=v.length)break;var he=ne.index,L=ne.index+ne[0].length,ge=Y;for(ge+=U.value.length;he>=ge;)U=U.next,ge+=U.value.length;if(ge-=U.value.length,Y=ge,U.value instanceof l)continue;for(var Ae=U;Ae!==x.tail&&(ge<L||typeof Ae.value=="string");Ae=Ae.next)J++,ge+=Ae.value.length;J--,R=v.slice(Y,ge),ne.index-=Y}else if(ne=u(se,0,R,P),!ne)continue;var he=ne.index,X=ne[0],pe=R.slice(0,he),ve=R.slice(he+X.length),be=Y+R.length;k&&be>k.reach&&(k.reach=be);var Me=U.prev;pe&&(Me=p(x,Me,pe),Y+=pe.length),g(x,Me,J);var pn=new l(b,D?a.tokenize(X,D):X,G,X);if(U=p(x,Me,pn),ve&&p(x,U,ve),J>1){var Un={cause:b+","+E,reach:be};h(v,x,N,U.prev,Y,Un),k&&Un.reach>k.reach&&(k.reach=Un.reach)}}}}}}function f(){var v={value:null,prev:null,next:null},x={value:null,prev:v,next:null};v.next=x,this.head=v,this.tail=x,this.length=0}function p(v,x,N){var O=x.next,A={value:N,prev:x,next:O};return x.next=A,O.prev=A,v.length++,A}function g(v,x,N){for(var O=x.next,A=0;A<N&&O!==v.tail;A++)O=O.next;x.next=O,O.prev=x,v.length-=A}function w(v){for(var x=[],N=v.head.next;N!==v.tail;)x.push(N.value),N=N.next;return x}if(!r.document)return r.addEventListener&&(a.disableWorkerMessageHandler||r.addEventListener("message",function(v){var x=JSON.parse(v.data),N=x.language,O=x.code,A=x.immediateClose;r.postMessage(a.highlight(O,a.languages[N],N)),A&&r.close()},!1)),a;var T=a.util.currentScript();T&&(a.filename=T.src,T.hasAttribute("data-manual")&&(a.manual=!0));function I(){a.manual||a.highlightAll()}if(!a.manual){var _=document.readyState;_==="loading"||_==="interactive"&&T&&T.defer?document.addEventListener("DOMContentLoaded",I):window.requestAnimationFrame?window.requestAnimationFrame(I):window.setTimeout(I,16)}return a}(e);t.exports&&(t.exports=n),typeof Pi<"u"&&(Pi.Prism=n)})(n2);var o8=n2.exports,a8=Ky;Ky.displayName="markup";Ky.aliases=["html","mathml","svg","xml","ssml","atom","rss"];function Ky(t){t.languages.markup={comment:{pattern:/<!--(?:(?!<!--)[\s\S])*?-->/,greedy:!0},prolog:{pattern:/<\?[\s\S]+?\?>/,greedy:!0},doctype:{pattern:/<!DOCTYPE(?:[^>"'[\]]|"[^"]*"|'[^']*')+(?:\[(?:[^<"'\]]|"[^"]*"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\]\s*)?>/i,greedy:!0,inside:{"internal-subset":{pattern:/(^[^\[]*\[)[\s\S]+(?=\]>$)/,lookbehind:!0,greedy:!0,inside:null},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},punctuation:/^<!|>$|[[\]]/,"doctype-tag":/^DOCTYPE/i,name:/[^\s<>'"]+/}},cdata:{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,greedy:!0},tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"special-attr":[],"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:[{pattern:/&[\da-z]{1,8};/i,alias:"named-entity"},/&#x?[\da-f]{1,8};/i]},t.languages.markup.tag.inside["attr-value"].inside.entity=t.languages.markup.entity,t.languages.markup.doctype.inside["internal-subset"].inside=t.languages.markup,t.hooks.add("wrap",function(e){e.type==="entity"&&(e.attributes.title=e.content.value.replace(/&amp;/,"&"))}),Object.defineProperty(t.languages.markup.tag,"addInlined",{value:function(n,r){var i={};i["language-"+r]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:t.languages[r]},i.cdata=/^<!\[CDATA\[|\]\]>$/i;var s={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:i}};s["language-"+r]={pattern:/[\s\S]+/,inside:t.languages[r]};var o={};o[n]={pattern:RegExp(/(<__[^>]*>)(?:<!\[CDATA\[(?:[^\]]|\](?!\]>))*\]\]>|(?!<!\[CDATA\[)[\s\S])*?(?=<\/__>)/.source.replace(/__/g,function(){return n}),"i"),lookbehind:!0,greedy:!0,inside:s},t.languages.insertBefore("markup","cdata",o)}}),Object.defineProperty(t.languages.markup.tag,"addAttribute",{value:function(e,n){t.languages.markup.tag.inside["special-attr"].push({pattern:RegExp(/(^|["'\s])/.source+"(?:"+e+")"+/\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))/.source,"i"),lookbehind:!0,inside:{"attr-name":/^[^\s=]+/,"attr-value":{pattern:/=[\s\S]+/,inside:{value:{pattern:/(^=\s*(["']|(?!["'])))\S[\s\S]*(?=\2$)/,lookbehind:!0,alias:[n,"language-"+n],inside:t.languages[n]},punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}}}})}}),t.languages.html=t.languages.markup,t.languages.mathml=t.languages.markup,t.languages.svg=t.languages.markup,t.languages.xml=t.languages.extend("markup",{}),t.languages.ssml=t.languages.xml,t.languages.atom=t.languages.xml,t.languages.rss=t.languages.xml}var l8=Qy;Qy.displayName="css";Qy.aliases=[];function Qy(t){(function(e){var n=/(?:"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n])*')/;e.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:/@[\w-](?:[^;{\s]|\s+(?![\s{]))*(?:;|(?=\s*\{))/,inside:{rule:/^@[\w-]+/,"selector-function-argument":{pattern:/(\bselector\s*\(\s*(?![\s)]))(?:[^()\s]|\s+(?![\s)])|\((?:[^()]|\([^()]*\))*\))+(?=\s*\))/,lookbehind:!0,alias:"selector"},keyword:{pattern:/(^|[^\w-])(?:and|not|only|or)(?![\w-])/,lookbehind:!0}}},url:{pattern:RegExp("\\burl\\((?:"+n.source+"|"+/(?:[^\\\r\n()"']|\\[\s\S])*/.source+")\\)","i"),greedy:!0,inside:{function:/^url/i,punctuation:/^\(|\)$/,string:{pattern:RegExp("^"+n.source+"$"),alias:"url"}}},selector:{pattern:RegExp(`(^|[{}\\s])[^{}\\s](?:[^{};"'\\s]|\\s+(?![\\s{])|`+n.source+")*(?=\\s*\\{)"),lookbehind:!0},string:{pattern:n,greedy:!0},property:{pattern:/(^|[^-\w\xA0-\uFFFF])(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*(?=\s*:)/i,lookbehind:!0},important:/!important\b/i,function:{pattern:/(^|[^-a-z0-9])[-a-z0-9]+(?=\()/i,lookbehind:!0},punctuation:/[(){};:,]/},e.languages.css.atrule.inside.rest=e.languages.css;var r=e.languages.markup;r&&(r.tag.addInlined("style","css"),r.tag.addAttribute("style","css"))})(t)}var u8=Yy;Yy.displayName="clike";Yy.aliases=[];function Yy(t){t.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|trait)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:break|catch|continue|do|else|finally|for|function|if|in|instanceof|new|null|return|throw|try|while)\b/,boolean:/\b(?:false|true)\b/,function:/\b\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/,punctuation:/[{}[\];(),.:]/}}var c8=Jy;Jy.displayName="javascript";Jy.aliases=["js"];function Jy(t){t.languages.javascript=t.languages.extend("clike",{"class-name":[t.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:constructor|prototype))/,lookbehind:!0}],keyword:[{pattern:/((?:^|\})\s*)catch\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|assert(?=\s*\{)|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\s*(?:\{|$))|for|from(?=\s*(?:['"]|$))|function|(?:get|set)(?=\s*(?:[#\[$\w\xA0-\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],function:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,number:{pattern:RegExp(/(^|[^\w$])/.source+"(?:"+(/NaN|Infinity/.source+"|"+/0[bB][01]+(?:_[01]+)*n?/.source+"|"+/0[oO][0-7]+(?:_[0-7]+)*n?/.source+"|"+/0[xX][\dA-Fa-f]+(?:_[\dA-Fa-f]+)*n?/.source+"|"+/\d+(?:_\d+)*n/.source+"|"+/(?:\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\.\d+(?:_\d+)*)(?:[Ee][+-]?\d+(?:_\d+)*)?/.source)+")"+/(?![\w$])/.source),lookbehind:!0},operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/}),t.languages.javascript["class-name"][0].pattern=/(\b(?:class|extends|implements|instanceof|interface|new)\s+)[\w.\\]+/,t.languages.insertBefore("javascript","keyword",{regex:{pattern:/((?:^|[^$\w\xA0-\uFFFF."'\])\s]|\b(?:return|yield))\s*)\/(?:\[(?:[^\]\\\r\n]|\\.)*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/,lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:t.languages.regex},"regex-delimiter":/^\/|\/$/,"regex-flags":/^[a-z]+$/}},"function-variable":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,lookbehind:!0,inside:t.languages.javascript},{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,lookbehind:!0,inside:t.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,lookbehind:!0,inside:t.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,lookbehind:!0,inside:t.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/}),t.languages.insertBefore("javascript","string",{hashbang:{pattern:/^#!.*/,greedy:!0,alias:"comment"},"template-string":{pattern:/`(?:\\[\s\S]|\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}|(?!\$\{)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:t.languages.javascript}},string:/[\s\S]+/}},"string-property":{pattern:/((?:^|[,{])[ \t]*)(["'])(?:\\(?:\r\n|[\s\S])|(?!\2)[^\\\r\n])*\2(?=\s*:)/m,lookbehind:!0,greedy:!0,alias:"property"}}),t.languages.insertBefore("javascript","operator",{"literal-property":{pattern:/((?:^|[,{])[ \t]*)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*:)/m,lookbehind:!0,alias:"property"}}),t.languages.markup&&(t.languages.markup.tag.addInlined("script","javascript"),t.languages.markup.tag.addAttribute(/on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/.source,"javascript")),t.languages.js=t.languages.javascript}var Qa=typeof globalThis=="object"?globalThis:typeof self=="object"?self:typeof window=="object"?window:typeof Pi=="object"?Pi:{},h8=I8();Qa.Prism={manual:!0,disableWorkerMessageHandler:!0};var d8=I9,f8=B$,r2=o8,p8=a8,m8=l8,g8=u8,y8=c8;h8();var Xy={}.hasOwnProperty;function i2(){}i2.prototype=r2;var ft=new i2,v8=ft;ft.highlight=w8;ft.register=vu;ft.alias=x8;ft.registered=_8;ft.listLanguages=E8;vu(p8);vu(m8);vu(g8);vu(y8);ft.util.encode=S8;ft.Token.stringify=b8;function vu(t){if(typeof t!="function"||!t.displayName)throw new Error("Expected `function` for `grammar`, got `"+t+"`");ft.languages[t.displayName]===void 0&&t(ft)}function x8(t,e){var n=ft.languages,r=t,i,s,o,a;e&&(r={},r[t]=e);for(i in r)for(s=r[i],s=typeof s=="string"?[s]:s,o=s.length,a=-1;++a<o;)n[s[a]]=n[i]}function w8(t,e){var n=r2.highlight,r;if(typeof t!="string")throw new Error("Expected `string` for `value`, got `"+t+"`");if(ft.util.type(e)==="Object")r=e,e=null;else{if(typeof e!="string")throw new Error("Expected `string` for `name`, got `"+e+"`");if(Xy.call(ft.languages,e))r=ft.languages[e];else throw new Error("Unknown language: `"+e+"` is not registered")}return n.call(this,t,r,e)}function _8(t){if(typeof t!="string")throw new Error("Expected `string` for `language`, got `"+t+"`");return Xy.call(ft.languages,t)}function E8(){var t=ft.languages,e=[],n;for(n in t)Xy.call(t,n)&&typeof t[n]=="object"&&e.push(n);return e}function b8(t,e,n){var r;return typeof t=="string"?{type:"text",value:t}:ft.util.type(t)==="Array"?k8(t,e):(r={type:t.type,content:ft.Token.stringify(t.content,e,n),tag:"span",classes:["token",t.type],attributes:{},language:e,parent:n},t.alias&&(r.classes=r.classes.concat(t.alias)),ft.hooks.run("wrap",r),d8(r.tag+"."+r.classes.join("."),T8(r.attributes),r.content))}function k8(t,e){for(var n=[],r=t.length,i=-1,s;++i<r;)s=t[i],s!==""&&s!==null&&s!==void 0&&n.push(s);for(i=-1,r=n.length;++i<r;)s=n[i],n[i]=ft.Token.stringify(s,e,n);return n}function S8(t){return t}function T8(t){var e;for(e in t)t[e]=f8(t[e]);return t}function I8(){var t="Prism"in Qa,e=t?Qa.Prism:void 0;return n;function n(){t?Qa.Prism=e:delete Qa.Prism,t=void 0,e=void 0}}const Zy=Mh(v8);var Oh=uz(Zy,{});Oh.registerLanguage=function(t,e){return Zy.register(e)};Oh.alias=function(t,e){return Zy.alias(t,e)};const z1={'pre[class*="language-"]':{color:"#d4d4d4",fontSize:"13px",textShadow:"none",fontFamily:'Menlo, Monaco, Consolas, "Andale Mono", "Ubuntu Mono", "Courier New", monospace',direction:"ltr",textAlign:"left",whiteSpace:"pre",wordSpacing:"normal",wordBreak:"normal",lineHeight:"1.5",MozTabSize:"4",OTabSize:"4",tabSize:"4",WebkitHyphens:"none",MozHyphens:"none",msHyphens:"none",hyphens:"none",padding:"1em",margin:".5em 0",overflow:"auto",background:"#1e1e1e"},'code[class*="language-"]':{color:"#d4d4d4",fontSize:"13px",textShadow:"none",fontFamily:'Menlo, Monaco, Consolas, "Andale Mono", "Ubuntu Mono", "Courier New", monospace',direction:"ltr",textAlign:"left",whiteSpace:"pre",wordSpacing:"normal",wordBreak:"normal",lineHeight:"1.5",MozTabSize:"4",OTabSize:"4",tabSize:"4",WebkitHyphens:"none",MozHyphens:"none",msHyphens:"none",hyphens:"none"},'pre[class*="language-"]::selection':{textShadow:"none",background:"#264F78"},'code[class*="language-"]::selection':{textShadow:"none",background:"#264F78"},'pre[class*="language-"] *::selection':{textShadow:"none",background:"#264F78"},'code[class*="language-"] *::selection':{textShadow:"none",background:"#264F78"},':not(pre) > code[class*="language-"]':{padding:".1em .3em",borderRadius:".3em",color:"#db4c69",background:"#1e1e1e"},".namespace":{Opacity:".7"},"doctype.doctype-tag":{color:"#569CD6"},"doctype.name":{color:"#9cdcfe"},comment:{color:"#6a9955"},prolog:{color:"#6a9955"},punctuation:{color:"#d4d4d4"},".language-html .language-css .token.punctuation":{color:"#d4d4d4"},".language-html .language-javascript .token.punctuation":{color:"#d4d4d4"},property:{color:"#9cdcfe"},tag:{color:"#569cd6"},boolean:{color:"#569cd6"},number:{color:"#b5cea8"},constant:{color:"#9cdcfe"},symbol:{color:"#b5cea8"},inserted:{color:"#b5cea8"},unit:{color:"#b5cea8"},selector:{color:"#d7ba7d"},"attr-name":{color:"#9cdcfe"},string:{color:"#ce9178"},char:{color:"#ce9178"},builtin:{color:"#ce9178"},deleted:{color:"#ce9178"},".language-css .token.string.url":{textDecoration:"underline"},operator:{color:"#d4d4d4"},entity:{color:"#569cd6"},"operator.arrow":{color:"#569CD6"},atrule:{color:"#ce9178"},"atrule.rule":{color:"#c586c0"},"atrule.url":{color:"#9cdcfe"},"atrule.url.function":{color:"#dcdcaa"},"atrule.url.punctuation":{color:"#d4d4d4"},keyword:{color:"#569CD6"},"keyword.module":{color:"#c586c0"},"keyword.control-flow":{color:"#c586c0"},function:{color:"#dcdcaa"},"function.maybe-class-name":{color:"#dcdcaa"},regex:{color:"#d16969"},important:{color:"#569cd6"},italic:{fontStyle:"italic"},"class-name":{color:"#4ec9b0"},"maybe-class-name":{color:"#4ec9b0"},console:{color:"#9cdcfe"},parameter:{color:"#9cdcfe"},interpolation:{color:"#9cdcfe"},"punctuation.interpolation-punctuation":{color:"#569cd6"},variable:{color:"#9cdcfe"},"imports.maybe-class-name":{color:"#9cdcfe"},"exports.maybe-class-name":{color:"#9cdcfe"},escape:{color:"#d7ba7d"},"tag.punctuation":{color:"#808080"},cdata:{color:"#808080"},"attr-value":{color:"#ce9178"},"attr-value.punctuation":{color:"#ce9178"},"attr-value.punctuation.attr-equals":{color:"#d4d4d4"},namespace:{color:"#4ec9b0"},'pre[class*="language-javascript"]':{color:"#9cdcfe"},'code[class*="language-javascript"]':{color:"#9cdcfe"},'pre[class*="language-jsx"]':{color:"#9cdcfe"},'code[class*="language-jsx"]':{color:"#9cdcfe"},'pre[class*="language-typescript"]':{color:"#9cdcfe"},'code[class*="language-typescript"]':{color:"#9cdcfe"},'pre[class*="language-tsx"]':{color:"#9cdcfe"},'code[class*="language-tsx"]':{color:"#9cdcfe"},'pre[class*="language-css"]':{color:"#ce9178"},'code[class*="language-css"]':{color:"#ce9178"},'pre[class*="language-html"]':{color:"#d4d4d4"},'code[class*="language-html"]':{color:"#d4d4d4"},".language-regex .token.anchor":{color:"#dcdcaa"},".language-html .token.punctuation":{color:"#808080"},'pre[class*="language-"] > code[class*="language-"]':{position:"relative",zIndex:"1"},".line-highlight.line-highlight":{background:"#f7ebc6",boxShadow:"inset 5px 0 0 #f7d87c",zIndex:"0"}};function U1(t,e){const n=String(t);if(typeof e!="string")throw new TypeError("Expected character");let r=0,i=n.indexOf(e);for(;i!==-1;)r++,i=n.indexOf(e,i+e.length);return r}function C8(t){if(typeof t!="string")throw new TypeError("Expected a string");return t.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function A8(t,e,n){const i=Cd((n||{}).ignore||[]),s=N8(e);let o=-1;for(;++o<s.length;)CT(t,"text",a);function a(u,h){let f=-1,p;for(;++f<h.length;){const g=h[f],w=p?p.children:void 0;if(i(g,w?w.indexOf(g):void 0,p))return;p=g}if(p)return l(u,h)}function l(u,h){const f=h[h.length-1],p=s[o][0],g=s[o][1];let w=0;const I=f.children.indexOf(u);let _=!1,v=[];p.lastIndex=0;let x=p.exec(u.value);for(;x;){const N=x.index,O={index:x.index,input:x.input,stack:[...h,u]};let A=g(...x,O);if(typeof A=="string"&&(A=A.length>0?{type:"text",value:A}:void 0),A===!1?p.lastIndex=N+1:(w!==N&&v.push({type:"text",value:u.value.slice(w,N)}),Array.isArray(A)?v.push(...A):A&&v.push(A),w=N+x[0].length,_=!0),!p.global)break;x=p.exec(u.value)}return _?(w<u.value.length&&v.push({type:"text",value:u.value.slice(w)}),f.children.splice(I,1,...v)):v=[u],I+v.length}}function N8(t){const e=[];if(!Array.isArray(t))throw new TypeError("Expected find and replace tuple or list of tuples");const n=!t[0]||Array.isArray(t[0])?t:[t];let r=-1;for(;++r<n.length;){const i=n[r];e.push([P8(i[0]),R8(i[1])])}return e}function P8(t){return typeof t=="string"?new RegExp(C8(t),"g"):t}function R8(t){return typeof t=="function"?t:function(){return t}}const Vf="phrasing",zf=["autolink","link","image","label"];function j8(){return{transforms:[z8],enter:{literalAutolink:O8,literalAutolinkEmail:Uf,literalAutolinkHttp:Uf,literalAutolinkWww:Uf},exit:{literalAutolink:V8,literalAutolinkEmail:F8,literalAutolinkHttp:L8,literalAutolinkWww:M8}}}function D8(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:Vf,notInConstruct:zf},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:Vf,notInConstruct:zf},{character:":",before:"[ps]",after:"\\/",inConstruct:Vf,notInConstruct:zf}]}}function O8(t){this.enter({type:"link",title:null,url:"",children:[]},t)}function Uf(t){this.config.enter.autolinkProtocol.call(this,t)}function L8(t){this.config.exit.autolinkProtocol.call(this,t)}function M8(t){this.config.exit.data.call(this,t);const e=this.stack[this.stack.length-1];e.type,e.url="http://"+this.sliceSerialize(t)}function F8(t){this.config.exit.autolinkEmail.call(this,t)}function V8(t){this.exit(t)}function z8(t){A8(t,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,U8],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),$8]],{ignore:["link","linkReference"]})}function U8(t,e,n,r,i){let s="";if(!s2(i)||(/^w/i.test(e)&&(n=e+n,e="",s="http://"),!B8(n)))return!1;const o=H8(n+r);if(!o[0])return!1;const a={type:"link",title:null,url:s+e+o[0],children:[{type:"text",value:e+o[0]}]};return o[1]?[a,{type:"text",value:o[1]}]:a}function $8(t,e,n,r){return!s2(r,!0)||/[-\d_]$/.test(n)?!1:{type:"link",title:null,url:"mailto:"+e+"@"+n,children:[{type:"text",value:e+"@"+n}]}}function B8(t){const e=t.split(".");return!(e.length<2||e[e.length-1]&&(/_/.test(e[e.length-1])||!/[a-zA-Z\d]/.test(e[e.length-1]))||e[e.length-2]&&(/_/.test(e[e.length-2])||!/[a-zA-Z\d]/.test(e[e.length-2])))}function H8(t){const e=/[!"&'),.:;<>?\]}]+$/.exec(t);if(!e)return[t,void 0];t=t.slice(0,e.index);let n=e[0],r=n.indexOf(")");const i=U1(t,"(");let s=U1(t,")");for(;r!==-1&&i>s;)t+=n.slice(0,r+1),n=n.slice(r+1),r=n.indexOf(")"),s++;return[t,n]}function s2(t,e){const n=t.input.charCodeAt(t.index-1);return(t.index===0||Ds(n)||Sd(n))&&(!e||n!==47)}o2.peek=Z8;function q8(){this.buffer()}function W8(t){this.enter({type:"footnoteReference",identifier:"",label:""},t)}function G8(){this.buffer()}function K8(t){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},t)}function Q8(t){const e=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=Zn(this.sliceSerialize(t)).toLowerCase(),n.label=e}function Y8(t){this.exit(t)}function J8(t){const e=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=Zn(this.sliceSerialize(t)).toLowerCase(),n.label=e}function X8(t){this.exit(t)}function Z8(){return"["}function o2(t,e,n,r){const i=n.createTracker(r);let s=i.move("[^");const o=n.enter("footnoteReference"),a=n.enter("reference");return s+=i.move(n.safe(n.associationId(t),{after:"]",before:s})),a(),o(),s+=i.move("]"),s}function eB(){return{enter:{gfmFootnoteCallString:q8,gfmFootnoteCall:W8,gfmFootnoteDefinitionLabelString:G8,gfmFootnoteDefinition:K8},exit:{gfmFootnoteCallString:Q8,gfmFootnoteCall:Y8,gfmFootnoteDefinitionLabelString:J8,gfmFootnoteDefinition:X8}}}function tB(t){let e=!1;return t&&t.firstLineBlank&&(e=!0),{handlers:{footnoteDefinition:n,footnoteReference:o2},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function n(r,i,s,o){const a=s.createTracker(o);let l=a.move("[^");const u=s.enter("footnoteDefinition"),h=s.enter("label");return l+=a.move(s.safe(s.associationId(r),{before:l,after:"]"})),h(),l+=a.move("]:"),r.children&&r.children.length>0&&(a.shift(4),l+=a.move((e?`
`:" ")+s.indentLines(s.containerFlow(r,a.current()),e?a2:nB))),u(),l}}function nB(t,e,n){return e===0?t:a2(t,e,n)}function a2(t,e,n){return(n?"":"    ")+t}const rB=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];l2.peek=lB;function iB(){return{canContainEols:["delete"],enter:{strikethrough:oB},exit:{strikethrough:aB}}}function sB(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:rB}],handlers:{delete:l2}}}function oB(t){this.enter({type:"delete",children:[]},t)}function aB(t){this.exit(t)}function l2(t,e,n,r){const i=n.createTracker(r),s=n.enter("strikethrough");let o=i.move("~~");return o+=n.containerPhrasing(t,{...i.current(),before:o,after:"~"}),o+=i.move("~~"),s(),o}function lB(){return"~"}function uB(t){return t.length}function cB(t,e){const n=e||{},r=(n.align||[]).concat(),i=n.stringLength||uB,s=[],o=[],a=[],l=[];let u=0,h=-1;for(;++h<t.length;){const T=[],I=[];let _=-1;for(t[h].length>u&&(u=t[h].length);++_<t[h].length;){const v=hB(t[h][_]);if(n.alignDelimiters!==!1){const x=i(v);I[_]=x,(l[_]===void 0||x>l[_])&&(l[_]=x)}T.push(v)}o[h]=T,a[h]=I}let f=-1;if(typeof r=="object"&&"length"in r)for(;++f<u;)s[f]=$1(r[f]);else{const T=$1(r);for(;++f<u;)s[f]=T}f=-1;const p=[],g=[];for(;++f<u;){const T=s[f];let I="",_="";T===99?(I=":",_=":"):T===108?I=":":T===114&&(_=":");let v=n.alignDelimiters===!1?1:Math.max(1,l[f]-I.length-_.length);const x=I+"-".repeat(v)+_;n.alignDelimiters!==!1&&(v=I.length+v+_.length,v>l[f]&&(l[f]=v),g[f]=v),p[f]=x}o.splice(1,0,p),a.splice(1,0,g),h=-1;const w=[];for(;++h<o.length;){const T=o[h],I=a[h];f=-1;const _=[];for(;++f<u;){const v=T[f]||"";let x="",N="";if(n.alignDelimiters!==!1){const O=l[f]-(I[f]||0),A=s[f];A===114?x=" ".repeat(O):A===99?O%2?(x=" ".repeat(O/2+.5),N=" ".repeat(O/2-.5)):(x=" ".repeat(O/2),N=x):N=" ".repeat(O)}n.delimiterStart!==!1&&!f&&_.push("|"),n.padding!==!1&&!(n.alignDelimiters===!1&&v==="")&&(n.delimiterStart!==!1||f)&&_.push(" "),n.alignDelimiters!==!1&&_.push(x),_.push(v),n.alignDelimiters!==!1&&_.push(N),n.padding!==!1&&_.push(" "),(n.delimiterEnd!==!1||f!==u-1)&&_.push("|")}w.push(n.delimiterEnd===!1?_.join("").replace(/ +$/,""):_.join(""))}return w.join(`
`)}function hB(t){return t==null?"":String(t)}function $1(t){const e=typeof t=="string"?t.codePointAt(0):0;return e===67||e===99?99:e===76||e===108?108:e===82||e===114?114:0}function dB(t,e,n,r){const i=n.enter("blockquote"),s=n.createTracker(r);s.move("> "),s.shift(2);const o=n.indentLines(n.containerFlow(t,s.current()),fB);return i(),o}function fB(t,e,n){return">"+(n?"":" ")+t}function pB(t,e){return B1(t,e.inConstruct,!0)&&!B1(t,e.notInConstruct,!1)}function B1(t,e,n){if(typeof e=="string"&&(e=[e]),!e||e.length===0)return n;let r=-1;for(;++r<e.length;)if(t.includes(e[r]))return!0;return!1}function H1(t,e,n,r){let i=-1;for(;++i<n.unsafe.length;)if(n.unsafe[i].character===`
`&&pB(n.stack,n.unsafe[i]))return/[ \t]/.test(r.before)?"":" ";return`\\
`}function mB(t,e){const n=String(t);let r=n.indexOf(e),i=r,s=0,o=0;if(typeof e!="string")throw new TypeError("Expected substring");for(;r!==-1;)r===i?++s>o&&(o=s):s=1,i=r+e.length,r=n.indexOf(e,i);return o}function gB(t,e){return!!(e.options.fences===!1&&t.value&&!t.lang&&/[^ \r\n]/.test(t.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(t.value))}function yB(t){const e=t.options.fence||"`";if(e!=="`"&&e!=="~")throw new Error("Cannot serialize code with `"+e+"` for `options.fence`, expected `` ` `` or `~`");return e}function vB(t,e,n,r){const i=yB(n),s=t.value||"",o=i==="`"?"GraveAccent":"Tilde";if(gB(t,n)){const f=n.enter("codeIndented"),p=n.indentLines(s,xB);return f(),p}const a=n.createTracker(r),l=i.repeat(Math.max(mB(s,i)+1,3)),u=n.enter("codeFenced");let h=a.move(l);if(t.lang){const f=n.enter(`codeFencedLang${o}`);h+=a.move(n.safe(t.lang,{before:h,after:" ",encode:["`"],...a.current()})),f()}if(t.lang&&t.meta){const f=n.enter(`codeFencedMeta${o}`);h+=a.move(" "),h+=a.move(n.safe(t.meta,{before:h,after:`
`,encode:["`"],...a.current()})),f()}return h+=a.move(`
`),s&&(h+=a.move(s+`
`)),h+=a.move(l),u(),h}function xB(t,e,n){return(n?"":"    ")+t}function ev(t){const e=t.options.quote||'"';if(e!=='"'&&e!=="'")throw new Error("Cannot serialize title with `"+e+"` for `options.quote`, expected `\"`, or `'`");return e}function wB(t,e,n,r){const i=ev(n),s=i==='"'?"Quote":"Apostrophe",o=n.enter("definition");let a=n.enter("label");const l=n.createTracker(r);let u=l.move("[");return u+=l.move(n.safe(n.associationId(t),{before:u,after:"]",...l.current()})),u+=l.move("]: "),a(),!t.url||/[\0- \u007F]/.test(t.url)?(a=n.enter("destinationLiteral"),u+=l.move("<"),u+=l.move(n.safe(t.url,{before:u,after:">",...l.current()})),u+=l.move(">")):(a=n.enter("destinationRaw"),u+=l.move(n.safe(t.url,{before:u,after:t.title?" ":`
`,...l.current()}))),a(),t.title&&(a=n.enter(`title${s}`),u+=l.move(" "+i),u+=l.move(n.safe(t.title,{before:u,after:i,...l.current()})),u+=l.move(i),a()),o(),u}function _B(t){const e=t.options.emphasis||"*";if(e!=="*"&&e!=="_")throw new Error("Cannot serialize emphasis with `"+e+"` for `options.emphasis`, expected `*`, or `_`");return e}function Yl(t){return"&#x"+t.toString(16).toUpperCase()+";"}function Lh(t,e,n){const r=Xo(t),i=Xo(e);return r===void 0?i===void 0?n==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:r===1?i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}u2.peek=EB;function u2(t,e,n,r){const i=_B(n),s=n.enter("emphasis"),o=n.createTracker(r),a=o.move(i);let l=o.move(n.containerPhrasing(t,{after:i,before:a,...o.current()}));const u=l.charCodeAt(0),h=Lh(r.before.charCodeAt(r.before.length-1),u,i);h.inside&&(l=Yl(u)+l.slice(1));const f=l.charCodeAt(l.length-1),p=Lh(r.after.charCodeAt(0),f,i);p.inside&&(l=l.slice(0,-1)+Yl(f));const g=o.move(i);return s(),n.attentionEncodeSurroundingInfo={after:p.outside,before:h.outside},a+l+g}function EB(t,e,n){return n.options.emphasis||"*"}function bB(t,e){let n=!1;return Ly(t,function(r){if("value"in r&&/\r?\n|\r/.test(r.value)||r.type==="break")return n=!0,_m}),!!((!t.depth||t.depth<3)&&Ay(t)&&(e.options.setext||n))}function kB(t,e,n,r){const i=Math.max(Math.min(6,t.depth||1),1),s=n.createTracker(r);if(bB(t,n)){const h=n.enter("headingSetext"),f=n.enter("phrasing"),p=n.containerPhrasing(t,{...s.current(),before:`
`,after:`
`});return f(),h(),p+`
`+(i===1?"=":"-").repeat(p.length-(Math.max(p.lastIndexOf("\r"),p.lastIndexOf(`
`))+1))}const o="#".repeat(i),a=n.enter("headingAtx"),l=n.enter("phrasing");s.move(o+" ");let u=n.containerPhrasing(t,{before:"# ",after:`
`,...s.current()});return/^[\t ]/.test(u)&&(u=Yl(u.charCodeAt(0))+u.slice(1)),u=u?o+" "+u:o,n.options.closeAtx&&(u+=" "+o),l(),a(),u}c2.peek=SB;function c2(t){return t.value||""}function SB(){return"<"}h2.peek=TB;function h2(t,e,n,r){const i=ev(n),s=i==='"'?"Quote":"Apostrophe",o=n.enter("image");let a=n.enter("label");const l=n.createTracker(r);let u=l.move("![");return u+=l.move(n.safe(t.alt,{before:u,after:"]",...l.current()})),u+=l.move("]("),a(),!t.url&&t.title||/[\0- \u007F]/.test(t.url)?(a=n.enter("destinationLiteral"),u+=l.move("<"),u+=l.move(n.safe(t.url,{before:u,after:">",...l.current()})),u+=l.move(">")):(a=n.enter("destinationRaw"),u+=l.move(n.safe(t.url,{before:u,after:t.title?" ":")",...l.current()}))),a(),t.title&&(a=n.enter(`title${s}`),u+=l.move(" "+i),u+=l.move(n.safe(t.title,{before:u,after:i,...l.current()})),u+=l.move(i),a()),u+=l.move(")"),o(),u}function TB(){return"!"}d2.peek=IB;function d2(t,e,n,r){const i=t.referenceType,s=n.enter("imageReference");let o=n.enter("label");const a=n.createTracker(r);let l=a.move("![");const u=n.safe(t.alt,{before:l,after:"]",...a.current()});l+=a.move(u+"]["),o();const h=n.stack;n.stack=[],o=n.enter("reference");const f=n.safe(n.associationId(t),{before:l,after:"]",...a.current()});return o(),n.stack=h,s(),i==="full"||!u||u!==f?l+=a.move(f+"]"):i==="shortcut"?l=l.slice(0,-1):l+=a.move("]"),l}function IB(){return"!"}f2.peek=CB;function f2(t,e,n){let r=t.value||"",i="`",s=-1;for(;new RegExp("(^|[^`])"+i+"([^`]|$)").test(r);)i+="`";for(/[^ \r\n]/.test(r)&&(/^[ \r\n]/.test(r)&&/[ \r\n]$/.test(r)||/^`|`$/.test(r))&&(r=" "+r+" ");++s<n.unsafe.length;){const o=n.unsafe[s],a=n.compilePattern(o);let l;if(o.atBreak)for(;l=a.exec(r);){let u=l.index;r.charCodeAt(u)===10&&r.charCodeAt(u-1)===13&&u--,r=r.slice(0,u)+" "+r.slice(l.index+1)}}return i+r+i}function CB(){return"`"}function p2(t,e){const n=Ay(t);return!!(!e.options.resourceLink&&t.url&&!t.title&&t.children&&t.children.length===1&&t.children[0].type==="text"&&(n===t.url||"mailto:"+n===t.url)&&/^[a-z][a-z+.-]+:/i.test(t.url)&&!/[\0- <>\u007F]/.test(t.url))}m2.peek=AB;function m2(t,e,n,r){const i=ev(n),s=i==='"'?"Quote":"Apostrophe",o=n.createTracker(r);let a,l;if(p2(t,n)){const h=n.stack;n.stack=[],a=n.enter("autolink");let f=o.move("<");return f+=o.move(n.containerPhrasing(t,{before:f,after:">",...o.current()})),f+=o.move(">"),a(),n.stack=h,f}a=n.enter("link"),l=n.enter("label");let u=o.move("[");return u+=o.move(n.containerPhrasing(t,{before:u,after:"](",...o.current()})),u+=o.move("]("),l(),!t.url&&t.title||/[\0- \u007F]/.test(t.url)?(l=n.enter("destinationLiteral"),u+=o.move("<"),u+=o.move(n.safe(t.url,{before:u,after:">",...o.current()})),u+=o.move(">")):(l=n.enter("destinationRaw"),u+=o.move(n.safe(t.url,{before:u,after:t.title?" ":")",...o.current()}))),l(),t.title&&(l=n.enter(`title${s}`),u+=o.move(" "+i),u+=o.move(n.safe(t.title,{before:u,after:i,...o.current()})),u+=o.move(i),l()),u+=o.move(")"),a(),u}function AB(t,e,n){return p2(t,n)?"<":"["}g2.peek=NB;function g2(t,e,n,r){const i=t.referenceType,s=n.enter("linkReference");let o=n.enter("label");const a=n.createTracker(r);let l=a.move("[");const u=n.containerPhrasing(t,{before:l,after:"]",...a.current()});l+=a.move(u+"]["),o();const h=n.stack;n.stack=[],o=n.enter("reference");const f=n.safe(n.associationId(t),{before:l,after:"]",...a.current()});return o(),n.stack=h,s(),i==="full"||!u||u!==f?l+=a.move(f+"]"):i==="shortcut"?l=l.slice(0,-1):l+=a.move("]"),l}function NB(){return"["}function tv(t){const e=t.options.bullet||"*";if(e!=="*"&&e!=="+"&&e!=="-")throw new Error("Cannot serialize items with `"+e+"` for `options.bullet`, expected `*`, `+`, or `-`");return e}function PB(t){const e=tv(t),n=t.options.bulletOther;if(!n)return e==="*"?"-":"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===e)throw new Error("Expected `bullet` (`"+e+"`) and `bulletOther` (`"+n+"`) to be different");return n}function RB(t){const e=t.options.bulletOrdered||".";if(e!=="."&&e!==")")throw new Error("Cannot serialize items with `"+e+"` for `options.bulletOrdered`, expected `.` or `)`");return e}function y2(t){const e=t.options.rule||"*";if(e!=="*"&&e!=="-"&&e!=="_")throw new Error("Cannot serialize rules with `"+e+"` for `options.rule`, expected `*`, `-`, or `_`");return e}function jB(t,e,n,r){const i=n.enter("list"),s=n.bulletCurrent;let o=t.ordered?RB(n):tv(n);const a=t.ordered?o==="."?")":".":PB(n);let l=e&&n.bulletLastUsed?o===n.bulletLastUsed:!1;if(!t.ordered){const h=t.children?t.children[0]:void 0;if((o==="*"||o==="-")&&h&&(!h.children||!h.children[0])&&n.stack[n.stack.length-1]==="list"&&n.stack[n.stack.length-2]==="listItem"&&n.stack[n.stack.length-3]==="list"&&n.stack[n.stack.length-4]==="listItem"&&n.indexStack[n.indexStack.length-1]===0&&n.indexStack[n.indexStack.length-2]===0&&n.indexStack[n.indexStack.length-3]===0&&(l=!0),y2(n)===o&&h){let f=-1;for(;++f<t.children.length;){const p=t.children[f];if(p&&p.type==="listItem"&&p.children&&p.children[0]&&p.children[0].type==="thematicBreak"){l=!0;break}}}}l&&(o=a),n.bulletCurrent=o;const u=n.containerFlow(t,r);return n.bulletLastUsed=o,n.bulletCurrent=s,i(),u}function DB(t){const e=t.options.listItemIndent||"one";if(e!=="tab"&&e!=="one"&&e!=="mixed")throw new Error("Cannot serialize items with `"+e+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return e}function OB(t,e,n,r){const i=DB(n);let s=n.bulletCurrent||tv(n);e&&e.type==="list"&&e.ordered&&(s=(typeof e.start=="number"&&e.start>-1?e.start:1)+(n.options.incrementListMarker===!1?0:e.children.indexOf(t))+s);let o=s.length+1;(i==="tab"||i==="mixed"&&(e&&e.type==="list"&&e.spread||t.spread))&&(o=Math.ceil(o/4)*4);const a=n.createTracker(r);a.move(s+" ".repeat(o-s.length)),a.shift(o);const l=n.enter("listItem"),u=n.indentLines(n.containerFlow(t,a.current()),h);return l(),u;function h(f,p,g){return p?(g?"":" ".repeat(o))+f:(g?s:s+" ".repeat(o-s.length))+f}}function LB(t,e,n,r){const i=n.enter("paragraph"),s=n.enter("phrasing"),o=n.containerPhrasing(t,r);return s(),i(),o}const MB=Cd(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function FB(t,e,n,r){return(t.children.some(function(o){return MB(o)})?n.containerPhrasing:n.containerFlow).call(n,t,r)}function VB(t){const e=t.options.strong||"*";if(e!=="*"&&e!=="_")throw new Error("Cannot serialize strong with `"+e+"` for `options.strong`, expected `*`, or `_`");return e}v2.peek=zB;function v2(t,e,n,r){const i=VB(n),s=n.enter("strong"),o=n.createTracker(r),a=o.move(i+i);let l=o.move(n.containerPhrasing(t,{after:i,before:a,...o.current()}));const u=l.charCodeAt(0),h=Lh(r.before.charCodeAt(r.before.length-1),u,i);h.inside&&(l=Yl(u)+l.slice(1));const f=l.charCodeAt(l.length-1),p=Lh(r.after.charCodeAt(0),f,i);p.inside&&(l=l.slice(0,-1)+Yl(f));const g=o.move(i+i);return s(),n.attentionEncodeSurroundingInfo={after:p.outside,before:h.outside},a+l+g}function zB(t,e,n){return n.options.strong||"*"}function UB(t,e,n,r){return n.safe(t.value,r)}function $B(t){const e=t.options.ruleRepetition||3;if(e<3)throw new Error("Cannot serialize rules with repetition `"+e+"` for `options.ruleRepetition`, expected `3` or more");return e}function BB(t,e,n){const r=(y2(n)+(n.options.ruleSpaces?" ":"")).repeat($B(n));return n.options.ruleSpaces?r.slice(0,-1):r}const x2={blockquote:dB,break:H1,code:vB,definition:wB,emphasis:u2,hardBreak:H1,heading:kB,html:c2,image:h2,imageReference:d2,inlineCode:f2,link:m2,linkReference:g2,list:jB,listItem:OB,paragraph:LB,root:FB,strong:v2,text:UB,thematicBreak:BB};function HB(){return{enter:{table:qB,tableData:q1,tableHeader:q1,tableRow:GB},exit:{codeText:KB,table:WB,tableData:$f,tableHeader:$f,tableRow:$f}}}function qB(t){const e=t._align;this.enter({type:"table",align:e.map(function(n){return n==="none"?null:n}),children:[]},t),this.data.inTable=!0}function WB(t){this.exit(t),this.data.inTable=void 0}function GB(t){this.enter({type:"tableRow",children:[]},t)}function $f(t){this.exit(t)}function q1(t){this.enter({type:"tableCell",children:[]},t)}function KB(t){let e=this.resume();this.data.inTable&&(e=e.replace(/\\([\\|])/g,QB));const n=this.stack[this.stack.length-1];n.type,n.value=e,this.exit(t)}function QB(t,e){return e==="|"?e:t}function YB(t){const e=t||{},n=e.tableCellPadding,r=e.tablePipeAlign,i=e.stringLength,s=n?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:p,table:o,tableCell:l,tableRow:a}};function o(g,w,T,I){return u(h(g,T,I),g.align)}function a(g,w,T,I){const _=f(g,T,I),v=u([_]);return v.slice(0,v.indexOf(`
`))}function l(g,w,T,I){const _=T.enter("tableCell"),v=T.enter("phrasing"),x=T.containerPhrasing(g,{...I,before:s,after:s});return v(),_(),x}function u(g,w){return cB(g,{align:w,alignDelimiters:r,padding:n,stringLength:i})}function h(g,w,T){const I=g.children;let _=-1;const v=[],x=w.enter("table");for(;++_<I.length;)v[_]=f(I[_],w,T);return x(),v}function f(g,w,T){const I=g.children;let _=-1;const v=[],x=w.enter("tableRow");for(;++_<I.length;)v[_]=l(I[_],g,w,T);return x(),v}function p(g,w,T){let I=x2.inlineCode(g,w,T);return T.stack.includes("tableCell")&&(I=I.replace(/\|/g,"\\$&")),I}}function JB(){return{exit:{taskListCheckValueChecked:W1,taskListCheckValueUnchecked:W1,paragraph:ZB}}}function XB(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:e7}}}function W1(t){const e=this.stack[this.stack.length-2];e.type,e.checked=t.type==="taskListCheckValueChecked"}function ZB(t){const e=this.stack[this.stack.length-2];if(e&&e.type==="listItem"&&typeof e.checked=="boolean"){const n=this.stack[this.stack.length-1];n.type;const r=n.children[0];if(r&&r.type==="text"){const i=e.children;let s=-1,o;for(;++s<i.length;){const a=i[s];if(a.type==="paragraph"){o=a;break}}o===n&&(r.value=r.value.slice(1),r.value.length===0?n.children.shift():n.position&&r.position&&typeof r.position.start.offset=="number"&&(r.position.start.column++,r.position.start.offset++,n.position.start=Object.assign({},r.position.start)))}}this.exit(t)}function e7(t,e,n,r){const i=t.children[0],s=typeof t.checked=="boolean"&&i&&i.type==="paragraph",o="["+(t.checked?"x":" ")+"] ",a=n.createTracker(r);s&&a.move(o);let l=x2.listItem(t,e,n,{...r,...a.current()});return s&&(l=l.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,u)),l;function u(h){return h+o}}function t7(){return[j8(),eB(),iB(),HB(),JB()]}function n7(t){return{extensions:[D8(),tB(t),sB(),YB(t),XB()]}}const r7={tokenize:u7,partial:!0},w2={tokenize:c7,partial:!0},_2={tokenize:h7,partial:!0},E2={tokenize:d7,partial:!0},i7={tokenize:f7,partial:!0},b2={name:"wwwAutolink",tokenize:a7,previous:S2},k2={name:"protocolAutolink",tokenize:l7,previous:T2},Wr={name:"emailAutolink",tokenize:o7,previous:I2},wr={};function s7(){return{text:wr}}let ls=48;for(;ls<123;)wr[ls]=Wr,ls++,ls===58?ls=65:ls===91&&(ls=97);wr[43]=Wr;wr[45]=Wr;wr[46]=Wr;wr[95]=Wr;wr[72]=[Wr,k2];wr[104]=[Wr,k2];wr[87]=[Wr,b2];wr[119]=[Wr,b2];function o7(t,e,n){const r=this;let i,s;return o;function o(f){return!Nm(f)||!I2.call(r,r.previous)||nv(r.events)?n(f):(t.enter("literalAutolink"),t.enter("literalAutolinkEmail"),a(f))}function a(f){return Nm(f)?(t.consume(f),a):f===64?(t.consume(f),l):n(f)}function l(f){return f===46?t.check(i7,h,u)(f):f===45||f===95||Ut(f)?(s=!0,t.consume(f),l):h(f)}function u(f){return t.consume(f),i=!0,l}function h(f){return s&&i&&Zt(r.previous)?(t.exit("literalAutolinkEmail"),t.exit("literalAutolink"),e(f)):n(f)}}function a7(t,e,n){const r=this;return i;function i(o){return o!==87&&o!==119||!S2.call(r,r.previous)||nv(r.events)?n(o):(t.enter("literalAutolink"),t.enter("literalAutolinkWww"),t.check(r7,t.attempt(w2,t.attempt(_2,s),n),n)(o))}function s(o){return t.exit("literalAutolinkWww"),t.exit("literalAutolink"),e(o)}}function l7(t,e,n){const r=this;let i="",s=!1;return o;function o(f){return(f===72||f===104)&&T2.call(r,r.previous)&&!nv(r.events)?(t.enter("literalAutolink"),t.enter("literalAutolinkHttp"),i+=String.fromCodePoint(f),t.consume(f),a):n(f)}function a(f){if(Zt(f)&&i.length<5)return i+=String.fromCodePoint(f),t.consume(f),a;if(f===58){const p=i.toLowerCase();if(p==="http"||p==="https")return t.consume(f),l}return n(f)}function l(f){return f===47?(t.consume(f),s?u:(s=!0,l)):n(f)}function u(f){return f===null||Ph(f)||Ue(f)||Ds(f)||Sd(f)?n(f):t.attempt(w2,t.attempt(_2,h),n)(f)}function h(f){return t.exit("literalAutolinkHttp"),t.exit("literalAutolink"),e(f)}}function u7(t,e,n){let r=0;return i;function i(o){return(o===87||o===119)&&r<3?(r++,t.consume(o),i):o===46&&r===3?(t.consume(o),s):n(o)}function s(o){return o===null?n(o):e(o)}}function c7(t,e,n){let r,i,s;return o;function o(u){return u===46||u===95?t.check(E2,l,a)(u):u===null||Ue(u)||Ds(u)||u!==45&&Sd(u)?l(u):(s=!0,t.consume(u),o)}function a(u){return u===95?r=!0:(i=r,r=void 0),t.consume(u),o}function l(u){return i||r||!s?n(u):e(u)}}function h7(t,e){let n=0,r=0;return i;function i(o){return o===40?(n++,t.consume(o),i):o===41&&r<n?s(o):o===33||o===34||o===38||o===39||o===41||o===42||o===44||o===46||o===58||o===59||o===60||o===63||o===93||o===95||o===126?t.check(E2,e,s)(o):o===null||Ue(o)||Ds(o)?e(o):(t.consume(o),i)}function s(o){return o===41&&r++,t.consume(o),i}}function d7(t,e,n){return r;function r(a){return a===33||a===34||a===39||a===41||a===42||a===44||a===46||a===58||a===59||a===63||a===95||a===126?(t.consume(a),r):a===38?(t.consume(a),s):a===93?(t.consume(a),i):a===60||a===null||Ue(a)||Ds(a)?e(a):n(a)}function i(a){return a===null||a===40||a===91||Ue(a)||Ds(a)?e(a):r(a)}function s(a){return Zt(a)?o(a):n(a)}function o(a){return a===59?(t.consume(a),r):Zt(a)?(t.consume(a),o):n(a)}}function f7(t,e,n){return r;function r(s){return t.consume(s),i}function i(s){return Ut(s)?n(s):e(s)}}function S2(t){return t===null||t===40||t===42||t===95||t===91||t===93||t===126||Ue(t)}function T2(t){return!Zt(t)}function I2(t){return!(t===47||Nm(t))}function Nm(t){return t===43||t===45||t===46||t===95||Ut(t)}function nv(t){let e=t.length,n=!1;for(;e--;){const r=t[e][1];if((r.type==="labelLink"||r.type==="labelImage")&&!r._balanced){n=!0;break}if(r._gfmAutolinkLiteralWalkedInto){n=!1;break}}return t.length>0&&!n&&(t[t.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),n}const p7={tokenize:E7,partial:!0};function m7(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:x7,continuation:{tokenize:w7},exit:_7}},text:{91:{name:"gfmFootnoteCall",tokenize:v7},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:g7,resolveTo:y7}}}}function g7(t,e,n){const r=this;let i=r.events.length;const s=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let o;for(;i--;){const l=r.events[i][1];if(l.type==="labelImage"){o=l;break}if(l.type==="gfmFootnoteCall"||l.type==="labelLink"||l.type==="label"||l.type==="image"||l.type==="link")break}return a;function a(l){if(!o||!o._balanced)return n(l);const u=Zn(r.sliceSerialize({start:o.end,end:r.now()}));return u.codePointAt(0)!==94||!s.includes(u.slice(1))?n(l):(t.enter("gfmFootnoteCallLabelMarker"),t.consume(l),t.exit("gfmFootnoteCallLabelMarker"),e(l))}}function y7(t,e){let n=t.length;for(;n--;)if(t[n][1].type==="labelImage"&&t[n][0]==="enter"){t[n][1];break}t[n+1][1].type="data",t[n+3][1].type="gfmFootnoteCallLabelMarker";const r={type:"gfmFootnoteCall",start:Object.assign({},t[n+3][1].start),end:Object.assign({},t[t.length-1][1].end)},i={type:"gfmFootnoteCallMarker",start:Object.assign({},t[n+3][1].end),end:Object.assign({},t[n+3][1].end)};i.end.column++,i.end.offset++,i.end._bufferIndex++;const s={type:"gfmFootnoteCallString",start:Object.assign({},i.end),end:Object.assign({},t[t.length-1][1].start)},o={type:"chunkString",contentType:"string",start:Object.assign({},s.start),end:Object.assign({},s.end)},a=[t[n+1],t[n+2],["enter",r,e],t[n+3],t[n+4],["enter",i,e],["exit",i,e],["enter",s,e],["enter",o,e],["exit",o,e],["exit",s,e],t[t.length-2],t[t.length-1],["exit",r,e]];return t.splice(n,t.length-n+1,...a),t}function v7(t,e,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let s=0,o;return a;function a(f){return t.enter("gfmFootnoteCall"),t.enter("gfmFootnoteCallLabelMarker"),t.consume(f),t.exit("gfmFootnoteCallLabelMarker"),l}function l(f){return f!==94?n(f):(t.enter("gfmFootnoteCallMarker"),t.consume(f),t.exit("gfmFootnoteCallMarker"),t.enter("gfmFootnoteCallString"),t.enter("chunkString").contentType="string",u)}function u(f){if(s>999||f===93&&!o||f===null||f===91||Ue(f))return n(f);if(f===93){t.exit("chunkString");const p=t.exit("gfmFootnoteCallString");return i.includes(Zn(r.sliceSerialize(p)))?(t.enter("gfmFootnoteCallLabelMarker"),t.consume(f),t.exit("gfmFootnoteCallLabelMarker"),t.exit("gfmFootnoteCall"),e):n(f)}return Ue(f)||(o=!0),s++,t.consume(f),f===92?h:u}function h(f){return f===91||f===92||f===93?(t.consume(f),s++,u):u(f)}}function x7(t,e,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let s,o=0,a;return l;function l(w){return t.enter("gfmFootnoteDefinition")._container=!0,t.enter("gfmFootnoteDefinitionLabel"),t.enter("gfmFootnoteDefinitionLabelMarker"),t.consume(w),t.exit("gfmFootnoteDefinitionLabelMarker"),u}function u(w){return w===94?(t.enter("gfmFootnoteDefinitionMarker"),t.consume(w),t.exit("gfmFootnoteDefinitionMarker"),t.enter("gfmFootnoteDefinitionLabelString"),t.enter("chunkString").contentType="string",h):n(w)}function h(w){if(o>999||w===93&&!a||w===null||w===91||Ue(w))return n(w);if(w===93){t.exit("chunkString");const T=t.exit("gfmFootnoteDefinitionLabelString");return s=Zn(r.sliceSerialize(T)),t.enter("gfmFootnoteDefinitionLabelMarker"),t.consume(w),t.exit("gfmFootnoteDefinitionLabelMarker"),t.exit("gfmFootnoteDefinitionLabel"),p}return Ue(w)||(a=!0),o++,t.consume(w),w===92?f:h}function f(w){return w===91||w===92||w===93?(t.consume(w),o++,h):h(w)}function p(w){return w===58?(t.enter("definitionMarker"),t.consume(w),t.exit("definitionMarker"),i.includes(s)||i.push(s),Pe(t,g,"gfmFootnoteDefinitionWhitespace")):n(w)}function g(w){return e(w)}}function w7(t,e,n){return t.check(mu,e,t.attempt(p7,e,n))}function _7(t){t.exit("gfmFootnoteDefinition")}function E7(t,e,n){const r=this;return Pe(t,i,"gfmFootnoteDefinitionIndent",5);function i(s){const o=r.events[r.events.length-1];return o&&o[1].type==="gfmFootnoteDefinitionIndent"&&o[2].sliceSerialize(o[1],!0).length===4?e(s):n(s)}}function b7(t){let n=(t||{}).singleTilde;const r={name:"strikethrough",tokenize:s,resolveAll:i};return n==null&&(n=!0),{text:{126:r},insideSpan:{null:[r]},attentionMarkers:{null:[126]}};function i(o,a){let l=-1;for(;++l<o.length;)if(o[l][0]==="enter"&&o[l][1].type==="strikethroughSequenceTemporary"&&o[l][1]._close){let u=l;for(;u--;)if(o[u][0]==="exit"&&o[u][1].type==="strikethroughSequenceTemporary"&&o[u][1]._open&&o[l][1].end.offset-o[l][1].start.offset===o[u][1].end.offset-o[u][1].start.offset){o[l][1].type="strikethroughSequence",o[u][1].type="strikethroughSequence";const h={type:"strikethrough",start:Object.assign({},o[u][1].start),end:Object.assign({},o[l][1].end)},f={type:"strikethroughText",start:Object.assign({},o[u][1].end),end:Object.assign({},o[l][1].start)},p=[["enter",h,a],["enter",o[u][1],a],["exit",o[u][1],a],["enter",f,a]],g=a.parser.constructs.insideSpan.null;g&&_n(p,p.length,0,Td(g,o.slice(u+1,l),a)),_n(p,p.length,0,[["exit",f,a],["enter",o[l][1],a],["exit",o[l][1],a],["exit",h,a]]),_n(o,u-1,l-u+3,p),l=u+p.length-2;break}}for(l=-1;++l<o.length;)o[l][1].type==="strikethroughSequenceTemporary"&&(o[l][1].type="data");return o}function s(o,a,l){const u=this.previous,h=this.events;let f=0;return p;function p(w){return u===126&&h[h.length-1][1].type!=="characterEscape"?l(w):(o.enter("strikethroughSequenceTemporary"),g(w))}function g(w){const T=Xo(u);if(w===126)return f>1?l(w):(o.consume(w),f++,g);if(f<2&&!n)return l(w);const I=o.exit("strikethroughSequenceTemporary"),_=Xo(w);return I._open=!_||_===2&&!!T,I._close=!T||T===2&&!!_,a(w)}}}class k7{constructor(){this.map=[]}add(e,n,r){S7(this,e,n,r)}consume(e){if(this.map.sort(function(s,o){return s[0]-o[0]}),this.map.length===0)return;let n=this.map.length;const r=[];for(;n>0;)n-=1,r.push(e.slice(this.map[n][0]+this.map[n][1]),this.map[n][2]),e.length=this.map[n][0];r.push(e.slice()),e.length=0;let i=r.pop();for(;i;){for(const s of i)e.push(s);i=r.pop()}this.map.length=0}}function S7(t,e,n,r){let i=0;if(!(n===0&&r.length===0)){for(;i<t.map.length;){if(t.map[i][0]===e){t.map[i][1]+=n,t.map[i][2].push(...r);return}i+=1}t.map.push([e,n,r])}}function T7(t,e){let n=!1;const r=[];for(;e<t.length;){const i=t[e];if(n){if(i[0]==="enter")i[1].type==="tableContent"&&r.push(t[e+1][1].type==="tableDelimiterMarker"?"left":"none");else if(i[1].type==="tableContent"){if(t[e-1][1].type==="tableDelimiterMarker"){const s=r.length-1;r[s]=r[s]==="left"?"center":"right"}}else if(i[1].type==="tableDelimiterRow")break}else i[0]==="enter"&&i[1].type==="tableDelimiterRow"&&(n=!0);e+=1}return r}function I7(){return{flow:{null:{name:"table",tokenize:C7,resolveAll:A7}}}}function C7(t,e,n){const r=this;let i=0,s=0,o;return a;function a(E){let j=r.events.length-1;for(;j>-1;){const q=r.events[j][1].type;if(q==="lineEnding"||q==="linePrefix")j--;else break}const D=j>-1?r.events[j][1].type:null,P=D==="tableHead"||D==="tableRow"?A:l;return P===A&&r.parser.lazy[r.now().line]?n(E):P(E)}function l(E){return t.enter("tableHead"),t.enter("tableRow"),u(E)}function u(E){return E===124||(o=!0,s+=1),h(E)}function h(E){return E===null?n(E):ue(E)?s>1?(s=0,r.interrupt=!0,t.exit("tableRow"),t.enter("lineEnding"),t.consume(E),t.exit("lineEnding"),g):n(E):ke(E)?Pe(t,h,"whitespace")(E):(s+=1,o&&(o=!1,i+=1),E===124?(t.enter("tableCellDivider"),t.consume(E),t.exit("tableCellDivider"),o=!0,h):(t.enter("data"),f(E)))}function f(E){return E===null||E===124||Ue(E)?(t.exit("data"),h(E)):(t.consume(E),E===92?p:f)}function p(E){return E===92||E===124?(t.consume(E),f):f(E)}function g(E){return r.interrupt=!1,r.parser.lazy[r.now().line]?n(E):(t.enter("tableDelimiterRow"),o=!1,ke(E)?Pe(t,w,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(E):w(E))}function w(E){return E===45||E===58?I(E):E===124?(o=!0,t.enter("tableCellDivider"),t.consume(E),t.exit("tableCellDivider"),T):O(E)}function T(E){return ke(E)?Pe(t,I,"whitespace")(E):I(E)}function I(E){return E===58?(s+=1,o=!0,t.enter("tableDelimiterMarker"),t.consume(E),t.exit("tableDelimiterMarker"),_):E===45?(s+=1,_(E)):E===null||ue(E)?N(E):O(E)}function _(E){return E===45?(t.enter("tableDelimiterFiller"),v(E)):O(E)}function v(E){return E===45?(t.consume(E),v):E===58?(o=!0,t.exit("tableDelimiterFiller"),t.enter("tableDelimiterMarker"),t.consume(E),t.exit("tableDelimiterMarker"),x):(t.exit("tableDelimiterFiller"),x(E))}function x(E){return ke(E)?Pe(t,N,"whitespace")(E):N(E)}function N(E){return E===124?w(E):E===null||ue(E)?!o||i!==s?O(E):(t.exit("tableDelimiterRow"),t.exit("tableHead"),e(E)):O(E)}function O(E){return n(E)}function A(E){return t.enter("tableRow"),k(E)}function k(E){return E===124?(t.enter("tableCellDivider"),t.consume(E),t.exit("tableCellDivider"),k):E===null||ue(E)?(t.exit("tableRow"),e(E)):ke(E)?Pe(t,k,"whitespace")(E):(t.enter("data"),b(E))}function b(E){return E===null||E===124||Ue(E)?(t.exit("data"),k(E)):(t.consume(E),E===92?S:b)}function S(E){return E===92||E===124?(t.consume(E),b):b(E)}}function A7(t,e){let n=-1,r=!0,i=0,s=[0,0,0,0],o=[0,0,0,0],a=!1,l=0,u,h,f;const p=new k7;for(;++n<t.length;){const g=t[n],w=g[1];g[0]==="enter"?w.type==="tableHead"?(a=!1,l!==0&&(G1(p,e,l,u,h),h=void 0,l=0),u={type:"table",start:Object.assign({},w.start),end:Object.assign({},w.end)},p.add(n,0,[["enter",u,e]])):w.type==="tableRow"||w.type==="tableDelimiterRow"?(r=!0,f=void 0,s=[0,0,0,0],o=[0,n+1,0,0],a&&(a=!1,h={type:"tableBody",start:Object.assign({},w.start),end:Object.assign({},w.end)},p.add(n,0,[["enter",h,e]])),i=w.type==="tableDelimiterRow"?2:h?3:1):i&&(w.type==="data"||w.type==="tableDelimiterMarker"||w.type==="tableDelimiterFiller")?(r=!1,o[2]===0&&(s[1]!==0&&(o[0]=o[1],f=lc(p,e,s,i,void 0,f),s=[0,0,0,0]),o[2]=n)):w.type==="tableCellDivider"&&(r?r=!1:(s[1]!==0&&(o[0]=o[1],f=lc(p,e,s,i,void 0,f)),s=o,o=[s[1],n,0,0])):w.type==="tableHead"?(a=!0,l=n):w.type==="tableRow"||w.type==="tableDelimiterRow"?(l=n,s[1]!==0?(o[0]=o[1],f=lc(p,e,s,i,n,f)):o[1]!==0&&(f=lc(p,e,o,i,n,f)),i=0):i&&(w.type==="data"||w.type==="tableDelimiterMarker"||w.type==="tableDelimiterFiller")&&(o[3]=n)}for(l!==0&&G1(p,e,l,u,h),p.consume(e.events),n=-1;++n<e.events.length;){const g=e.events[n];g[0]==="enter"&&g[1].type==="table"&&(g[1]._align=T7(e.events,n))}return t}function lc(t,e,n,r,i,s){const o=r===1?"tableHeader":r===2?"tableDelimiter":"tableData",a="tableContent";n[0]!==0&&(s.end=Object.assign({},lo(e.events,n[0])),t.add(n[0],0,[["exit",s,e]]));const l=lo(e.events,n[1]);if(s={type:o,start:Object.assign({},l),end:Object.assign({},l)},t.add(n[1],0,[["enter",s,e]]),n[2]!==0){const u=lo(e.events,n[2]),h=lo(e.events,n[3]),f={type:a,start:Object.assign({},u),end:Object.assign({},h)};if(t.add(n[2],0,[["enter",f,e]]),r!==2){const p=e.events[n[2]],g=e.events[n[3]];if(p[1].end=Object.assign({},g[1].end),p[1].type="chunkText",p[1].contentType="text",n[3]>n[2]+1){const w=n[2]+1,T=n[3]-n[2]-1;t.add(w,T,[])}}t.add(n[3]+1,0,[["exit",f,e]])}return i!==void 0&&(s.end=Object.assign({},lo(e.events,i)),t.add(i,0,[["exit",s,e]]),s=void 0),s}function G1(t,e,n,r,i){const s=[],o=lo(e.events,n);i&&(i.end=Object.assign({},o),s.push(["exit",i,e])),r.end=Object.assign({},o),s.push(["exit",r,e]),t.add(n+1,0,s)}function lo(t,e){const n=t[e],r=n[0]==="enter"?"start":"end";return n[1][r]}const N7={name:"tasklistCheck",tokenize:R7};function P7(){return{text:{91:N7}}}function R7(t,e,n){const r=this;return i;function i(l){return r.previous!==null||!r._gfmTasklistFirstContentOfListItem?n(l):(t.enter("taskListCheck"),t.enter("taskListCheckMarker"),t.consume(l),t.exit("taskListCheckMarker"),s)}function s(l){return Ue(l)?(t.enter("taskListCheckValueUnchecked"),t.consume(l),t.exit("taskListCheckValueUnchecked"),o):l===88||l===120?(t.enter("taskListCheckValueChecked"),t.consume(l),t.exit("taskListCheckValueChecked"),o):n(l)}function o(l){return l===93?(t.enter("taskListCheckMarker"),t.consume(l),t.exit("taskListCheckMarker"),t.exit("taskListCheck"),a):n(l)}function a(l){return ue(l)?e(l):ke(l)?t.check({tokenize:j7},e,n)(l):n(l)}}function j7(t,e,n){return Pe(t,r,"whitespace");function r(i){return i===null?n(i):e(i)}}function D7(t){return uT([s7(),m7(),b7(t),I7(),P7()])}const O7={};function K1(t){const e=this,n=t||O7,r=e.data(),i=r.micromarkExtensions||(r.micromarkExtensions=[]),s=r.fromMarkdownExtensions||(r.fromMarkdownExtensions=[]),o=r.toMarkdownExtensions||(r.toMarkdownExtensions=[]);i.push(D7(n)),s.push(t7()),o.push(n7(n))}function L7({resources:t,onGenerate:e,initialNotes:n,onNotesGenerated:r,spaceId:i}){const[s,o]=M.useState(n||""),[a,l]=M.useState(!1),[u,h]=M.useState(!n),[f,p]=M.useState([]),[g,w]=M.useState(""),[T,I]=M.useState(null),[_,v]=M.useState(!0),[x,N]=M.useState([]),[O,A]=M.useState(""),[k,b]=M.useState(384),[S,E]=M.useState("idle"),[j,D]=M.useState(""),P=M.useRef(!1),q=M.useRef(0),G=M.useRef(0);M.useEffect(()=>{n&&(o(n),h(!1))},[n,i]),M.useEffect(()=>{i&&(async()=>{try{const pe=await fetch(`${Je}/spaces/${i}`);if(pe.ok){const ve=await pe.json();ve.notes&&(o(ve.notes),h(!1))}}catch(pe){console.error("Error loading space notes:",pe)}})()},[i]);const le=t.filter(X=>X.name.toLowerCase().includes(g.toLowerCase())),se=X=>{p(pe=>pe.includes(X)?pe.filter(ve=>ve!==X):[...pe,X])},U=async()=>{if(f.length===0){I("Please select at least one file");return}l(!0),I(null),E("reading");try{const X=await e(f),pe=t.filter(be=>f.includes(be.id)).map(be=>be.name);pe.length>0&&D(pe[0].replace(".pdf",""));const ve=`# Generated Study Notes

${pe.map((be,Me)=>`## File ${Me+1}: ${be.replace(".pdf","")}

${X.split("---").length>Me?X.split("---")[Me].trim():""}

`).join(`---

`)}`;o(ve),h(!1),N([]),E("complete"),r&&r(ve);try{if(!(await fetch(`${Je}/spaces/${i}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({notes:ve})})).ok)throw new Error("Failed to update space with notes")}catch(be){console.error("Error updating space with notes:",be)}}catch(X){console.error("Error generating notes:",X),I(X instanceof Error?X.message:"Failed to generate notes"),E("idle")}finally{l(!1)}},Y=async()=>{if(!O.trim()||!s)return;const X={space_id:i,role:"user",content:O,timestamp:new Date().toISOString()};N(pe=>[...pe,X]),A("");try{const pe=await fetch(`${Je}/chat/generate-response`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:O,context:s})});if(!pe.ok)throw new Error("Failed to get response");const ve=await pe.json(),be={space_id:i,role:"ai",content:ve.response,timestamp:new Date().toISOString()};N(Me=>[...Me,be])}catch(pe){console.error("Error sending message:",pe);const ve={space_id:i,role:"ai",content:"Sorry, I encountered an error processing your message.",timestamp:new Date().toISOString()};N(be=>[...be,ve])}},R=M.useCallback(X=>{P.current=!0,q.current=X.pageX,G.current=k,document.body.style.cursor="col-resize",document.body.style.userSelect="none"},[k]),J=M.useCallback(()=>{P.current=!1,document.body.style.cursor="",document.body.style.userSelect=""},[]),ne=M.useCallback(X=>{if(!P.current)return;const pe=G.current-(X.pageX-q.current);b(Math.min(Math.max(320,pe),640))},[]);M.useEffect(()=>(document.addEventListener("mousemove",ne),document.addEventListener("mouseup",J),()=>{document.removeEventListener("mousemove",ne),document.removeEventListener("mouseup",J)}),[ne,J]);const L=({inline:X,className:pe,children:ve,...be})=>{const Me=/language-(\w+)/.exec(pe||"");return!X&&Me?d.jsx(Oh,{style:z1,language:Me[1],PreTag:"div",...be,children:String(ve).replace(/\n$/,"")}):d.jsx("code",{className:"bg-[#2A2D3E] px-1 py-0.5 rounded",...be,children:ve})},ge=({inline:X,className:pe,children:ve,...be})=>{const Me=/language-(\w+)/.exec(pe||"");return Me?d.jsx("div",{className:"rounded !bg-[#12141F] !p-2 my-2 text-sm",children:d.jsx(Oh,{style:z1,language:Me[1],PreTag:"div",...be,children:String(ve).replace(/\n$/,"")})}):d.jsx("code",{className:"bg-[#12141F] px-1 rounded text-pink-400",...be,children:ve})},Ae={h1:({...X})=>d.jsx("h1",{className:"text-3xl font-bold mb-6 pb-2 border-b border-gray-700",...X}),h2:({...X})=>d.jsx("h2",{className:"text-2xl font-bold mt-8 mb-4",...X}),h3:({...X})=>d.jsx("h3",{className:"text-xl font-bold mt-6 mb-3",...X}),ul:({...X})=>d.jsx("ul",{className:"list-disc list-inside mb-4 space-y-2",...X}),ol:({...X})=>d.jsx("ol",{className:"list-decimal list-inside mb-4 space-y-2",...X}),p:({...X})=>d.jsx("p",{className:"mb-4 leading-relaxed",...X}),strong:({...X})=>d.jsx("strong",{className:"text-blue-400 font-bold",...X}),em:({...X})=>d.jsx("em",{className:"text-yellow-400",...X}),code:L},he={p:({children:X})=>d.jsx("p",{className:"text-sm",children:X}),code:ge};return d.jsxs("div",{className:"min-h-screen bg-[#0A0B14] text-white",children:[d.jsxs("div",{className:"flex h-screen overflow-hidden",children:[d.jsxs("div",{className:"flex-1 flex flex-col",children:[d.jsxs("div",{className:"p-4 md:p-8 flex justify-between items-center border-b border-gray-700",children:[d.jsxs("div",{children:[d.jsxs("h1",{className:"text-2xl md:text-3xl font-bold flex items-center gap-3",children:[d.jsx(Qn,{className:"text-blue-400"}),s?"Generated Study Notes":"Study Notes Generator"]}),d.jsx("p",{className:"text-gray-400 mt-2",children:s?j:"Transform your resources into comprehensive study notes"})]}),d.jsxs("div",{className:"flex items-center gap-4",children:[s?d.jsxs("button",{onClick:()=>v(!_),className:"px-6 py-3 bg-blue-600 hover:bg-blue-700 rounded-lg transition-all transform hover:scale-105 flex items-center gap-2",children:[d.jsx(Gl,{size:20}),"Chat with AI"]}):d.jsxs("button",{onClick:()=>h(!0),disabled:t.length===0,className:"px-6 py-3 bg-blue-600 hover:bg-blue-700 rounded-lg transition-all transform hover:scale-105 disabled:opacity-50 disabled:hover:scale-100 flex items-center gap-2",children:[d.jsx(Qn,{size:20}),"Select & Generate"]}),d.jsx("button",{onClick:()=>v(!_),className:"p-2 hover:bg-[#2A2D3E] rounded-lg transition-colors",children:_?d.jsx(Yo,{size:24}):d.jsx(Wl,{size:24})})]})]}),d.jsx("div",{className:"flex-1 overflow-y-auto p-4 md:p-8",children:a?d.jsxs("div",{className:"flex flex-col items-center justify-center h-full",children:[d.jsx(Jo,{className:"animate-spin text-blue-400 mb-4",size:48}),d.jsx("p",{className:"text-gray-400",children:S==="reading"?"Reading your resources...":"Generating notes..."})]}):T?d.jsxs("div",{className:"flex flex-col items-center justify-center h-full",children:[d.jsx(Nw,{className:"text-red-400 mb-4",size:48}),d.jsx("p",{className:"text-red-400",children:T})]}):s?d.jsx("div",{className:"prose prose-invert max-w-none",children:d.jsx(Dh,{remarkPlugins:[K1],components:Ae,children:s})}):d.jsxs("div",{className:"flex flex-col items-center justify-center h-full",children:[d.jsx(Qn,{className:"text-gray-400 mb-4",size:48}),d.jsx("p",{className:"text-gray-400",children:"Select files to generate study notes"})]})})]}),_&&s&&d.jsxs("div",{className:"border-l border-gray-700 flex flex-col h-screen relative",style:{width:k},children:[d.jsx("div",{className:"absolute left-0 top-0 bottom-0 w-1 cursor-col-resize hover:bg-blue-500 transition-colors",onMouseDown:R}),d.jsxs("div",{className:"p-4 border-b border-gray-700 flex justify-between items-center",children:[d.jsx("h3",{className:"text-lg font-semibold",children:"Chat with AI"}),d.jsx("button",{onClick:()=>v(!1),className:"p-2 hover:bg-[#2A2D3E] rounded-lg transition-colors",children:d.jsx(Yo,{size:20})})]}),d.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:x.map((X,pe)=>d.jsx("div",{className:`${X.role==="user"?"ml-auto bg-blue-600":"mr-auto bg-[#2A2D3E]"} max-w-[80%] rounded-lg p-3`,children:d.jsx(Dh,{remarkPlugins:[K1],components:he,children:X.content})},pe))}),d.jsx("div",{className:"p-4 border-t border-gray-700",children:d.jsxs("div",{className:"flex gap-2",children:[d.jsx("input",{type:"text",value:O,onChange:X=>A(X.target.value),onKeyPress:X=>X.key==="Enter"&&Y(),placeholder:"Ask about your notes...",className:"flex-1 bg-[#2A2D3E] border border-gray-700 rounded-lg px-4 py-2 focus:outline-none focus:border-blue-500",disabled:!s}),d.jsx("button",{onClick:Y,disabled:!O.trim()||!s,className:"p-2 bg-blue-600 hover:bg-blue-700 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed",children:d.jsx(fm,{size:20})})]})})]})]}),u&&t.length>0&&d.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:d.jsxs("div",{className:"bg-[#1A1D2E] rounded-xl w-full max-w-2xl",children:[d.jsxs("div",{className:"p-6 border-b border-gray-700",children:[d.jsxs("div",{className:"flex justify-between items-center mb-4",children:[d.jsx("h3",{className:"text-xl font-bold",children:"Select Study Materials"}),d.jsx("button",{onClick:()=>h(!1),className:"text-gray-400 hover:text-white transition-colors",children:d.jsx(Yt,{size:24})})]}),d.jsxs("div",{className:"relative",children:[d.jsx(G3,{size:20,className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"}),d.jsx("input",{type:"text",placeholder:"Search files...",value:g,onChange:X=>w(X.target.value),className:"w-full pl-10 pr-4 py-2 bg-[#12141F] rounded-lg border border-gray-700 focus:border-blue-500 focus:ring-1 focus:ring-blue-500 transition-all"})]})]}),d.jsxs("div",{className:"p-6",children:[d.jsx("div",{className:"max-h-[40vh] overflow-y-auto mb-6 space-y-2",children:le.map(X=>d.jsxs("div",{onClick:()=>se(X.id),className:`p-4 rounded-lg cursor-pointer flex items-center justify-between transition-colors ${f.includes(X.id)?"bg-blue-600":"bg-[#12141F] hover:bg-[#2A2D3E]"}`,children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx(ql,{size:20,className:"text-gray-400"}),d.jsx("span",{children:X.name})]}),f.includes(X.id)&&d.jsx(_y,{size:20})]},X.id))}),d.jsxs("div",{className:"flex justify-end gap-4",children:[d.jsx("button",{onClick:()=>h(!1),className:"px-4 py-2 text-gray-400 hover:text-white transition-colors",children:"Cancel"}),d.jsx("button",{onClick:U,disabled:f.length===0||a,className:`px-6 py-2 rounded-lg flex items-center gap-2 transition-all ${f.length===0||a?"bg-gray-600 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700"}`,children:a?d.jsxs(d.Fragment,{children:[d.jsx(Jo,{size:20,className:"animate-spin"}),d.jsx("span",{children:"Generating..."})]}):d.jsxs(d.Fragment,{children:[d.jsx(Qn,{size:20}),d.jsx("span",{children:"Generate Notes"})]})})]})]})]})}),u&&t.length===0&&d.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:d.jsx("div",{className:"bg-[#1A1D2E] rounded-xl w-full max-w-2xl",children:d.jsxs("div",{className:"p-6 text-center",children:[d.jsx(Nw,{size:40,className:"text-yellow-400 mx-auto mb-4"}),d.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"No Resources Available"}),d.jsx("p",{className:"text-gray-400 mb-6",children:"Please upload some documents in the Resource Manager to generate notes."}),d.jsx("button",{onClick:()=>h(!1),className:"px-6 py-2 bg-blue-600 hover:bg-blue-700 rounded-lg text-white transition-colors",children:"Close"})]})})})]})}function M7({onCreateFolder:t,onCreateSpace:e,folders:n}){const[r,i]=M.useState(!1),[s,o]=M.useState(null),a=(u,h)=>{const f=document.getElementById(h);if(f){const p=u==="left"?-300:300;f.scrollBy({left:p,behavior:"smooth"})}},l=u=>{o(u),i(!0)};return d.jsxs("div",{className:"px-8 py-12 max-w-6xl mx-auto overflow-y-auto h-[calc(100vh-4rem)]",children:[d.jsxs("div",{className:"mb-12",children:[d.jsx("div",{className:"w-1/2 mb-6",children:d.jsxs("button",{onClick:()=>l("chat"),className:"w-full bg-[#1A1D2E] hover:bg-[#2A2D3E] p-6 rounded-xl text-left transition-all hover:scale-[1.02] group",children:[d.jsxs("div",{className:"flex items-center gap-3 text-xl font-semibold text-white mb-2",children:[d.jsx(Gl,{className:"text-blue-400"}),"Chat with AI"]}),d.jsx("p",{className:"text-gray-400",children:"Get instant help and explanations from your AI study buddy"})]})}),d.jsx("h2",{className:"text-2xl font-semibold text-white mb-6",children:"Study Guide"}),d.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-4",children:[d.jsxs("button",{onClick:()=>l("notes"),className:"bg-[#1A1D2E] hover:bg-[#2A2D3E] p-6 rounded-xl text-left transition-all hover:scale-[1.02]",children:[d.jsxs("div",{className:"flex items-center gap-3 text-lg font-semibold text-white mb-2",children:[d.jsx(Qn,{className:"text-green-400"}),"Generate Notes"]}),d.jsx("p",{className:"text-sm text-gray-400",children:"Create AI-powered study notes"})]}),d.jsxs("button",{onClick:()=>l("quiz"),className:"bg-[#1A1D2E] hover:bg-[#2A2D3E] p-6 rounded-xl text-left transition-all hover:scale-[1.02]",children:[d.jsxs("div",{className:"flex items-center gap-3 text-lg font-semibold text-white mb-2",children:[d.jsx(Nh,{className:"text-purple-400"}),"Quiz"]}),d.jsx("p",{className:"text-sm text-gray-400",children:"Test your knowledge"})]}),d.jsxs("button",{onClick:()=>l("flashcards"),className:"bg-[#1A1D2E] hover:bg-[#2A2D3E] p-6 rounded-xl text-left transition-all hover:scale-[1.02]",children:[d.jsxs("div",{className:"flex items-center gap-3 text-lg font-semibold text-white mb-2",children:[d.jsx(wy,{className:"text-yellow-400"}),"Flashcards"]}),d.jsx("p",{className:"text-sm text-gray-400",children:"Review with smart flashcards"})]})]}),d.jsx("h2",{className:"text-2xl font-semibold text-white mt-8 mb-6",children:"Write"}),d.jsx("div",{className:"w-1/2",children:d.jsxs("button",{onClick:()=>l("solve"),className:"bg-[#1A1D2E] hover:bg-[#2A2D3E] p-6 rounded-xl text-left transition-all hover:scale-[1.02]",children:[d.jsxs("div",{className:"flex items-center gap-3 text-lg font-semibold text-white mb-2",children:[d.jsx(GS,{className:"text-red-400"}),"Solve"]}),d.jsx("p",{className:"text-sm text-gray-400",children:"Write Essays, Reports, and more"})]})})]}),d.jsxs("div",{className:"mb-8",children:[d.jsx("h2",{className:"text-xl font-semibold text-white mb-4",children:"Recent Sessions"}),d.jsxs("div",{className:"relative group",children:[d.jsx("button",{onClick:()=>a("left","sessions-container"),className:"absolute left-0 top-1/2 -translate-y-1/2 z-10 bg-[#1A1D2E]/80 p-2 rounded-full opacity-0 group-hover:opacity-100 transition-opacity",children:d.jsx(Wl,{className:"text-white"})}),d.jsx("div",{id:"sessions-container",className:"flex gap-4 overflow-x-auto pb-4 scroll-smooth hide-scrollbar",children:n.flatMap(u=>u.spaces.map(h=>d.jsxs("div",{onClick:()=>l(h.type),className:"min-w-[250px] bg-[#1A1D2E] p-6 rounded-xl cursor-pointer hover:bg-[#2A2D3E] transition-all hover:scale-[1.02]",children:[d.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:h.name}),d.jsxs("p",{className:"text-sm text-gray-400",children:["Folder: ",u.name]})]},h.id)))}),d.jsx("button",{onClick:()=>a("right","sessions-container"),className:"absolute right-0 top-1/2 -translate-y-1/2 z-10 bg-[#1A1D2E]/80 p-2 rounded-full opacity-0 group-hover:opacity-100 transition-opacity",children:d.jsx(Yo,{className:"text-white"})})]})]}),d.jsxs("div",{children:[d.jsx("h2",{className:"text-xl font-semibold text-white mb-4",children:"My Folders"}),d.jsxs("div",{className:"relative group",children:[d.jsx("button",{onClick:()=>a("left","folders-container"),className:"absolute left-0 top-1/2 -translate-y-1/2 z-10 bg-[#1A1D2E]/80 p-2 rounded-full opacity-0 group-hover:opacity-100 transition-opacity",children:d.jsx(Wl,{className:"text-white"})}),d.jsxs("div",{id:"folders-container",className:"flex gap-4 overflow-x-auto pb-4 scroll-smooth hide-scrollbar",children:[d.jsxs("button",{onClick:t,className:"min-w-[250px] bg-[#1A1D2E] p-6 rounded-xl cursor-pointer hover:bg-[#2A2D3E] transition-all hover:scale-[1.02] text-left",children:[d.jsxs("div",{className:"flex items-center gap-3 text-lg font-semibold text-white mb-2",children:[d.jsx(dm,{className:"text-orange-400"}),"Create Folder"]}),d.jsx("p",{className:"text-sm text-gray-400",children:"Organize your study materials"})]}),n.map(u=>d.jsxs("div",{className:"min-w-[250px] bg-[#1A1D2E] p-6 rounded-xl cursor-pointer hover:bg-[#2A2D3E] transition-all hover:scale-[1.02]",children:[d.jsxs("div",{className:"flex items-center gap-3 text-lg font-semibold text-white mb-2",children:[d.jsx(ql,{className:"text-blue-400"}),u.name]}),d.jsxs("p",{className:"text-sm text-gray-400",children:[u.spaces.length," spaces"]})]},u.id))]}),d.jsx("button",{onClick:()=>a("right","folders-container"),className:"absolute right-0 top-1/2 -translate-y-1/2 z-10 bg-[#1A1D3E]/80 p-2 rounded-full opacity-0 group-hover:opacity-100 transition-opacity",children:d.jsx(Yo,{className:"text-white"})})]})]}),r&&d.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:d.jsxs("div",{className:"bg-[#1A1D2E] rounded-xl p-6 w-full max-w-md",children:[d.jsxs("div",{className:"flex justify-between items-center mb-4",children:[d.jsx("h3",{className:"text-xl font-semibold text-white",children:"Select a Folder"}),d.jsx("button",{onClick:()=>i(!1),className:"text-gray-400 hover:text-white",children:d.jsx(Yt,{size:24})})]}),d.jsxs("div",{className:"space-y-2 max-h-[300px] overflow-y-auto",children:[n.map(u=>d.jsx("button",{onClick:()=>{i(!1),e(s)},className:"w-full p-4 bg-[#2A2D3E] hover:bg-[#353849] rounded-lg text-left transition-colors",children:d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx(ql,{size:20,className:"text-blue-400"}),d.jsx("span",{className:"text-white",children:u.name})]})},u.id)),d.jsx("button",{onClick:()=>{i(!1),t()},className:"w-full p-4 bg-[#2A2D3E] hover:bg-[#353849] rounded-lg text-left transition-colors",children:d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx(dm,{size:20,className:"text-orange-400"}),d.jsx("span",{className:"text-white",children:"Create New Folder"})]})})]})]})})]})}function F7({resources:t,onGenerate:e,initialQuiz:n,onQuizGenerated:r}){const[i,s]=M.useState(!0),[o,a]=M.useState(1),[l,u]=M.useState([]),[h,f]=M.useState(""),[p,g]=M.useState(!1),[w,T]=M.useState(null),[I,_]=M.useState(n||""),[v,x]=M.useState({numQuestions:5,questionTypes:{trueFalse:!0,multipleChoice:!0,fillInBlank:!0,shortAnswer:!0}}),[N,O]=M.useState("idle"),[A,k]=M.useState({}),b=t.filter(q=>q.name.toLowerCase().includes(h.toLowerCase())),S=q=>{u(G=>G.includes(q)?G.filter(le=>le!==q):[...G,q])},E=async()=>{if(l.length===0){T("Please select at least one file");return}if(Object.values(v.questionTypes).every(q=>!q)){T("Please select at least one question type");return}g(!0),T(null),O("reading"),_("");try{const q={num_questions:v.numQuestions,question_types:{trueFalse:v.questionTypes.trueFalse,fillInBlank:v.questionTypes.fillInBlank,shortAnswer:v.questionTypes.shortAnswer}},G=await e(l,q);if(!G)throw new Error("No quiz content received");_(G),r(G),O("complete"),s(!1)}catch(q){console.error("Error generating quiz:",q),T(q instanceof Error?q.message:"Failed to generate quiz. Please try again."),O("idle"),s(!0)}finally{g(!1)}},j=q=>{k(G=>({...G,[q]:!G[q]}))},P=(q=>{const G=[],le=q.split(`
`);let se={},U=[],Y=!1;for(let R=0;R<le.length;R++){const J=le[R].trim();if(J.startsWith("# Answer Key")){Y=!0;continue}if(Y){if(J.match(/^\d+\./)){const ne=G.findIndex(L=>!L.answer);ne!==-1&&(G[ne].answer=J.replace(/^\d+\.\s*/,""))}}else if(J.startsWith("Question Type:"))se.question&&(U.length>0&&(se.question+=`

Options:
`+U.join(`
`)),G.push(se)),se={type:J.replace("Question Type:","").trim(),question:"",answer:""},U=[];else if(J.startsWith("Question:"))se.question=J.replace("Question:","").trim();else{if(J.startsWith("Options:"))continue;J.match(/^[A-D]\./)?U.push(J):J.startsWith("Answer:")?se.answer=J.replace("Answer:","").trim():se.question&&J&&(se.question+=`
`+J)}}return se.question&&(U.length>0&&(se.question+=`

Options:
`+U.join(`
`)),G.push(se)),G})(I);return d.jsx("div",{className:"h-full bg-[#0A0B14] text-white p-8",children:i?d.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:d.jsxs("div",{className:"bg-[#12141F] rounded-xl p-8 w-full max-w-2xl",children:[d.jsxs("div",{className:"flex justify-between items-center mb-8",children:[d.jsx("h3",{className:"text-2xl font-bold",children:"Create Quiz"}),d.jsx("button",{onClick:()=>s(!1),className:"hover:bg-[#2A2D3E] p-2 rounded-lg",children:d.jsx(Yt,{size:24})})]}),w&&d.jsx("div",{className:"mb-4 p-4 bg-red-500/20 border border-red-500 rounded-lg",children:d.jsx("p",{className:"text-red-400",children:w})}),p?d.jsxs("div",{className:"flex flex-col items-center justify-center py-8",children:[d.jsx(Jo,{className:"animate-spin text-blue-400 mb-4",size:48}),d.jsx("p",{className:"text-gray-400",children:N==="reading"?"Reading your resources...":"Generating quiz..."})]}):d.jsxs(d.Fragment,{children:[o===1&&d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[d.jsx("div",{className:"w-8 h-8 rounded-full bg-blue-600 flex items-center justify-center",children:"1"}),d.jsx("h4",{className:"text-lg font-semibold",children:"Select Resources"})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsx("input",{type:"text",placeholder:"Search resources...",value:h,onChange:q=>f(q.target.value),className:"w-full p-3 bg-[#1A1D2E] border border-gray-700 rounded-lg"}),d.jsx("div",{className:"max-h-60 overflow-y-auto space-y-2",children:b.map(q=>d.jsxs("div",{onClick:()=>S(q.id),className:`w-full p-3 flex items-center gap-3 rounded-lg transition-colors cursor-pointer ${l.includes(q.id)?"bg-blue-600/20 border border-blue-600":"bg-[#1A1D2E] hover:bg-[#2A2D3E]"}`,children:[d.jsx(Qn,{size:20}),d.jsx("span",{className:"flex-1 text-left",children:q.name}),l.includes(q.id)&&d.jsx(_y,{size:20})]},q.id))})]}),d.jsx("div",{className:"flex justify-end",children:d.jsxs("button",{onClick:()=>a(2),disabled:l.length===0,className:"px-6 py-2 bg-blue-600 rounded-lg flex items-center gap-2 disabled:opacity-50",children:["Next",d.jsx(Yo,{size:20})]})})]}),o===2&&d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[d.jsx("div",{className:"w-8 h-8 rounded-full bg-blue-600 flex items-center justify-center",children:"2"}),d.jsx("h4",{className:"text-lg font-semibold",children:"Quiz Settings"})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium mb-2",children:"Number of Questions"}),d.jsx("input",{type:"number",min:"1",max:"20",value:v.numQuestions,onChange:q=>x(G=>({...G,numQuestions:Math.min(20,Math.max(1,parseInt(q.target.value)||1))})),className:"w-full p-3 bg-[#1A1D2E] border border-gray-700 rounded-lg"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium mb-2",children:"Question Types"}),d.jsx("div",{className:"space-y-2",children:Object.entries(v.questionTypes).map(([q,G])=>d.jsxs("label",{className:"flex items-center gap-2",children:[d.jsx("input",{type:"checkbox",checked:G,onChange:le=>x(se=>({...se,questionTypes:{...se.questionTypes,[q]:le.target.checked}})),className:"rounded border-gray-700"}),d.jsx("span",{className:"capitalize",children:q.replace(/([A-Z])/g," $1").trim()})]},q))})]})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsxs("button",{onClick:()=>a(1),className:"px-6 py-2 bg-[#2A2D3E] rounded-lg flex items-center gap-2",children:[d.jsx(Wl,{size:20}),"Back"]}),d.jsx("button",{onClick:E,disabled:p||Object.values(v.questionTypes).every(q=>!q),className:"px-6 py-2 bg-blue-600 rounded-lg flex items-center gap-2 disabled:opacity-50",children:p?d.jsxs(d.Fragment,{children:[d.jsx(Jo,{size:20,className:"animate-spin"}),N==="reading"?"Reading Files...":N==="generating"?"Generating Quiz...":"Loading..."]}):"Generate Quiz"})]})]})]})]})}):d.jsx("div",{className:"max-w-4xl mx-auto",children:I?d.jsx("div",{className:"space-y-8",children:P.map((q,G)=>d.jsxs("div",{className:"bg-[#12141F] rounded-xl p-6",children:[d.jsxs("div",{className:"flex justify-between items-start mb-4",children:[d.jsxs("h3",{className:"text-lg font-semibold",children:["Question ",G+1]}),d.jsx("span",{className:"text-sm text-gray-400 capitalize",children:q.type})]}),d.jsx("div",{className:"prose prose-invert max-w-none",children:d.jsx(Dh,{children:q.question})}),d.jsx("button",{onClick:()=>j(G),className:"mt-4 px-4 py-2 bg-[#2A2D3E] rounded-lg hover:bg-[#353849] transition-colors",children:A[G]?"Hide Answer":"Show Answer"}),A[G]&&d.jsxs("div",{className:"mt-4 p-4 bg-[#1A1D2E] rounded-lg",children:[d.jsx("h4",{className:"font-semibold mb-2",children:"Answer:"}),d.jsx(Dh,{children:q.answer})]})]},G))}):d.jsxs("div",{className:"flex flex-col items-center justify-center h-[calc(100vh-4rem)]",children:[d.jsx(Qn,{className:"text-gray-400 mb-4",size:48}),d.jsx("p",{className:"text-gray-400",children:"No quiz generated yet"}),d.jsxs("button",{onClick:()=>s(!0),className:"mt-4 px-6 py-3 bg-blue-600 hover:bg-blue-700 rounded-lg transition-all transform hover:scale-105 flex items-center gap-2",children:[d.jsx(Qn,{size:20}),"Generate Quiz"]})]})})})}const V7=({resources:t,onGenerate:e,onFlashcardsGenerated:n})=>{const[r,i]=M.useState(!0),[s,o]=M.useState([]),[a,l]=M.useState(!1),[u,h]=M.useState([]),[f,p]=M.useState(0),[g,w]=M.useState(!1),[T,I]=M.useState(null),[_,v]=M.useState(5),[x,N]=M.useState("idle"),O=async()=>{if(s.length===0){I("Please select at least one file");return}l(!0),I(null),N("reading");try{const D=await e(s,{num_flashcards:_}),P=A(D);h(P),p(0),w(!1),n&&n(D),N("complete"),i(!1)}catch(D){console.error("Error generating flashcards:",D),I(D instanceof Error?D.message:"Failed to generate flashcards. Please try again."),N("idle")}finally{l(!1)}},A=D=>{const P=[],q=D.split(`
`);let G={};for(const le of q)le.startsWith("Front:")?(G.front&&G.back&&P.push(G),G={id:Math.random().toString(36).substr(2,9),front:le.replace("Front:","").trim()}):le.startsWith("Back:")&&(G.back=le.replace("Back:","").trim());return G.front&&G.back&&P.push(G),P},k=()=>{f<u.length-1&&(p(f+1),w(!1))},b=()=>{f>0&&(p(f-1),w(!1))},S=()=>{const D=[...u].sort(()=>Math.random()-.5);h(D),p(0),w(!1)},E=()=>{p(0),w(!1)},j=D=>{o(P=>P.includes(D)?P.filter(q=>q!==D):[...P,D])};return d.jsx("div",{className:"h-full flex flex-col bg-[#0A0B14] text-white",children:r?d.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:d.jsxs("div",{className:"bg-[#12141F] rounded-xl p-8 w-full max-w-2xl",children:[d.jsxs("div",{className:"flex justify-between items-center mb-8",children:[d.jsx("h3",{className:"text-2xl font-bold",children:"Create Flashcards"}),d.jsx("button",{onClick:()=>i(!1),className:"hover:bg-[#2A2D3E] p-2 rounded-lg",children:d.jsx(Yt,{size:24})})]}),T&&d.jsx("div",{className:"mb-4 p-4 bg-red-500/20 border border-red-500 rounded-lg",children:d.jsx("p",{className:"text-red-400",children:T})}),a?d.jsxs("div",{className:"flex flex-col items-center justify-center py-8",children:[d.jsx(Jo,{className:"animate-spin text-blue-400 mb-4",size:48}),d.jsx("p",{className:"text-gray-400",children:x==="reading"?"Reading your resources...":"Generating flashcards..."})]}):d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"mb-6",children:[d.jsx("h4",{className:"text-lg font-semibold mb-4",children:"Select Files"}),d.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:t.map(D=>d.jsxs("label",{className:"flex items-center space-x-2 p-2 hover:bg-[#2A2D3E] rounded-lg",children:[d.jsx("input",{type:"checkbox",checked:s.includes(D.id),onChange:()=>j(D.id),className:"form-checkbox h-5 w-5 text-blue-600"}),d.jsx("span",{children:D.name})]},D.id))})]}),d.jsxs("div",{className:"mb-6",children:[d.jsx("h4",{className:"text-lg font-semibold mb-4",children:"Number of Flashcards"}),d.jsxs("div",{className:"flex items-center space-x-4",children:[d.jsx("input",{type:"range",min:"1",max:"10",value:_,onChange:D=>v(parseInt(D.target.value)),className:"w-full"}),d.jsx("span",{className:"text-lg font-semibold",children:_})]})]}),d.jsx("div",{className:"flex justify-end",children:d.jsx("button",{onClick:O,disabled:a||s.length===0,className:"px-6 py-2 bg-blue-600 rounded-lg flex items-center gap-2 disabled:opacity-50",children:a?d.jsxs(d.Fragment,{children:[d.jsx(Jo,{size:20,className:"animate-spin"}),x==="reading"?"Reading Files...":x==="generating"?"Generating Flashcards...":"Loading..."]}):"Generate Flashcards"})})]})]})}):d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"p-6 border-b border-gray-700",children:[d.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Flashcards"}),u.length===0&&d.jsx("button",{onClick:()=>i(!0),className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg transition-colors",children:"Generate Flashcards"})]}),u.length>0&&d.jsx("div",{className:"flex-1 flex flex-col items-center justify-center p-6",children:d.jsxs("div",{className:"w-full max-w-2xl",children:[d.jsxs("div",{className:"text-center mb-4",children:["Card ",f+1," of ",u.length]}),d.jsx("div",{className:"relative w-full aspect-[3/2] cursor-pointer perspective-1000",onClick:()=>w(!g),children:d.jsxs("div",{className:`absolute w-full h-full transition-transform duration-500 transform-style-3d ${g?"rotate-y-180":""}`,children:[d.jsx("div",{className:"absolute w-full h-full bg-[#1A1D2E] rounded-xl p-8 backface-hidden",children:d.jsx("div",{className:"h-full flex items-center justify-center text-center",children:d.jsx("p",{className:"text-xl",children:u[f].front})})}),d.jsx("div",{className:"absolute w-full h-full bg-[#2A2D3E] rounded-xl p-8 backface-hidden rotate-y-180",children:d.jsx("div",{className:"h-full flex items-center justify-center text-center",children:d.jsx("p",{className:"text-xl",children:u[f].back})})})]})}),d.jsxs("div",{className:"flex justify-center items-center space-x-4 mt-8",children:[d.jsx("button",{onClick:b,disabled:f===0,className:"p-2 rounded-full bg-[#1A1D2E] hover:bg-[#2A2D3E] transition-colors disabled:opacity-50",children:d.jsx(Wl,{size:24})}),d.jsx("button",{onClick:S,className:"p-2 rounded-full bg-[#1A1D2E] hover:bg-[#2A2D3E] transition-colors",children:d.jsx(K3,{size:24})}),d.jsx("button",{onClick:E,className:"p-2 rounded-full bg-[#1A1D2E] hover:bg-[#2A2D3E] transition-colors",children:d.jsx(W3,{size:24})}),d.jsx("button",{onClick:k,disabled:f===u.length-1,className:"p-2 rounded-full bg-[#1A1D2E] hover:bg-[#2A2D3E] transition-colors disabled:opacity-50",children:d.jsx(Yo,{size:24})})]})]})})]})})},z7=t=>{const n={yearly:"https://buy.stripe.com/test_eVq14n3LIe8Kg2i9SxbII01",monthly:"https://buy.stripe.com/test_fZu5kD3LI0hUdUa8OtbII00"}[t];n?window.location.href=n:(console.error("Invalid plan selected:",t),alert("Could not find payment link for the selected plan."))};function U7(){var ya,wt;const[t,e]=M.useState(!0),[n,r]=M.useState(!1),[i,s]=M.useState(!1),[o,a]=M.useState(!1),[l,u]=M.useState(!1),[h,f]=M.useState(!1),[p,g]=M.useState(0),[w,T]=M.useState([]),[I,_]=M.useState(null),[v,x]=M.useState(""),[N,O]=M.useState(null),[A,k]=M.useState(!0),[b,S]=M.useState(!1),[E,j]=M.useState(""),[D,P]=M.useState([]),[q,G]=M.useState(""),[le,se]=M.useState(null),[U,Y]=M.useState(null),[R,J]=M.useState(null),[ne,L]=M.useState(null),[ge,Ae]=M.useState(""),[he,X]=M.useState(""),{signOut:pe,user:ve}=Qo(),be=Ms(),[Me,pn]=M.useState(!1),[Un,_r]=M.useState(!1),[Gr,Kr]=M.useState(!1),[Hs,Xi]=M.useState(!1),[Zi,$n]=M.useState(!1),[qs,pa]=M.useState(""),[Qr,Yr]=M.useState(!1),[Sn,V]=M.useState("yearly"),[W,de]=M.useState(0),xe=[{text:"Beeka AI has completely transformed how I prepare for exams. I've improved my grades significantly with much less stress.",author:"Sarah Johnson, Medical Student"},{text:"The AI chat feature feels like having a tutor available 24/7. It explains complex concepts in ways that actually make sense.",author:"Michael Chen, Computer Science Major"},{text:"The AI-powered quizzes are challenging but fair. They've helped me identify my weak areas and improve significantly.",author:"Alex Rodriguez, Business Student"},{text:"The flashcard system uses spaced repetition which helped me retain information long-term. Ace my finals thanks to Study Buddy!",author:"Jessica Patel, Law Student"},{text:"I love how Beeka AI adapts to my learning style. The personalized approach makes studying so much more effective.",author:"Emma Wilson, Psychology Major"},{text:"The note generation feature is incredible! It helped me organize my thoughts and create comprehensive study materials in minutes.",author:"David Kim, Engineering Student"}];M.useEffect(()=>{const B=localStorage.getItem("folders");B&&T(JSON.parse(B))},[]),M.useEffect(()=>{const B=setInterval(()=>{de(ee=>(ee+1)%xe.length)},3e3);return()=>clearInterval(B)},[xe.length]);const De=async()=>{if(v.trim()){if(w.some(B=>B.name.toLowerCase()===v.toLowerCase())){alert("A folder with that name already exists. Please use a different name.");return}try{const B=await fetch(`${Je}/folders`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:v,user_id:(ve==null?void 0:ve.uid)||"default"})});if(!B.ok)throw new Error("Failed to create folder in backend");const ie={id:(await B.json()).id,name:v,resources:[],spaces:[]};T([...w,ie]),x(""),s(!1)}catch(B){alert(B instanceof Error?B.message:"Failed to create folder")}}},Wt=()=>{_(null),O(null),k(!1),e(!0)},Gt=B=>{_(B),e(!1),k(!0),O(null)},pt=async B=>{if(I)try{let ee="";B==="chat"?ee=`Chat ${new Date().toLocaleDateString()}`:B==="notes"?ee=`Note ${new Date().toLocaleDateString()}`:B==="quiz"?ee=`Quiz ${new Date().toLocaleDateString()}`:B==="flashcards"?ee=`FlashC ${new Date().toLocaleDateString()}`:B==="solve"&&(ee=`Write ${new Date().toLocaleDateString()}`);const ie={type:B,name:ee,folder_id:I.id},Re=await fetch(`${Je}/spaces`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(ie)});if(!Re.ok){const Ve=await Re.json().catch(()=>null);throw new Error((Ve==null?void 0:Ve.detail)||"Failed to create space")}const $e=await Re.json(),Ye={...I,spaces:[...I.spaces,$e]};T(w.map(Ve=>Ve.id===I.id?Ye:Ve)),_(Ye),O($e),a(!1),k(!0)}catch(ee){alert(ee instanceof Error?ee.message:"Failed to create space")}},tr=async()=>{try{await pe(),be("/signin")}catch(B){console.error("Failed to log out:",B)}},Tn=async B=>{if(!I){alert("Please select a folder first");return}if(!B.type.includes("pdf")){alert("Please upload PDF files only");return}if(B.size>10*1024*1024){alert("File size must be less than 10MB");return}f(!0),g(0);const ee=new FormData;ee.append("file",B);try{const ie=await fetch(`${Je}/upload/${I.id}`,{method:"POST",body:ee});if(!ie.ok){const Ye=await ie.json();throw new Error(Ye.detail||"Upload failed")}const Re=await ie.json();console.log("Upload success:",Re);const $e={...I,resources:[...I.resources,{id:Re.id,name:Re.name}]};_($e),T(w.map(Ye=>Ye.id===I.id?$e:Ye)),u(!1)}catch(ie){console.error("Upload error:",ie),alert(ie instanceof Error?ie.message:"Failed to upload file. Please try again.")}finally{f(!1),g(0)}},St=B=>{O(B),k(!1)},In=B=>{B.preventDefault(),B.stopPropagation(),S(B.type==="dragenter"||B.type==="dragover")},Kt=B=>{var ee;B.preventDefault(),B.stopPropagation(),S(!1),(ee=B.dataTransfer.files)!=null&&ee.length&&Array.from(B.dataTransfer.files).forEach(ie=>Tn(ie))},xu=async(B,ee)=>{try{const ie=await fetch(`${Je}/ask`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({question:B,context:ee})});if(!ie.ok)throw new Error("Failed to connect to the AI service.");return(await ie.json()).response}catch(ie){throw console.error("Error connecting to AI service:",ie),ie}},wu=async B=>{let ie=0;for(;ie<3;)try{const $e=(await Promise.all(B.map(async _t=>{const Cn=await fetch(`${Je}/file-content/${_t}`);if(!Cn.ok)throw new Error(`Failed to fetch content for file ID: ${_t}`);return(await Cn.json()).content}))).join(`

---

`),Ye=await fetch(`${Je}/generate-notes`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({context:$e})});if(!Ye.ok){const _t=await Ye.json();throw new Error(_t.detail||"Failed to generate notes")}const Ve=await Ye.json();if(!Ve.notes||Ve.notes.trim()==="")throw new Error("Generated notes are empty");if(N&&N.type==="notes"){const _t=Ve.notes.split(`
`)[0].trim(),Cn=_t.startsWith("#")?_t.substring(1).trim():_t,Ks=await fetch(`${Je}/spaces/${N.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({...N,name:Cn,notes:Ve.notes})});if(!Ks.ok)throw new Error("Failed to update space with notes");const Qs=await Ks.json();if(O(Qs),I){const Ys=I.spaces.map(rs=>rs.id===N.id?Qs:rs),nr={...I,spaces:Ys};T(rs=>rs.map(va=>va.id===I.id?nr:va))}}return Ve.notes}catch(Re){if(console.error(`Error generating notes (attempt ${ie+1}/3):`,Re),ie++,ie===3){const $e="Failed to generate notes after multiple attempts. Please try again.";throw new Error($e)}await new Promise($e=>setTimeout($e,1e3*Math.pow(2,ie)))}},es=async(B,ee)=>{try{const ie=await fetch(`${Je}/generate-quiz`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({file_ids:B,options:ee})});if(!ie.ok){const $e=await ie.json();throw new Error($e.detail||"Failed to generate quiz")}const Re=await ie.json();if(N&&N.type==="quiz"){const $e={...N,notes:Re.quiz};if(O($e),I){const Ye=I.spaces.map(_t=>_t.id===N.id?$e:_t),Ve={...I,spaces:Ye};T(_t=>_t.map(Cn=>Cn.id===I.id?Ve:Cn))}}return Re.quiz}catch(ie){throw console.error("Error generating quiz:",ie),new Error(ie instanceof Error?ie.message:"Failed to generate quiz. Please try again.")}},ma=async B=>{try{const ee=await fetch(`${Je}/generate-flashcards`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({file_ids:B})});if(!ee.ok){const Re=await ee.json();throw new Error(Re.detail||"Failed to generate flashcards")}const ie=await ee.json();if(N&&N.type==="flashcards"){const Re={...N,notes:ie.flashcards};if(O(Re),I){const $e=I.spaces.map(Ve=>Ve.id===N.id?Re:Ve),Ye={...I,spaces:$e};T(Ve=>Ve.map(_t=>_t.id===I.id?Ye:_t))}}return ie.flashcards}catch(ee){throw console.error("Error generating flashcards:",ee),new Error(ee instanceof Error?ee.message:"Failed to generate flashcards. Please try again.")}},Ws=async(B,ee)=>{try{if(!(await fetch(`${Je}/folders/${B}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:ee})})).ok)throw new Error("Failed to rename folder");T(w.map(Re=>Re.id===B?{...Re,name:ee}:Re)),J(null)}catch(ie){console.error("Error renaming folder:",ie),alert("Failed to rename folder. Please try again.")}},Er=async B=>{if(window.confirm("Are you sure you want to remove this folder? This action cannot be undone."))try{if(!(await fetch(`${Je}/folders/${B}`,{method:"DELETE"})).ok)throw new Error("Failed to remove folder");T(w.filter(ie=>ie.id!==B)),(I==null?void 0:I.id)===B&&(_(null),k(!1))}catch(ee){console.error("Error removing folder:",ee),alert("Failed to remove folder. Please try again.")}},ga=async(B,ee)=>{try{if(!(await fetch(`${Je}/spaces/${B}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:ee})})).ok)throw new Error("Failed to rename space");T(w.map(Re=>({...Re,spaces:Re.spaces.map($e=>$e.id===B?{...$e,name:ee}:$e)}))),L(null)}catch(ie){console.error("Error renaming space:",ie),alert("Failed to rename space. Please try again.")}},Gs=async B=>{if(window.confirm("Are you sure you want to remove this space? This action cannot be undone."))try{if(!(await fetch(`${Je}/spaces/${B}`,{method:"DELETE"})).ok)throw new Error("Failed to remove space");T(w.map(ie=>({...ie,spaces:ie.spaces.filter(Re=>Re.id!==B)}))),(N==null?void 0:N.id)===B&&O(null)}catch(ee){console.error("Error removing space:",ee),alert("Failed to remove space. Please try again.")}},ts=async B=>{if(!N)return;const ee="";if(ee!==N.name)try{const ie=await fetch(`${Je}/spaces/${B}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({...N,name:ee})});if(!ie.ok)throw new Error("Failed to update space name");const Re=await ie.json();if(O(Re),I){const $e=I.spaces.map(Ve=>Ve.id===B?Re:Ve),Ye={...I,spaces:$e};T(w.map(Ve=>Ve.id===I.id?Ye:Ve))}}catch(ie){console.error("Error updating space name:",ie)}},ns=async()=>{try{if(!ve)return;await pe(),be("/signin")}catch(B){console.error("Error deleting account:",B),alert("Failed to delete account. Please try again.")}};return d.jsxs("div",{className:"flex flex-col md:flex-row min-h-screen bg-[#0A0B14]",children:[d.jsxs("div",{className:"md:hidden flex items-center justify-between p-4 bg-[#12141F] text-white",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsxs("svg",{width:"32",height:"32",viewBox:"0 0 64 64",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[d.jsx("defs",{children:d.jsxs("linearGradient",{id:"bStudyGradientMobile",x1:"0",y1:"0",x2:"64",y2:"64",gradientUnits:"userSpaceOnUse",children:[d.jsx("stop",{"stop-color":"#6EE7B7"}),d.jsx("stop",{offset:"0.5","stop-color":"#3B82F6"}),d.jsx("stop",{offset:"1","stop-color":"#A78BFA"})]})}),d.jsx("path",{d:"M12 48 Q32 36 52 48 Q32 60 12 48 Z",fill:"url(#bStudyGradientMobile)",opacity:"0.7"}),d.jsx("path",{d:"M20 44 Q32 38 44 44",stroke:"#fff",strokeWidth:"2",fill:"none"}),d.jsx("polygon",{points:"32,10 48,18 32,26 16,18",fill:"url(#bStudyGradientMobile)",opacity:"0.8"}),d.jsx("path",{d:"M28 20 v24 q0 4 4 4 h2 q8 0 8-8 q0-4-4-6 q4-2 4-6 q0-8-8-8 h-2 q-4 0-4 4 z M32 24 h2 q4 0 4 4 q0 4-4 4 h-2 z M32 36 h2 q4 0 4 4 q0 4-4 4 h-2 z",fill:"#fff",stroke:"url(#bStudyGradientMobile)",strokeWidth:"1.5"})]}),d.jsx("h1",{className:"text-xl font-bold",children:"Beeka AI"})]}),d.jsx("button",{onClick:()=>r(!n),className:"p-2",children:d.jsx(Pw,{size:24})})]}),d.jsxs("div",{className:`${n?"translate-x-0":"-translate-x-full"} 
        md:translate-x-0 ${t?"w-full md:w-64":"w-16"} 
        bg-[#12141F] text-white transition-all duration-300 flex flex-col fixed md:relative h-screen z-40`,children:[d.jsx("div",{className:"p-4 flex items-center justify-between md:justify-center border-b border-gray-700 sticky top-0 bg-[#12141F] z-10",children:t?d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsxs("svg",{width:"40",height:"40",viewBox:"0 0 64 64",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[d.jsx("defs",{children:d.jsxs("linearGradient",{id:"bStudyGradient",x1:"0",y1:"0",x2:"64",y2:"64",gradientUnits:"userSpaceOnUse",children:[d.jsx("stop",{"stop-color":"#6EE7B7"}),d.jsx("stop",{offset:"0.5","stop-color":"#3B82F6"}),d.jsx("stop",{offset:"1","stop-color":"#A78BFA"})]})}),d.jsx("path",{d:"M12 48 Q32 36 52 48 Q32 60 12 48 Z",fill:"url(#bStudyGradient)",opacity:"0.7"}),d.jsx("path",{d:"M20 44 Q32 38 44 44",stroke:"#fff",strokeWidth:"2",fill:"none"}),d.jsx("polygon",{points:"32,10 48,18 32,26 16,18",fill:"url(#bStudyGradient)",opacity:"0.8"}),d.jsx("path",{d:"M28 20 v24 q0 4 4 4 h2 q8 0 8-8 q0-4-4-6 q4-2 4-6 q0-8-8-8 h-2 q-4 0-4 4 z M32 24 h2 q4 0 4 4 q0 4-4 4 h-2 z M32 36 h2 q4 0 4 4 q0 4-4 4 h-2 z",fill:"#fff",stroke:"url(#bStudyGradient)",strokeWidth:"1.5"})]}),d.jsx("h1",{className:"text-xl font-bold",children:"Beeka AI"})]}),d.jsx("button",{onClick:()=>r(!1),className:"md:hidden",children:d.jsx(Yt,{size:24})})]}):d.jsxs("svg",{width:"40",height:"40",viewBox:"0 0 64 64",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[d.jsx("defs",{children:d.jsxs("linearGradient",{id:"bStudyGradient2",x1:"0",y1:"0",x2:"64",y2:"64",gradientUnits:"userSpaceOnUse",children:[d.jsx("stop",{"stop-color":"#6EE7B7"}),d.jsx("stop",{offset:"0.5","stop-color":"#3B82F6"}),d.jsx("stop",{offset:"1","stop-color":"#A78BFA"})]})}),d.jsx("path",{d:"M12 48 Q32 36 52 48 Q32 60 12 48 Z",fill:"url(#bStudyGradient2)",opacity:"0.7"}),d.jsx("path",{d:"M20 44 Q32 38 44 44",stroke:"#fff",strokeWidth:"2",fill:"none"}),d.jsx("polygon",{points:"32,10 48,18 32,26 16,18",fill:"url(#bStudyGradient2)",opacity:"0.8"}),d.jsx("path",{d:"M28 20 v24 q0 4 4 4 h2 q8 0 8-8 q0-4-4-6 q4-2 4-6 q0-8-8-8 h-2 q-4 0-4 4 z M32 24 h2 q4 0 4 4 q0 4-4 4 h-2 z M32 36 h2 q4 0 4 4 q0 4-4 4 h-2 z",fill:"#fff",stroke:"url(#bStudyGradient2)",strokeWidth:"1.5"})]})}),d.jsxs("div",{className:"flex flex-col h-full overflow-hidden",children:[d.jsxs("nav",{className:"flex-1 overflow-y-auto py-4",children:[d.jsxs("button",{onClick:Wt,className:"w-full p-4 flex items-center gap-3 hover:bg-[#1A1D2E] transition-colors",children:[d.jsx(z3,{size:20}),t&&d.jsx("span",{children:"Home"})]}),d.jsxs("button",{onClick:()=>s(!0),className:"w-full p-4 flex items-center gap-3 hover:bg-[#1A1D2E] transition-colors",children:[d.jsx(dm,{size:20}),t&&d.jsx("span",{children:"Create Folder"})]}),d.jsx("div",{className:"px-4 py-2",children:w.map(B=>d.jsx("div",{className:"relative",onMouseEnter:()=>se(B.id),onMouseLeave:()=>se(null),children:d.jsxs("div",{onClick:()=>Gt(B),className:"w-full p-2 flex items-center justify-between hover:bg-[#1A1D2E] rounded transition-colors cursor-pointer",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(ql,{size:16}),R===B.id?d.jsx("input",{type:"text",value:ge,onChange:ee=>Ae(ee.target.value),onBlur:()=>{ge.trim()&&Ws(B.id,ge),J(null)},onKeyPress:ee=>{ee.key==="Enter"&&ge.trim()&&(Ws(B.id,ge),J(null))},className:"bg-[#2A2D3E] text-white px-2 py-1 rounded",autoFocus:!0}):d.jsx(d.Fragment,{children:t&&d.jsx("span",{children:B.name})})]}),le===B.id&&t&&d.jsxs("div",{className:"relative",children:[d.jsx("div",{className:"p-1 hover:bg-[#2A2D3E] rounded cursor-pointer",onClick:ee=>{ee.stopPropagation();const ie=ee.currentTarget.nextElementSibling;ie&&ie.classList.toggle("hidden")},children:d.jsx(Rc,{size:16})}),d.jsxs("div",{className:"absolute right-0 mt-1 bg-[#2A2D3E] rounded-lg shadow-lg py-1 w-32 hidden",children:[d.jsx("div",{onClick:ee=>{ee.stopPropagation(),J(B.id),Ae(B.name)},className:"w-full px-4 py-2 text-left hover:bg-[#353849] text-sm cursor-pointer",children:"Rename"}),d.jsx("div",{onClick:ee=>{ee.stopPropagation(),Er(B.id)},className:"w-full px-4 py-2 text-left hover:bg-[#353849] text-sm text-red-400 cursor-pointer",children:"Remove"})]})]})]})},B.id))})]}),d.jsxs("div",{className:"mt-auto border-t border-gray-700 p-4 space-y-2",children:[d.jsxs("button",{onClick:()=>e(!t),className:"w-full p-2 flex items-center gap-2 hover:bg-[#1A1D2E] rounded transition-colors",children:[d.jsx(Pw,{size:20}),t&&d.jsx("span",{children:"Close Sidebar"})]}),d.jsxs("button",{onClick:()=>Kr(!0),className:"w-full p-2 flex items-center gap-2 hover:bg-[#1A1D2E] rounded transition-colors",children:[d.jsx("div",{className:"p-1 rounded-full bg-gradient-to-r from-green-400 to-green-600",children:d.jsx("svg",{className:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 18h.01M8 21h8a2 2 0 002-2V5a2 2 0 00-2-2H8a2 2 0 00-2 2v14a2 2 0 002 2z"})})}),t&&d.jsx("span",{children:"Mobile App"})]}),d.jsxs("button",{onClick:()=>_r(!0),className:"w-full p-2 flex items-center gap-2 hover:bg-[#1A1D2E] rounded transition-colors",children:[d.jsx("div",{className:"p-1 rounded-full bg-gradient-to-r from-yellow-400 to-yellow-600",children:d.jsx("svg",{className:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z"})})}),t&&d.jsx("span",{children:"Upgrade to Pro"})]}),d.jsx("div",{className:"relative",children:d.jsxs("button",{onClick:()=>pn(!Me),className:"w-full p-2 flex items-center gap-2 hover:bg-[#1A1D2E] rounded transition-colors",children:[d.jsx(X3,{size:20}),t&&d.jsx("span",{children:"Profile"})]})})]})]})]}),I&&A&&d.jsxs("div",{className:"w-64 bg-[#12141F] text-white p-6 border-r border-gray-700 h-screen overflow-hidden flex flex-col",children:[d.jsx("h2",{className:"text-2xl font-bold mb-6 sticky top-0 bg-[#12141F] z-10",children:I.name}),d.jsxs("div",{className:"space-y-4 overflow-y-auto flex-1",children:[d.jsxs("button",{onClick:()=>u(!0),className:"w-full py-2 px-4 bg-[#2A2D3E] hover:bg-[#353849] rounded-lg flex items-center gap-2",children:[d.jsx(q3,{size:18}),d.jsx("span",{children:"Add Files"})]}),d.jsxs("button",{onClick:()=>{I&&I.resources.length>0},className:"w-full py-2 px-4 bg-[#2A2D3E] hover:bg-[#353849] rounded-lg flex items-center gap-2",children:[d.jsx(F3,{size:18}),d.jsx("span",{children:"View Resources"})]}),d.jsx("div",{className:"w-full h-px bg-gray-700 my-6"}),d.jsx("button",{onClick:()=>a(!0),className:"w-full py-2 px-4 bg-[#2A2D3E] hover:bg-[#353849] rounded-lg",children:"Create Space"}),d.jsx("div",{className:"mt-4 space-y-2",children:I.spaces.map(B=>d.jsx("div",{className:"relative group",onMouseEnter:()=>Y(B.id),onMouseLeave:()=>Y(null),children:d.jsxs("button",{onClick:()=>St(B),className:"w-full p-2 flex items-center justify-between hover:bg-[#1A1D2E] rounded text-left",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[B.type==="chat"&&d.jsx(Gl,{size:16}),B.type==="notes"&&d.jsx(Qn,{size:16}),B.type==="quiz"&&d.jsx(Nh,{size:16}),ne===B.id?d.jsx("input",{type:"text",value:he,onChange:ee=>X(ee.target.value),onBlur:()=>{he.trim()&&ga(B.id,he),L(null)},onKeyPress:ee=>{ee.key==="Enter"&&he.trim()&&(ga(B.id,he),L(null))},className:"bg-[#2A2D3E] text-white px-2 py-1 rounded",autoFocus:!0}):d.jsx("span",{children:B.name})]}),U===B.id&&d.jsxs("div",{className:"relative",children:[d.jsx("button",{className:"p-1 hover:bg-[#2A2D3E] rounded",onClick:ee=>{ee.stopPropagation();const ie=ee.currentTarget.nextElementSibling;ie&&ie.classList.toggle("hidden")},children:d.jsx(Rc,{size:16})}),d.jsxs("div",{className:"absolute right-0 mt-1 bg-[#2A2D3E] rounded-lg shadow-lg py-1 w-32 hidden",children:[d.jsx("button",{onClick:ee=>{ee.stopPropagation(),L(B.id),X(B.name)},className:"w-full px-4 py-2 text-left hover:bg-[#353849] text-sm",children:"Rename"}),d.jsx("button",{onClick:ee=>{ee.stopPropagation(),Gs(B.id)},className:"w-full px-4 py-2 text-left hover:bg-[#353849] text-sm text-red-400",children:"Remove"})]})]})]})},B.id))})]})]}),d.jsx("div",{className:"flex-1 md:ml-0 mt-16 md:mt-0 h-screen overflow-hidden",children:N?d.jsxs("div",{className:"h-full overflow-y-auto",children:[N.type==="chat"&&d.jsx(sM,{spaceId:N.id,pdfText:E,messages:D,message:q,setMessage:G,setMessages:P,setPdfText:j,resources:(I==null?void 0:I.resources)||[],onSendMessage:xu,onMessageSent:()=>ts(N.id)}),N.type==="notes"&&d.jsx(L7,{spaceId:N.id,resources:(I==null?void 0:I.resources)||[],onGenerate:wu,initialNotes:N.notes,onNotesGenerated:()=>{N&&ts(N.id)}}),N.type==="quiz"&&d.jsx(F7,{resources:(I==null?void 0:I.resources)||[],onGenerate:es,initialQuiz:N.notes,onQuizGenerated:()=>ts(N.id)}),N.type==="flashcards"&&d.jsx(V7,{resources:(I==null?void 0:I.resources)||[],onGenerate:ma,onFlashcardsGenerated:()=>ts(N.id)}),N.type==="solve"&&d.jsxs("div",{className:"p-8 text-white text-center",children:[d.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Write"}),d.jsx("p",{children:"Coming Soon..."})]})]}):I?d.jsx("div",{className:"p-8",children:d.jsx(oM,{resources:(I==null?void 0:I.resources)||[]})}):d.jsx("div",{className:"h-full overflow-y-auto scrollbar-hide",children:d.jsx(M7,{onCreateFolder:()=>s(!0),onCreateSpace:pt,folders:w})})}),i&&d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:d.jsxs("div",{className:"bg-[#12141F] rounded-lg p-6 w-full max-w-sm text-white",children:[d.jsxs("div",{className:"flex justify-between items-center mb-4",children:[d.jsx("h3",{className:"text-xl font-bold",children:"Create a New Folder"}),d.jsx("button",{onClick:()=>s(!1),children:d.jsx(Yt,{size:20})})]}),d.jsx("input",{type:"text",value:v,onChange:B=>x(B.target.value),placeholder:"Enter folder name",className:"w-full p-2 bg-[#1A1D2E] border border-gray-700 rounded mb-4 text-white"}),d.jsx("button",{onClick:De,className:"w-full py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors",children:"Create"})]})}),o&&d.jsx("div",{className:"fixed inset-0 bg-black/30 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:d.jsxs("div",{className:"bg-[#12141F] rounded-xl p-8 w-full max-w-4xl text-white",children:[d.jsxs("div",{className:"flex justify-between items-center mb-8",children:[d.jsx("h3",{className:"text-2xl font-bold",children:"Create Your Study Space"}),d.jsx("button",{onClick:()=>a(!1),className:"hover:bg-[#2A2D3E] p-2 rounded-lg transition-colors",children:d.jsx(Yt,{size:24})})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("button",{onClick:()=>pt("chat"),className:"bg-[#2A2D3E] hover:bg-[#353849] p-4 rounded-xl flex flex-col items-center text-center gap-3 transition-all hover:scale-105 md:col-span-2",children:[d.jsx(Gl,{size:28,className:"text-blue-400"}),d.jsx("h4",{className:"text-lg font-semibold",children:"Chat with AI"}),d.jsx("p",{className:"text-gray-400 text-sm",children:"Get instant answers and explanations from your AI study buddy"})]}),d.jsxs("button",{onClick:()=>pt("notes"),className:"bg-[#2A2D3E] hover:bg-[#353849] p-4 rounded-xl flex flex-col items-center text-center gap-3 transition-all hover:scale-105",children:[d.jsx(Qn,{size:24,className:"text-green-400"}),d.jsx("h4",{className:"text-lg font-semibold",children:"Generate Notes"}),d.jsx("p",{className:"text-gray-400 text-sm",children:"Create comprehensive study notes from your materials"})]}),d.jsxs("button",{onClick:()=>pt("quiz"),className:"bg-[#2A2D3E] hover:bg-[#353849] p-4 rounded-xl flex flex-col items-center text-center gap-3 transition-all hover:scale-105",children:[d.jsx(Nh,{size:24,className:"text-purple-400"}),d.jsx("h4",{className:"text-lg font-semibold",children:"Generate Questions"}),d.jsx("p",{className:"text-gray-400 text-sm",children:"Create practice questions to test your knowledge"})]}),d.jsxs("button",{onClick:()=>pt("flashcards"),className:"bg-[#2A2D3E] hover:bg-[#353849] p-4 rounded-xl flex flex-col items-center text-center gap-3 transition-all hover:scale-105",children:[d.jsx(wy,{size:24,className:"text-yellow-400"}),d.jsx("h4",{className:"text-lg font-semibold",children:"Flashcards"}),d.jsx("p",{className:"text-gray-400 text-sm",children:"Create and study with interactive flashcards"})]}),d.jsxs("button",{onClick:()=>pt("solve"),className:"bg-[#2A2D3E] hover:bg-[#353849] p-4 rounded-xl flex flex-col items-center text-center gap-3 transition-all hover:scale-105",children:[d.jsx(GS,{size:24,className:"text-red-400"}),d.jsx("h4",{className:"text-lg font-semibold",children:"Write"}),d.jsx("p",{className:"text-gray-400 text-sm",children:"Write Essays, Reports, and more"})]})]})]})}),l&&d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:d.jsxs("div",{className:"bg-[#12141F] rounded-lg p-6 w-full max-w-lg text-white",children:[d.jsxs("div",{className:"flex justify-between items-center mb-4",children:[d.jsx("h3",{className:"text-xl font-bold",children:"Add Resources"}),d.jsx("button",{onClick:()=>u(!1),children:d.jsx(Yt,{size:20})})]}),d.jsx("div",{onDragEnter:In,onDragLeave:In,onDragOver:In,onDrop:Kt,className:`border-2 border-dashed rounded-lg p-8 text-center ${b?"border-blue-500 bg-[#1A1D2E]":"border-gray-700"}`,children:h?d.jsxs("div",{className:"space-y-4",children:[d.jsx("div",{className:"w-full bg-gray-700 rounded-full h-2.5",children:d.jsx("div",{className:"bg-blue-600 h-2.5 rounded-full transition-all duration-300",style:{width:`${p}%`}})}),d.jsxs("p",{className:"text-gray-400",children:["Uploading... ",p,"%"]})]}):d.jsxs(d.Fragment,{children:[d.jsx("input",{type:"file",multiple:!0,accept:".pdf",onChange:B=>{B.target.files&&Array.from(B.target.files).forEach(ee=>Tn(ee))},className:"hidden",id:"file-upload"}),d.jsx("label",{htmlFor:"file-upload",className:"cursor-pointer text-blue-400 hover:text-blue-300",children:"Click to browse"}),d.jsx("span",{className:"text-gray-400",children:" or drag and drop PDFs here"})]})})]})}),Gr&&d.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:d.jsx("div",{className:"bg-[#12141F] rounded-xl p-8 max-w-md w-full text-white",children:d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"w-16 h-16 mx-auto mb-4 rounded-full bg-gradient-to-r from-green-400 to-green-600 flex items-center justify-center",children:d.jsx("svg",{className:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 18h.01M8 21h8a2 2 0 002-2V5a2 2 0 00-2-2H8a2 2 0 00-2 2v14a2 2 0 002 2z"})})}),d.jsx("h3",{className:"text-2xl font-bold mb-2",children:"Coming Soon!"}),d.jsx("p",{className:"text-gray-400 mb-6",children:"Our mobile app is currently under development. Stay tuned for the release!"}),d.jsx("button",{onClick:()=>Kr(!1),className:"px-6 py-2 bg-green-600 hover:bg-green-700 rounded-lg transition-colors",children:"Got it"})]})})}),Un&&d.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:d.jsxs("div",{className:"bg-[#12141F] rounded-xl p-8 max-w-6xl w-full text-white",children:[d.jsxs("div",{className:"flex justify-between items-center mb-8",children:[d.jsx("h3",{className:"text-2xl font-bold",children:"Subscribe to Study Buddy AI!"}),d.jsx("button",{onClick:()=>_r(!1),className:"hover:bg-[#2A2D3E] p-2 rounded-lg transition-colors",children:d.jsx(Yt,{size:24})})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"space-y-4",children:[d.jsxs("button",{onClick:()=>V("yearly"),className:`w-full p-4 rounded-xl flex items-center justify-between group relative ${Sn==="yearly"?"bg-[#353849] border border-blue-500":"bg-[#2A2D3E] hover:bg-[#353849]"}`,children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:`w-5 h-5 rounded-full border-2 flex items-center justify-center ${Sn==="yearly"?"border-blue-500":"border-gray-600"}`,children:Sn==="yearly"&&d.jsx("div",{className:"w-3 h-3 rounded-full bg-blue-500"})}),d.jsx("span",{className:"font-medium",children:"Yearly"})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("span",{className:"text-2xl font-bold",children:"$25"}),d.jsx("span",{className:"text-sm text-gray-400",children:"/year"})]}),d.jsx("div",{className:"absolute -top-2 -right-2 bg-green-500 text-xs px-2 py-1 rounded-full",children:"65% Cheaper"})]}),d.jsxs("button",{onClick:()=>V("monthly"),className:`w-full p-4 rounded-xl flex items-center justify-between ${Sn==="monthly"?"bg-[#353849] border border-blue-500":"bg-[#2A2D3E] hover:bg-[#353849]"}`,children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:`w-5 h-5 rounded-full border-2 flex items-center justify-center ${Sn==="monthly"?"border-blue-500":"border-gray-600"}`,children:Sn==="monthly"&&d.jsx("div",{className:"w-3 h-3 rounded-full bg-blue-500"})}),d.jsx("span",{className:"font-medium",children:"Monthly"})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("span",{className:"text-2xl font-bold",children:"$6"}),d.jsx("span",{className:"text-sm text-gray-400",children:"/month"})]})]})]}),d.jsx("button",{onClick:()=>z7(Sn),className:"w-full py-3 bg-blue-600 hover:bg-blue-700 rounded-xl font-medium transition-colors",children:"Upgrade Now"})]}),d.jsxs("div",{className:"bg-[#1A1D2E] rounded-xl p-6",children:[d.jsxs("div",{className:"grid grid-cols-[minmax(0,_1fr)_auto_auto] gap-4 mb-6 items-center",children:[d.jsx("div",{})," ",d.jsx("div",{className:"text-center text-lg font-semibold",children:"Free"}),d.jsx("div",{className:"text-center text-lg font-semibold",children:"Pro"})]}),d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"grid grid-cols-[minmax(0,_1fr)_auto_auto] gap-4 items-center",children:[d.jsx("span",{className:"text-base font-bold",children:"Unlimited Space"}),d.jsx("div",{className:"flex justify-center",children:d.jsx(Yt,{size:20,className:"text-red-500"})}),d.jsx("div",{className:"flex justify-center",children:d.jsx("svg",{className:"w-5 h-5 text-green-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})})})]}),d.jsxs("div",{className:"grid grid-cols-[minmax(0,_1fr)_auto_auto] gap-4 items-center",children:[d.jsx("span",{className:"text-base font-bold",children:"Unlimited Chat"}),d.jsx("div",{className:"flex justify-center",children:d.jsx(Yt,{size:20,className:"text-red-500"})}),d.jsx("div",{className:"flex justify-center",children:d.jsx("svg",{className:"w-5 h-5 text-green-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})})})]}),d.jsxs("div",{className:"grid grid-cols-[minmax(0,_1fr)_auto_auto] gap-4 items-center",children:[d.jsx("span",{className:"text-base font-bold",children:"Unlimited Upload"}),d.jsx("div",{className:"flex justify-center",children:d.jsx(Yt,{size:20,className:"text-red-500"})}),d.jsx("div",{className:"flex justify-center",children:d.jsx("svg",{className:"w-5 h-5 text-green-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})})})]})]})]})]}),d.jsxs("div",{className:"mt-8 text-center text-gray-400 italic",children:[xe[W].text,d.jsxs("p",{className:"mt-2 not-italic font-semibold text-white",children:["- ",xe[W].author]})]})]})}),Me&&d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:d.jsxs("div",{className:"bg-[#12141F] rounded-lg p-6 w-full max-w-sm text-white",children:[d.jsxs("div",{className:"flex justify-between items-center mb-4",children:[d.jsx("h3",{className:"text-xl font-bold",children:"Profile"}),d.jsxs("div",{className:"relative",children:[d.jsx("button",{onClick:()=>Yr(!Qr),className:"p-2 hover:bg-[#2A2D3E] rounded-lg transition-colors",children:d.jsx(Rc,{size:20})}),Qr&&d.jsx("div",{className:"absolute right-0 top-full mt-2 bg-[#1A1D2E] rounded-lg shadow-lg py-1 w-48",children:d.jsx("button",{onClick:B=>{B.stopPropagation(),Yr(!1),Xi(!0)},className:"w-full px-4 py-2 text-left text-red-400 hover:bg-[#2A2D3E] text-sm",children:"Delete Account"})})]})]}),d.jsxs("div",{className:"flex items-center gap-3 mb-6 p-4 bg-[#1A1D2E] rounded-lg",children:[d.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-r from-blue-500 to-blue-600 flex items-center justify-center",children:d.jsx("span",{className:"text-xl font-semibold text-white",children:(wt=(ya=ve==null?void 0:ve.email)==null?void 0:ya[0])==null?void 0:wt.toUpperCase()})}),d.jsxs("div",{children:[d.jsx("p",{className:"font-medium text-white",children:ve==null?void 0:ve.email}),d.jsx("p",{className:"text-sm text-gray-400",children:"Free Plan"})]})]}),d.jsxs("div",{className:"space-y-3",children:[d.jsxs("button",{onClick:()=>{pn(!1),_r(!0)},className:"w-full py-2 px-4 bg-[#2A2D3E] hover:bg-[#353849] rounded-lg flex items-center gap-2",children:[d.jsx("div",{className:"p-1 rounded-full bg-gradient-to-r from-yellow-400 to-yellow-600",children:d.jsx("svg",{className:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z"})})}),d.jsx("span",{children:"Upgrade to Pro"})]}),d.jsxs("button",{onClick:()=>{pn(!1),$n(!0)},className:"w-full py-2 px-4 bg-red-500/10 hover:bg-red-500/20 text-red-400 rounded-lg flex items-center gap-2",children:[d.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),d.jsx("span",{children:"Logout"})]}),d.jsx("button",{onClick:()=>pn(!1),className:"w-full py-2 px-4 bg-[#2A2D3E] hover:bg-[#353849] rounded-lg",children:"Cancel"})]})]})}),Hs&&d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:d.jsxs("div",{className:"bg-[#12141F] rounded-lg p-6 w-full max-w-md text-white",children:[d.jsxs("div",{className:"flex justify-between items-center mb-4",children:[d.jsx("h3",{className:"text-xl font-bold",children:"Delete Account"}),d.jsx("button",{onClick:()=>Xi(!1),children:d.jsx(Yt,{size:20})})]}),d.jsx("p",{className:"text-gray-400 mb-4",children:"Are you sure you want to delete your account? This action cannot be undone."}),d.jsxs("div",{className:"mb-4",children:[d.jsx("label",{className:"block text-sm font-medium mb-2",children:"Why are you deleting your account?"}),d.jsx("textarea",{value:qs,onChange:B=>pa(B.target.value),className:"w-full p-3 bg-[#1A1D2E] border border-gray-700 rounded-lg text-white resize-none h-32",placeholder:"Please let us know your reason..."})]}),d.jsxs("div",{className:"flex gap-3",children:[d.jsx("button",{onClick:()=>{Xi(!1),pn(!1)},className:"flex-1 py-2 px-4 bg-[#2A2D3E] hover:bg-[#353849] rounded-lg",children:"Get Help Instead"}),d.jsx("button",{onClick:ns,className:"flex-1 py-2 px-4 bg-red-500 hover:bg-red-600 text-white rounded-lg",children:"Delete Account"})]})]})}),Zi&&d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:d.jsxs("div",{className:"bg-[#12141F] rounded-lg p-6 w-full max-w-sm text-white",children:[d.jsxs("div",{className:"flex justify-between items-center mb-4",children:[d.jsx("h3",{className:"text-xl font-bold",children:"Logout"}),d.jsx("button",{onClick:()=>$n(!1),children:d.jsx(Yt,{size:20})})]}),d.jsx("p",{className:"text-gray-400 mb-6",children:"Are you sure you want to logout?"}),d.jsxs("div",{className:"flex gap-3",children:[d.jsx("button",{onClick:()=>$n(!1),className:"flex-1 py-2 px-4 bg-[#2A2D3E] hover:bg-[#353849] rounded-lg",children:"Cancel"}),d.jsx("button",{onClick:()=>{$n(!1),tr()},className:"flex-1 py-2 px-4 bg-blue-600 hover:bg-blue-700 rounded-lg",children:"Logout"})]})]})})]})}const $7=({onSubmit:t})=>{const e=["Google Search","Friend","LinkedIn","YouTube","Other"];return d.jsxs("div",{className:"w-full max-w-md space-y-8",children:[d.jsxs("div",{className:"text-center mb-8",children:[d.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"How did you hear about us?"}),d.jsx("p",{className:"text-gray-400",children:"Select where you discovered Study Buddy"})]}),d.jsx("div",{className:"space-y-4",children:e.map(n=>d.jsx("button",{onClick:()=>t(n),className:"w-full bg-[#1a1625] hover:bg-[#322c45] text-white font-medium py-3 px-4 rounded-lg transition-colors text-left",children:n},n))})]})},B7=({onSubmit:t})=>{const e=["University","High School","Other"];return d.jsxs("div",{className:"w-full max-w-md space-y-8",children:[d.jsxs("div",{className:"text-center mb-8",children:[d.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"What's your level of education?"}),d.jsx("p",{className:"text-gray-400",children:"Help us personalize your experience"})]}),d.jsx("div",{className:"space-y-4",children:e.map(n=>d.jsx("button",{onClick:()=>t(n),className:"w-full bg-[#1a1625] hover:bg-[#322c45] text-white font-medium py-3 px-4 rounded-lg transition-colors text-left",children:n},n))})]})},H7=({onSubmit:t})=>{const e=["Prepare for an exam","Get homework help","Improve grades overall","Learn new skills","Other"],[n,r]=M.useState([]),i=s=>{r(o=>o.includes(s)?o.filter(a=>a!==s):[...o,s])};return d.jsxs("div",{className:"w-full max-w-md space-y-8",children:[d.jsxs("div",{className:"text-center mb-8",children:[d.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"What's your main study goal right now?"}),d.jsx("p",{className:"text-gray-400",children:"Select all that apply"})]}),d.jsx("div",{className:"space-y-4",children:e.map(s=>d.jsx("button",{type:"button",onClick:()=>i(s),className:`w-full py-3 px-4 rounded-lg font-medium text-left transition-colors
              ${n.includes(s)?"bg-blue-600 text-white":"bg-[#1a1625] text-white hover:bg-[#322c45]"}
            `,children:s},s))}),d.jsx("button",{onClick:()=>t(n),disabled:n.length===0,className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-medium py-3 px-4 rounded-lg transition-colors mt-4 disabled:opacity-50",children:"Continue"})]})},q7=({onComplete:t})=>d.jsxs("div",{className:"w-full max-w-4xl space-y-8",children:[d.jsxs("div",{className:"text-center mb-8",children:[d.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Welcome to Study Buddy!"}),d.jsx("p",{className:"text-gray-400",children:"Watch this quick guide to get started"})]}),d.jsx("div",{className:"aspect-video bg-[#1a1625] rounded-lg overflow-hidden",children:d.jsx("iframe",{className:"w-full h-full",src:"https://www.youtube.com/embed/FMU0j_ly4kk?autoplay=1&controls=1&modestbranding=1&rel=0",title:"Welcome Video",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",allowFullScreen:!0})}),d.jsx("button",{onClick:t,className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-medium py-3 px-4 rounded-lg transition-colors",children:"Continue to Dashboard"})]}),W7=()=>{const{user:t,setUser:e}=Qo(),[n,r]=M.useState(0),i=Ms(),s=async()=>{if(t){const o=RS(HS,"users",t.uid);await P3(o,{profile_complete:!0}),e({...t,profile_complete:!0})}i("/dashboard")};return d.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-b from-[#0a0814] to-[#1a1625] p-4",children:[n===0&&d.jsx($7,{onSubmit:o=>{r(1)}}),n===1&&d.jsx(B7,{onSubmit:o=>{r(2)}}),n===2&&d.jsx(H7,{onSubmit:o=>{r(3)}}),n===3&&d.jsx(q7,{onComplete:s})]})};function G7(){const{user:t}=Qo(),e=({children:n})=>{const{user:r,loading:i}=Qo();return i?d.jsx("div",{className:"min-h-screen flex items-center justify-center",children:d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}):r?r&&r.profile_complete===!1?d.jsx(ii,{to:"/complete-profile",replace:!0}):d.jsx(d.Fragment,{children:n}):d.jsx(ii,{to:"/signin"})};return d.jsxs(hN,{children:[d.jsx(hs,{path:"/landing/*",element:t?d.jsx(ii,{to:"/dashboard",replace:!0}):d.jsx(tM,{})}),d.jsx(hs,{path:"/signup/*",element:t?d.jsx(ii,{to:"/dashboard",replace:!0}):d.jsx(nM,{})}),d.jsx(hs,{path:"/signin/*",element:t?d.jsx(ii,{to:"/dashboard",replace:!0}):d.jsx(rM,{})}),d.jsx(hs,{path:"/complete-profile",element:d.jsx(W7,{})}),d.jsx(hs,{path:"/dashboard/*",element:d.jsx(e,{children:d.jsx(U7,{})})}),d.jsx(hs,{path:"/",element:d.jsx(ii,{to:"/landing",replace:!0})})]})}function K7(){return d.jsx(vN,{children:d.jsxs(WS,{children:[d.jsx(hP,{position:"top-center"}),d.jsx(G7,{})]})})}Bf.createRoot(document.getElementById("root")).render(d.jsx(ar.StrictMode,{children:d.jsx(WS,{children:d.jsx(K7,{})})}));
